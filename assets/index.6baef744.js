(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function ag(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var be={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Go=Symbol.for("react.element"),j_=Symbol.for("react.portal"),Y_=Symbol.for("react.fragment"),G_=Symbol.for("react.strict_mode"),K_=Symbol.for("react.profiler"),Q_=Symbol.for("react.provider"),q_=Symbol.for("react.context"),X_=Symbol.for("react.forward_ref"),Z_=Symbol.for("react.suspense"),J_=Symbol.for("react.memo"),e1=Symbol.for("react.lazy"),rh=Symbol.iterator;function t1(e){return e===null||typeof e!="object"?null:(e=rh&&e[rh]||e["@@iterator"],typeof e=="function"?e:null)}var ug={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cg=Object.assign,fg={};function wi(e,t,n){this.props=e,this.context=t,this.refs=fg,this.updater=n||ug}wi.prototype.isReactComponent={};wi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dg(){}dg.prototype=wi.prototype;function Gc(e,t,n){this.props=e,this.context=t,this.refs=fg,this.updater=n||ug}var Kc=Gc.prototype=new dg;Kc.constructor=Gc;cg(Kc,wi.prototype);Kc.isPureReactComponent=!0;var ih=Array.isArray,hg=Object.prototype.hasOwnProperty,Qc={current:null},pg={key:!0,ref:!0,__self:!0,__source:!0};function mg(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)hg.call(t,r)&&!pg.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Go,type:e,key:o,ref:s,props:i,_owner:Qc.current}}function n1(e,t){return{$$typeof:Go,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function qc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Go}function r1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var oh=/\/+/g;function Ca(e,t){return typeof e=="object"&&e!==null&&e.key!=null?r1(""+e.key):t.toString(36)}function Fs(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Go:case j_:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Ca(s,0):r,ih(i)?(n="",e!=null&&(n=e.replace(oh,"$&/")+"/"),Fs(i,t,n,"",function(u){return u})):i!=null&&(qc(i)&&(i=n1(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(oh,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",ih(e))for(var l=0;l<e.length;l++){o=e[l];var a=r+Ca(o,l);s+=Fs(o,t,n,a,i)}else if(a=t1(e),typeof a=="function")for(e=a.call(e),l=0;!(o=e.next()).done;)o=o.value,a=r+Ca(o,l++),s+=Fs(o,t,n,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function ps(e,t,n){if(e==null)return e;var r=[],i=0;return Fs(e,r,"","",function(o){return t.call(n,o,i++)}),r}function i1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ot={current:null},$s={transition:null},o1={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:$s,ReactCurrentOwner:Qc};ie.Children={map:ps,forEach:function(e,t,n){ps(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ps(e,function(){t++}),t},toArray:function(e){return ps(e,function(t){return t})||[]},only:function(e){if(!qc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ie.Component=wi;ie.Fragment=Y_;ie.Profiler=K_;ie.PureComponent=Gc;ie.StrictMode=G_;ie.Suspense=Z_;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o1;ie.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=cg({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Qc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)hg.call(t,a)&&!pg.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Go,type:e.type,key:i,ref:o,props:r,_owner:s}};ie.createContext=function(e){return e={$$typeof:q_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Q_,_context:e},e.Consumer=e};ie.createElement=mg;ie.createFactory=function(e){var t=mg.bind(null,e);return t.type=e,t};ie.createRef=function(){return{current:null}};ie.forwardRef=function(e){return{$$typeof:X_,render:e}};ie.isValidElement=qc;ie.lazy=function(e){return{$$typeof:e1,_payload:{_status:-1,_result:e},_init:i1}};ie.memo=function(e,t){return{$$typeof:J_,type:e,compare:t===void 0?null:t}};ie.startTransition=function(e){var t=$s.transition;$s.transition={};try{e()}finally{$s.transition=t}};ie.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ie.useCallback=function(e,t){return ot.current.useCallback(e,t)};ie.useContext=function(e){return ot.current.useContext(e)};ie.useDebugValue=function(){};ie.useDeferredValue=function(e){return ot.current.useDeferredValue(e)};ie.useEffect=function(e,t){return ot.current.useEffect(e,t)};ie.useId=function(){return ot.current.useId()};ie.useImperativeHandle=function(e,t,n){return ot.current.useImperativeHandle(e,t,n)};ie.useInsertionEffect=function(e,t){return ot.current.useInsertionEffect(e,t)};ie.useLayoutEffect=function(e,t){return ot.current.useLayoutEffect(e,t)};ie.useMemo=function(e,t){return ot.current.useMemo(e,t)};ie.useReducer=function(e,t,n){return ot.current.useReducer(e,t,n)};ie.useRef=function(e){return ot.current.useRef(e)};ie.useState=function(e){return ot.current.useState(e)};ie.useSyncExternalStore=function(e,t,n){return ot.current.useSyncExternalStore(e,t,n)};ie.useTransition=function(){return ot.current.useTransition()};ie.version="18.2.0";(function(e){e.exports=ie})(be);const G=ag(be.exports);var wu={},Xc={exports:{}},Ct={},gg={exports:{}},vg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,D){var b=E.length;E.push(D);e:for(;0<b;){var K=b-1>>>1,H=E[K];if(0<i(H,D))E[K]=D,E[b]=H,b=K;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var D=E[0],b=E.pop();if(b!==D){E[0]=b;e:for(var K=0,H=E.length,Q=H>>>1;K<Q;){var j=2*(K+1)-1,re=E[j],de=j+1,ge=E[de];if(0>i(re,b))de<H&&0>i(ge,re)?(E[K]=ge,E[de]=b,K=de):(E[K]=re,E[j]=b,K=j);else if(de<H&&0>i(ge,b))E[K]=ge,E[de]=b,K=de;else break e}}return D}function i(E,D){var b=E.sortIndex-D.sortIndex;return b!==0?b:E.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,d=null,f=3,h=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(E){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=E)r(u),D.sortIndex=D.expirationTime,t(a,D);else break;D=n(u)}}function _(E){if(y=!1,g(E),!v)if(n(a)!==null)v=!0,W(C);else{var D=n(u);D!==null&&M(_,D.startTime-E)}}function C(E,D){v=!1,y&&(y=!1,m(P),P=-1),h=!0;var b=f;try{for(g(D),d=n(a);d!==null&&(!(d.expirationTime>D)||E&&!N());){var K=d.callback;if(typeof K=="function"){d.callback=null,f=d.priorityLevel;var H=K(d.expirationTime<=D);D=e.unstable_now(),typeof H=="function"?d.callback=H:d===n(a)&&r(a),g(D)}else r(a);d=n(a)}if(d!==null)var Q=!0;else{var j=n(u);j!==null&&M(_,j.startTime-D),Q=!1}return Q}finally{d=null,f=b,h=!1}}var S=!1,T=null,P=-1,$=5,k=-1;function N(){return!(e.unstable_now()-k<$)}function A(){if(T!==null){var E=e.unstable_now();k=E;var D=!0;try{D=T(!0,E)}finally{D?R():(S=!1,T=null)}}else S=!1}var R;if(typeof p=="function")R=function(){p(A)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,X=z.port2;z.port1.onmessage=A,R=function(){X.postMessage(null)}}else R=function(){w(A,0)};function W(E){T=E,S||(S=!0,R())}function M(E,D){P=w(function(){E(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){v||h||(v=!0,W(C))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(E){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var b=f;f=D;try{return E()}finally{f=b}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,D){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var b=f;f=E;try{return D()}finally{f=b}},e.unstable_scheduleCallback=function(E,D,b){var K=e.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?K+b:K):b=K,E){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=b+H,E={id:c++,callback:D,priorityLevel:E,startTime:b,expirationTime:H,sortIndex:-1},b>K?(E.sortIndex=b,t(u,E),n(a)===null&&E===n(u)&&(y?(m(P),P=-1):y=!0,M(_,b-K))):(E.sortIndex=H,t(a,E),v||h||(v=!0,W(C))),E},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(E){var D=f;return function(){var b=f;f=D;try{return E.apply(this,arguments)}finally{f=b}}}})(vg);(function(e){e.exports=vg})(gg);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yg=be.exports,wt=gg.exports;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _g=new Set,go={};function xr(e,t){ui(e,t),ui(e+"Capture",t)}function ui(e,t){for(go[e]=t,e=0;e<t.length;e++)_g.add(t[e])}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Su=Object.prototype.hasOwnProperty,s1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sh={},lh={};function l1(e){return Su.call(lh,e)?!0:Su.call(sh,e)?!1:s1.test(e)?lh[e]=!0:(sh[e]=!0,!1)}function a1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function u1(e,t,n,r){if(t===null||typeof t>"u"||a1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function st(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qe[e]=new st(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qe[t]=new st(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qe[e]=new st(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qe[e]=new st(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qe[e]=new st(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qe[e]=new st(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qe[e]=new st(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qe[e]=new st(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qe[e]=new st(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zc=/[\-:]([a-z])/g;function Jc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zc,Jc);Qe[t]=new st(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zc,Jc);Qe[t]=new st(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zc,Jc);Qe[t]=new st(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qe[e]=new st(e,1,!1,e.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new st("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qe[e]=new st(e,1,!1,e.toLowerCase(),null,!0,!0)});function ef(e,t,n,r){var i=Qe.hasOwnProperty(t)?Qe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(u1(t,n,i,r)&&(n=null),r||i===null?l1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var gn=yg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ms=Symbol.for("react.element"),Lr=Symbol.for("react.portal"),Fr=Symbol.for("react.fragment"),tf=Symbol.for("react.strict_mode"),xu=Symbol.for("react.profiler"),wg=Symbol.for("react.provider"),Sg=Symbol.for("react.context"),nf=Symbol.for("react.forward_ref"),Cu=Symbol.for("react.suspense"),Eu=Symbol.for("react.suspense_list"),rf=Symbol.for("react.memo"),_n=Symbol.for("react.lazy"),xg=Symbol.for("react.offscreen"),ah=Symbol.iterator;function Ri(e){return e===null||typeof e!="object"?null:(e=ah&&e[ah]||e["@@iterator"],typeof e=="function"?e:null)}var Ie=Object.assign,Ea;function qi(e){if(Ea===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ea=t&&t[1]||""}return`
`+Ea+e}var Ta=!1;function ka(e,t){if(!e||Ta)return"";Ta=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{Ta=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?qi(e):""}function c1(e){switch(e.tag){case 5:return qi(e.type);case 16:return qi("Lazy");case 13:return qi("Suspense");case 19:return qi("SuspenseList");case 0:case 2:case 15:return e=ka(e.type,!1),e;case 11:return e=ka(e.type.render,!1),e;case 1:return e=ka(e.type,!0),e;default:return""}}function Tu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fr:return"Fragment";case Lr:return"Portal";case xu:return"Profiler";case tf:return"StrictMode";case Cu:return"Suspense";case Eu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Sg:return(e.displayName||"Context")+".Consumer";case wg:return(e._context.displayName||"Context")+".Provider";case nf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case rf:return t=e.displayName||null,t!==null?t:Tu(e.type)||"Memo";case _n:t=e._payload,e=e._init;try{return Tu(e(t))}catch{}}return null}function f1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tu(t);case 8:return t===tf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function d1(e){var t=Cg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gs(e){e._valueTracker||(e._valueTracker=d1(e))}function Eg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Cg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Xs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ku(e,t){var n=t.checked;return Ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function uh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Fn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Tg(e,t){t=t.checked,t!=null&&ef(e,"checked",t,!1)}function Nu(e,t){Tg(e,t);var n=Fn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Mu(e,t.type,Fn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ch(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Mu(e,t,n){(t!=="number"||Xs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Xi=Array.isArray;function Jr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Fn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Iu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return Ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(O(92));if(Xi(n)){if(1<n.length)throw Error(O(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Fn(n)}}function kg(e,t){var n=Fn(t.value),r=Fn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function dh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ng(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ru(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ng(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vs,Mg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vs=vs||document.createElement("div"),vs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var to={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h1=["Webkit","ms","Moz","O"];Object.keys(to).forEach(function(e){h1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),to[t]=to[e]})});function Ig(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||to.hasOwnProperty(e)&&to[e]?(""+t).trim():t+"px"}function Rg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ig(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var p1=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Du(e,t){if(t){if(p1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function Pu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=null;function of(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bu=null,ei=null,ti=null;function hh(e){if(e=qo(e)){if(typeof bu!="function")throw Error(O(280));var t=e.stateNode;t&&(t=Zl(t),bu(e.stateNode,e.type,t))}}function Dg(e){ei?ti?ti.push(e):ti=[e]:ei=e}function Pg(){if(ei){var e=ei,t=ti;if(ti=ei=null,hh(e),t)for(e=0;e<t.length;e++)hh(t[e])}}function Ag(e,t){return e(t)}function bg(){}var Na=!1;function Og(e,t,n){if(Na)return e(t,n);Na=!0;try{return Ag(e,t,n)}finally{Na=!1,(ei!==null||ti!==null)&&(bg(),Pg())}}function yo(e,t){var n=e.stateNode;if(n===null)return null;var r=Zl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(O(231,t,typeof n));return n}var Ou=!1;if(dn)try{var Di={};Object.defineProperty(Di,"passive",{get:function(){Ou=!0}}),window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{Ou=!1}function m1(e,t,n,r,i,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var no=!1,Zs=null,Js=!1,Lu=null,g1={onError:function(e){no=!0,Zs=e}};function v1(e,t,n,r,i,o,s,l,a){no=!1,Zs=null,m1.apply(g1,arguments)}function y1(e,t,n,r,i,o,s,l,a){if(v1.apply(this,arguments),no){if(no){var u=Zs;no=!1,Zs=null}else throw Error(O(198));Js||(Js=!0,Lu=u)}}function Cr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Lg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ph(e){if(Cr(e)!==e)throw Error(O(188))}function _1(e){var t=e.alternate;if(!t){if(t=Cr(e),t===null)throw Error(O(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ph(i),e;if(o===r)return ph(i),t;o=o.sibling}throw Error(O(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?e:t}function Fg(e){return e=_1(e),e!==null?$g(e):null}function $g(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$g(e);if(t!==null)return t;e=e.sibling}return null}var Ug=wt.unstable_scheduleCallback,mh=wt.unstable_cancelCallback,w1=wt.unstable_shouldYield,S1=wt.unstable_requestPaint,Pe=wt.unstable_now,x1=wt.unstable_getCurrentPriorityLevel,sf=wt.unstable_ImmediatePriority,Bg=wt.unstable_UserBlockingPriority,el=wt.unstable_NormalPriority,C1=wt.unstable_LowPriority,zg=wt.unstable_IdlePriority,Kl=null,Xt=null;function E1(e){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Kl,e,void 0,(e.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:N1,T1=Math.log,k1=Math.LN2;function N1(e){return e>>>=0,e===0?32:31-(T1(e)/k1|0)|0}var ys=64,_s=4194304;function Zi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=Zi(l):(o&=s,o!==0&&(r=Zi(o)))}else s=n&~i,s!==0?r=Zi(s):o!==0&&(r=Zi(o));if(r===0)return 0;if(t!==0&&t!==r&&(t&i)===0&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Bt(t),i=1<<n,r|=e[n],t&=~i;return r}function M1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Bt(o),l=1<<s,a=i[s];a===-1?((l&n)===0||(l&r)!==0)&&(i[s]=M1(l,t)):a<=t&&(e.expiredLanes|=l),o&=~l}}function Fu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Vg(){var e=ys;return ys<<=1,(ys&4194240)===0&&(ys=64),e}function Ma(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ko(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Bt(t),e[t]=n}function R1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Bt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function lf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Bt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var he=0;function Wg(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Hg,af,jg,Yg,Gg,$u=!1,ws=[],kn=null,Nn=null,Mn=null,_o=new Map,wo=new Map,Sn=[],D1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gh(e,t){switch(e){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":_o.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wo.delete(t.pointerId)}}function Pi(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=qo(t),t!==null&&af(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function P1(e,t,n,r,i){switch(t){case"focusin":return kn=Pi(kn,e,t,n,r,i),!0;case"dragenter":return Nn=Pi(Nn,e,t,n,r,i),!0;case"mouseover":return Mn=Pi(Mn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return _o.set(o,Pi(_o.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,wo.set(o,Pi(wo.get(o)||null,e,t,n,r,i)),!0}return!1}function Kg(e){var t=Jn(e.target);if(t!==null){var n=Cr(t);if(n!==null){if(t=n.tag,t===13){if(t=Lg(n),t!==null){e.blockedOn=t,Gg(e.priority,function(){jg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Us(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Uu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Au=r,n.target.dispatchEvent(r),Au=null}else return t=qo(n),t!==null&&af(t),e.blockedOn=n,!1;t.shift()}return!0}function vh(e,t,n){Us(e)&&n.delete(t)}function A1(){$u=!1,kn!==null&&Us(kn)&&(kn=null),Nn!==null&&Us(Nn)&&(Nn=null),Mn!==null&&Us(Mn)&&(Mn=null),_o.forEach(vh),wo.forEach(vh)}function Ai(e,t){e.blockedOn===t&&(e.blockedOn=null,$u||($u=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,A1)))}function So(e){function t(i){return Ai(i,e)}if(0<ws.length){Ai(ws[0],e);for(var n=1;n<ws.length;n++){var r=ws[n];r.blockedOn===e&&(r.blockedOn=null)}}for(kn!==null&&Ai(kn,e),Nn!==null&&Ai(Nn,e),Mn!==null&&Ai(Mn,e),_o.forEach(t),wo.forEach(t),n=0;n<Sn.length;n++)r=Sn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Sn.length&&(n=Sn[0],n.blockedOn===null);)Kg(n),n.blockedOn===null&&Sn.shift()}var ni=gn.ReactCurrentBatchConfig,nl=!0;function b1(e,t,n,r){var i=he,o=ni.transition;ni.transition=null;try{he=1,uf(e,t,n,r)}finally{he=i,ni.transition=o}}function O1(e,t,n,r){var i=he,o=ni.transition;ni.transition=null;try{he=4,uf(e,t,n,r)}finally{he=i,ni.transition=o}}function uf(e,t,n,r){if(nl){var i=Uu(e,t,n,r);if(i===null)$a(e,t,r,rl,n),gh(e,r);else if(P1(i,e,t,n,r))r.stopPropagation();else if(gh(e,r),t&4&&-1<D1.indexOf(e)){for(;i!==null;){var o=qo(i);if(o!==null&&Hg(o),o=Uu(e,t,n,r),o===null&&$a(e,t,r,rl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else $a(e,t,r,null,n)}}var rl=null;function Uu(e,t,n,r){if(rl=null,e=of(r),e=Jn(e),e!==null)if(t=Cr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Lg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rl=e,null}function Qg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(x1()){case sf:return 1;case Bg:return 4;case el:case C1:return 16;case zg:return 536870912;default:return 16}default:return 16}}var Cn=null,cf=null,Bs=null;function qg(){if(Bs)return Bs;var e,t=cf,n=t.length,r,i="value"in Cn?Cn.value:Cn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Bs=i.slice(e,1<r?1-r:void 0)}function zs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ss(){return!0}function yh(){return!1}function Et(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ss:yh,this.isPropagationStopped=yh,this}return Ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),t}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ff=Et(Si),Qo=Ie({},Si,{view:0,detail:0}),L1=Et(Qo),Ia,Ra,bi,Ql=Ie({},Qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:df,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bi&&(bi&&e.type==="mousemove"?(Ia=e.screenX-bi.screenX,Ra=e.screenY-bi.screenY):Ra=Ia=0,bi=e),Ia)},movementY:function(e){return"movementY"in e?e.movementY:Ra}}),_h=Et(Ql),F1=Ie({},Ql,{dataTransfer:0}),$1=Et(F1),U1=Ie({},Qo,{relatedTarget:0}),Da=Et(U1),B1=Ie({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),z1=Et(B1),V1=Ie({},Si,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),W1=Et(V1),H1=Ie({},Si,{data:0}),wh=Et(H1),j1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=G1[e])?!!t[e]:!1}function df(){return K1}var Q1=Ie({},Qo,{key:function(e){if(e.key){var t=j1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Y1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:df,charCode:function(e){return e.type==="keypress"?zs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),q1=Et(Q1),X1=Ie({},Ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sh=Et(X1),Z1=Ie({},Qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:df}),J1=Et(Z1),ew=Ie({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),tw=Et(ew),nw=Ie({},Ql,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rw=Et(nw),iw=[9,13,27,32],hf=dn&&"CompositionEvent"in window,ro=null;dn&&"documentMode"in document&&(ro=document.documentMode);var ow=dn&&"TextEvent"in window&&!ro,Xg=dn&&(!hf||ro&&8<ro&&11>=ro),xh=String.fromCharCode(32),Ch=!1;function Zg(e,t){switch(e){case"keyup":return iw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $r=!1;function sw(e,t){switch(e){case"compositionend":return Jg(t);case"keypress":return t.which!==32?null:(Ch=!0,xh);case"textInput":return e=t.data,e===xh&&Ch?null:e;default:return null}}function lw(e,t){if($r)return e==="compositionend"||!hf&&Zg(e,t)?(e=qg(),Bs=cf=Cn=null,$r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xg&&t.locale!=="ko"?null:t.data;default:return null}}var aw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!aw[e.type]:t==="textarea"}function e0(e,t,n,r){Dg(r),t=il(t,"onChange"),0<t.length&&(n=new ff("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var io=null,xo=null;function uw(e){f0(e,0)}function ql(e){var t=zr(e);if(Eg(t))return e}function cw(e,t){if(e==="change")return t}var t0=!1;if(dn){var Pa;if(dn){var Aa="oninput"in document;if(!Aa){var Th=document.createElement("div");Th.setAttribute("oninput","return;"),Aa=typeof Th.oninput=="function"}Pa=Aa}else Pa=!1;t0=Pa&&(!document.documentMode||9<document.documentMode)}function kh(){io&&(io.detachEvent("onpropertychange",n0),xo=io=null)}function n0(e){if(e.propertyName==="value"&&ql(xo)){var t=[];e0(t,xo,e,of(e)),Og(uw,t)}}function fw(e,t,n){e==="focusin"?(kh(),io=t,xo=n,io.attachEvent("onpropertychange",n0)):e==="focusout"&&kh()}function dw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ql(xo)}function hw(e,t){if(e==="click")return ql(t)}function pw(e,t){if(e==="input"||e==="change")return ql(t)}function mw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wt=typeof Object.is=="function"?Object.is:mw;function Co(e,t){if(Wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Su.call(t,i)||!Wt(e[i],t[i]))return!1}return!0}function Nh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mh(e,t){var n=Nh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Nh(n)}}function r0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?r0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function i0(){for(var e=window,t=Xs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Xs(e.document)}return t}function pf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gw(e){var t=i0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&r0(n.ownerDocument.documentElement,n)){if(r!==null&&pf(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Mh(n,o);var s=Mh(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vw=dn&&"documentMode"in document&&11>=document.documentMode,Ur=null,Bu=null,oo=null,zu=!1;function Ih(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zu||Ur==null||Ur!==Xs(r)||(r=Ur,"selectionStart"in r&&pf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),oo&&Co(oo,r)||(oo=r,r=il(Bu,"onSelect"),0<r.length&&(t=new ff("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ur)))}function xs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Br={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionend:xs("Transition","TransitionEnd")},ba={},o0={};dn&&(o0=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function Xl(e){if(ba[e])return ba[e];if(!Br[e])return e;var t=Br[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in o0)return ba[e]=t[n];return e}var s0=Xl("animationend"),l0=Xl("animationiteration"),a0=Xl("animationstart"),u0=Xl("transitionend"),c0=new Map,Rh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wn(e,t){c0.set(e,t),xr(t,[e])}for(var Oa=0;Oa<Rh.length;Oa++){var La=Rh[Oa],yw=La.toLowerCase(),_w=La[0].toUpperCase()+La.slice(1);Wn(yw,"on"+_w)}Wn(s0,"onAnimationEnd");Wn(l0,"onAnimationIteration");Wn(a0,"onAnimationStart");Wn("dblclick","onDoubleClick");Wn("focusin","onFocus");Wn("focusout","onBlur");Wn(u0,"onTransitionEnd");ui("onMouseEnter",["mouseout","mouseover"]);ui("onMouseLeave",["mouseout","mouseover"]);ui("onPointerEnter",["pointerout","pointerover"]);ui("onPointerLeave",["pointerout","pointerover"]);xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ww=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ji));function Dh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,y1(r,t,void 0,e),e.currentTarget=null}function f0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;Dh(i,l,u),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;Dh(i,l,u),o=a}}}if(Js)throw e=Lu,Js=!1,Lu=null,e}function we(e,t){var n=t[Yu];n===void 0&&(n=t[Yu]=new Set);var r=e+"__bubble";n.has(r)||(d0(t,e,2,!1),n.add(r))}function Fa(e,t,n){var r=0;t&&(r|=4),d0(n,e,r,t)}var Cs="_reactListening"+Math.random().toString(36).slice(2);function Eo(e){if(!e[Cs]){e[Cs]=!0,_g.forEach(function(n){n!=="selectionchange"&&(ww.has(n)||Fa(n,!1,e),Fa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cs]||(t[Cs]=!0,Fa("selectionchange",!1,t))}}function d0(e,t,n,r){switch(Qg(t)){case 1:var i=b1;break;case 4:i=O1;break;default:i=uf}n=i.bind(null,t,n,e),i=void 0,!Ou||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $a(e,t,n,r,i){var o=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Jn(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}Og(function(){var u=o,c=of(n),d=[];e:{var f=c0.get(e);if(f!==void 0){var h=ff,v=e;switch(e){case"keypress":if(zs(n)===0)break e;case"keydown":case"keyup":h=q1;break;case"focusin":v="focus",h=Da;break;case"focusout":v="blur",h=Da;break;case"beforeblur":case"afterblur":h=Da;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=_h;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=$1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=J1;break;case s0:case l0:case a0:h=z1;break;case u0:h=tw;break;case"scroll":h=L1;break;case"wheel":h=rw;break;case"copy":case"cut":case"paste":h=W1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Sh}var y=(t&4)!==0,w=!y&&e==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var p=u,g;p!==null;){g=p;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,m!==null&&(_=yo(p,m),_!=null&&y.push(To(p,_,g)))),w)break;p=p.return}0<y.length&&(f=new h(f,v,null,n,c),d.push({event:f,listeners:y}))}}if((t&7)===0){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==Au&&(v=n.relatedTarget||n.fromElement)&&(Jn(v)||v[hn]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(v=n.relatedTarget||n.toElement,h=u,v=v?Jn(v):null,v!==null&&(w=Cr(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=u),h!==v)){if(y=_h,_="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=Sh,_="onPointerLeave",m="onPointerEnter",p="pointer"),w=h==null?f:zr(h),g=v==null?f:zr(v),f=new y(_,p+"leave",h,n,c),f.target=w,f.relatedTarget=g,_=null,Jn(c)===u&&(y=new y(m,p+"enter",v,n,c),y.target=g,y.relatedTarget=w,_=y),w=_,h&&v)t:{for(y=h,m=v,p=0,g=y;g;g=Rr(g))p++;for(g=0,_=m;_;_=Rr(_))g++;for(;0<p-g;)y=Rr(y),p--;for(;0<g-p;)m=Rr(m),g--;for(;p--;){if(y===m||m!==null&&y===m.alternate)break t;y=Rr(y),m=Rr(m)}y=null}else y=null;h!==null&&Ph(d,f,h,y,!1),v!==null&&w!==null&&Ph(d,w,v,y,!0)}}e:{if(f=u?zr(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var C=cw;else if(Eh(f))if(t0)C=pw;else{C=dw;var S=fw}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=hw);if(C&&(C=C(e,u))){e0(d,C,n,c);break e}S&&S(e,f,u),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Mu(f,"number",f.value)}switch(S=u?zr(u):window,e){case"focusin":(Eh(S)||S.contentEditable==="true")&&(Ur=S,Bu=u,oo=null);break;case"focusout":oo=Bu=Ur=null;break;case"mousedown":zu=!0;break;case"contextmenu":case"mouseup":case"dragend":zu=!1,Ih(d,n,c);break;case"selectionchange":if(vw)break;case"keydown":case"keyup":Ih(d,n,c)}var T;if(hf)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else $r?Zg(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Xg&&n.locale!=="ko"&&($r||P!=="onCompositionStart"?P==="onCompositionEnd"&&$r&&(T=qg()):(Cn=c,cf="value"in Cn?Cn.value:Cn.textContent,$r=!0)),S=il(u,P),0<S.length&&(P=new wh(P,e,null,n,c),d.push({event:P,listeners:S}),T?P.data=T:(T=Jg(n),T!==null&&(P.data=T)))),(T=ow?sw(e,n):lw(e,n))&&(u=il(u,"onBeforeInput"),0<u.length&&(c=new wh("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=T))}f0(d,t)})}function To(e,t,n){return{instance:e,listener:t,currentTarget:n}}function il(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=yo(e,n),o!=null&&r.unshift(To(e,o,i)),o=yo(e,t),o!=null&&r.push(To(e,o,i))),e=e.return}return r}function Rr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ph(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=yo(n,o),a!=null&&s.unshift(To(n,a,l))):i||(a=yo(n,o),a!=null&&s.push(To(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Sw=/\r\n?/g,xw=/\u0000|\uFFFD/g;function Ah(e){return(typeof e=="string"?e:""+e).replace(Sw,`
`).replace(xw,"")}function Es(e,t,n){if(t=Ah(t),Ah(e)!==t&&n)throw Error(O(425))}function ol(){}var Vu=null,Wu=null;function Hu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ju=typeof setTimeout=="function"?setTimeout:void 0,Cw=typeof clearTimeout=="function"?clearTimeout:void 0,bh=typeof Promise=="function"?Promise:void 0,Ew=typeof queueMicrotask=="function"?queueMicrotask:typeof bh<"u"?function(e){return bh.resolve(null).then(e).catch(Tw)}:ju;function Tw(e){setTimeout(function(){throw e})}function Ua(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),So(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);So(t)}function In(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Oh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var xi=Math.random().toString(36).slice(2),Qt="__reactFiber$"+xi,ko="__reactProps$"+xi,hn="__reactContainer$"+xi,Yu="__reactEvents$"+xi,kw="__reactListeners$"+xi,Nw="__reactHandles$"+xi;function Jn(e){var t=e[Qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hn]||n[Qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Oh(e);e!==null;){if(n=e[Qt])return n;e=Oh(e)}return t}e=n,n=e.parentNode}return null}function qo(e){return e=e[Qt]||e[hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function Zl(e){return e[ko]||null}var Gu=[],Vr=-1;function Hn(e){return{current:e}}function xe(e){0>Vr||(e.current=Gu[Vr],Gu[Vr]=null,Vr--)}function _e(e,t){Vr++,Gu[Vr]=e.current,e.current=t}var $n={},et=Hn($n),ct=Hn(!1),ar=$n;function ci(e,t){var n=e.type.contextTypes;if(!n)return $n;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ft(e){return e=e.childContextTypes,e!=null}function sl(){xe(ct),xe(et)}function Lh(e,t,n){if(et.current!==$n)throw Error(O(168));_e(et,t),_e(ct,n)}function h0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(O(108,f1(e)||"Unknown",i));return Ie({},n,r)}function ll(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$n,ar=et.current,_e(et,e),_e(ct,ct.current),!0}function Fh(e,t,n){var r=e.stateNode;if(!r)throw Error(O(169));n?(e=h0(e,t,ar),r.__reactInternalMemoizedMergedChildContext=e,xe(ct),xe(et),_e(et,e)):xe(ct),_e(ct,n)}var rn=null,Jl=!1,Ba=!1;function p0(e){rn===null?rn=[e]:rn.push(e)}function Mw(e){Jl=!0,p0(e)}function jn(){if(!Ba&&rn!==null){Ba=!0;var e=0,t=he;try{var n=rn;for(he=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}rn=null,Jl=!1}catch(i){throw rn!==null&&(rn=rn.slice(e+1)),Ug(sf,jn),i}finally{he=t,Ba=!1}}return null}var Wr=[],Hr=0,al=null,ul=0,Tt=[],kt=0,ur=null,on=1,sn="";function Gn(e,t){Wr[Hr++]=ul,Wr[Hr++]=al,al=e,ul=t}function m0(e,t,n){Tt[kt++]=on,Tt[kt++]=sn,Tt[kt++]=ur,ur=e;var r=on;e=sn;var i=32-Bt(r)-1;r&=~(1<<i),n+=1;var o=32-Bt(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,on=1<<32-Bt(t)+i|n<<i|r,sn=o+e}else on=1<<o|n<<i|r,sn=e}function mf(e){e.return!==null&&(Gn(e,1),m0(e,1,0))}function gf(e){for(;e===al;)al=Wr[--Hr],Wr[Hr]=null,ul=Wr[--Hr],Wr[Hr]=null;for(;e===ur;)ur=Tt[--kt],Tt[kt]=null,sn=Tt[--kt],Tt[kt]=null,on=Tt[--kt],Tt[kt]=null}var yt=null,gt=null,Te=!1,Lt=null;function g0(e,t){var n=Nt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function $h(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yt=e,gt=In(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yt=e,gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ur!==null?{id:on,overflow:sn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Nt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,yt=e,gt=null,!0):!1;default:return!1}}function Ku(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Qu(e){if(Te){var t=gt;if(t){var n=t;if(!$h(e,t)){if(Ku(e))throw Error(O(418));t=In(n.nextSibling);var r=yt;t&&$h(e,t)?g0(r,n):(e.flags=e.flags&-4097|2,Te=!1,yt=e)}}else{if(Ku(e))throw Error(O(418));e.flags=e.flags&-4097|2,Te=!1,yt=e}}}function Uh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yt=e}function Ts(e){if(e!==yt)return!1;if(!Te)return Uh(e),Te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Hu(e.type,e.memoizedProps)),t&&(t=gt)){if(Ku(e))throw v0(),Error(O(418));for(;t;)g0(e,t),t=In(t.nextSibling)}if(Uh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){gt=In(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}gt=null}}else gt=yt?In(e.stateNode.nextSibling):null;return!0}function v0(){for(var e=gt;e;)e=In(e.nextSibling)}function fi(){gt=yt=null,Te=!1}function vf(e){Lt===null?Lt=[e]:Lt.push(e)}var Iw=gn.ReactCurrentBatchConfig;function At(e,t){if(e&&e.defaultProps){t=Ie({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var cl=Hn(null),fl=null,jr=null,yf=null;function _f(){yf=jr=fl=null}function wf(e){var t=cl.current;xe(cl),e._currentValue=t}function qu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ri(e,t){fl=e,yf=jr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(at=!0),e.firstContext=null)}function Rt(e){var t=e._currentValue;if(yf!==e)if(e={context:e,memoizedValue:t,next:null},jr===null){if(fl===null)throw Error(O(308));jr=e,fl.dependencies={lanes:0,firstContext:e}}else jr=jr.next=e;return t}var er=null;function Sf(e){er===null?er=[e]:er.push(e)}function y0(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Sf(t)):(n.next=i.next,i.next=n),t.interleaved=n,pn(e,r)}function pn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wn=!1;function xf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(le&2)!==0){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,pn(e,n)}return i=r.interleaved,i===null?(t.next=t,Sf(r)):(t.next=i.next,i.next=t),r.interleaved=t,pn(e,n)}function Vs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lf(e,n)}}function Bh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function dl(e,t,n,r){var i=e.updateQueue;wn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(o!==null){var d=i.baseState;s=0,c=u=a=null,l=o;do{var f=l.lane,h=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,y=l;switch(f=t,h=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(h,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(h,d,f):v,f==null)break e;d=Ie({},d,f);break e;case 2:wn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else h={eventTime:h,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=h,a=d):c=c.next=h,s|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);fr|=s,e.lanes=s,e.memoizedState=d}}function zh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(O(191,i));i.call(r)}}}var w0=new yg.Component().refs;function Xu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ea={isMounted:function(e){return(e=e._reactInternals)?Cr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=it(),i=Pn(e),o=cn(r,i);o.payload=t,n!=null&&(o.callback=n),t=Rn(e,o,i),t!==null&&(zt(t,e,i,r),Vs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=it(),i=Pn(e),o=cn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Rn(e,o,i),t!==null&&(zt(t,e,i,r),Vs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=it(),r=Pn(e),i=cn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Rn(e,i,r),t!==null&&(zt(t,e,r,n),Vs(t,e,r))}};function Vh(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Co(n,r)||!Co(i,o):!0}function S0(e,t,n){var r=!1,i=$n,o=t.contextType;return typeof o=="object"&&o!==null?o=Rt(o):(i=ft(t)?ar:et.current,r=t.contextTypes,o=(r=r!=null)?ci(e,i):$n),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ea,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ea.enqueueReplaceState(t,t.state,null)}function Zu(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=w0,xf(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Rt(o):(o=ft(t)?ar:et.current,i.context=ci(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Xu(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ea.enqueueReplaceState(i,i.state,null),dl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Oi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var l=i.refs;l===w0&&(l=i.refs={}),s===null?delete l[o]:l[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,e))}return e}function ks(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hh(e){var t=e._init;return t(e._payload)}function x0(e){function t(m,p){if(e){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function n(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=An(m,p),m.index=0,m.sibling=null,m}function o(m,p,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function s(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,p,g,_){return p===null||p.tag!==6?(p=Ga(g,m.mode,_),p.return=m,p):(p=i(p,g),p.return=m,p)}function a(m,p,g,_){var C=g.type;return C===Fr?c(m,p,g.props.children,_,g.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===_n&&Hh(C)===p.type)?(_=i(p,g.props),_.ref=Oi(m,p,g),_.return=m,_):(_=Ks(g.type,g.key,g.props,null,m.mode,_),_.ref=Oi(m,p,g),_.return=m,_)}function u(m,p,g,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Ka(g,m.mode,_),p.return=m,p):(p=i(p,g.children||[]),p.return=m,p)}function c(m,p,g,_,C){return p===null||p.tag!==7?(p=or(g,m.mode,_,C),p.return=m,p):(p=i(p,g),p.return=m,p)}function d(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ga(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ms:return g=Ks(p.type,p.key,p.props,null,m.mode,g),g.ref=Oi(m,null,p),g.return=m,g;case Lr:return p=Ka(p,m.mode,g),p.return=m,p;case _n:var _=p._init;return d(m,_(p._payload),g)}if(Xi(p)||Ri(p))return p=or(p,m.mode,g,null),p.return=m,p;ks(m,p)}return null}function f(m,p,g,_){var C=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return C!==null?null:l(m,p,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ms:return g.key===C?a(m,p,g,_):null;case Lr:return g.key===C?u(m,p,g,_):null;case _n:return C=g._init,f(m,p,C(g._payload),_)}if(Xi(g)||Ri(g))return C!==null?null:c(m,p,g,_,null);ks(m,g)}return null}function h(m,p,g,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(g)||null,l(p,m,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ms:return m=m.get(_.key===null?g:_.key)||null,a(p,m,_,C);case Lr:return m=m.get(_.key===null?g:_.key)||null,u(p,m,_,C);case _n:var S=_._init;return h(m,p,g,S(_._payload),C)}if(Xi(_)||Ri(_))return m=m.get(g)||null,c(p,m,_,C,null);ks(p,_)}return null}function v(m,p,g,_){for(var C=null,S=null,T=p,P=p=0,$=null;T!==null&&P<g.length;P++){T.index>P?($=T,T=null):$=T.sibling;var k=f(m,T,g[P],_);if(k===null){T===null&&(T=$);break}e&&T&&k.alternate===null&&t(m,T),p=o(k,p,P),S===null?C=k:S.sibling=k,S=k,T=$}if(P===g.length)return n(m,T),Te&&Gn(m,P),C;if(T===null){for(;P<g.length;P++)T=d(m,g[P],_),T!==null&&(p=o(T,p,P),S===null?C=T:S.sibling=T,S=T);return Te&&Gn(m,P),C}for(T=r(m,T);P<g.length;P++)$=h(T,m,P,g[P],_),$!==null&&(e&&$.alternate!==null&&T.delete($.key===null?P:$.key),p=o($,p,P),S===null?C=$:S.sibling=$,S=$);return e&&T.forEach(function(N){return t(m,N)}),Te&&Gn(m,P),C}function y(m,p,g,_){var C=Ri(g);if(typeof C!="function")throw Error(O(150));if(g=C.call(g),g==null)throw Error(O(151));for(var S=C=null,T=p,P=p=0,$=null,k=g.next();T!==null&&!k.done;P++,k=g.next()){T.index>P?($=T,T=null):$=T.sibling;var N=f(m,T,k.value,_);if(N===null){T===null&&(T=$);break}e&&T&&N.alternate===null&&t(m,T),p=o(N,p,P),S===null?C=N:S.sibling=N,S=N,T=$}if(k.done)return n(m,T),Te&&Gn(m,P),C;if(T===null){for(;!k.done;P++,k=g.next())k=d(m,k.value,_),k!==null&&(p=o(k,p,P),S===null?C=k:S.sibling=k,S=k);return Te&&Gn(m,P),C}for(T=r(m,T);!k.done;P++,k=g.next())k=h(T,m,P,k.value,_),k!==null&&(e&&k.alternate!==null&&T.delete(k.key===null?P:k.key),p=o(k,p,P),S===null?C=k:S.sibling=k,S=k);return e&&T.forEach(function(A){return t(m,A)}),Te&&Gn(m,P),C}function w(m,p,g,_){if(typeof g=="object"&&g!==null&&g.type===Fr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ms:e:{for(var C=g.key,S=p;S!==null;){if(S.key===C){if(C=g.type,C===Fr){if(S.tag===7){n(m,S.sibling),p=i(S,g.props.children),p.return=m,m=p;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===_n&&Hh(C)===S.type){n(m,S.sibling),p=i(S,g.props),p.ref=Oi(m,S,g),p.return=m,m=p;break e}n(m,S);break}else t(m,S);S=S.sibling}g.type===Fr?(p=or(g.props.children,m.mode,_,g.key),p.return=m,m=p):(_=Ks(g.type,g.key,g.props,null,m.mode,_),_.ref=Oi(m,p,g),_.return=m,m=_)}return s(m);case Lr:e:{for(S=g.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(m,p.sibling),p=i(p,g.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else t(m,p);p=p.sibling}p=Ka(g,m.mode,_),p.return=m,m=p}return s(m);case _n:return S=g._init,w(m,p,S(g._payload),_)}if(Xi(g))return v(m,p,g,_);if(Ri(g))return y(m,p,g,_);ks(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,g),p.return=m,m=p):(n(m,p),p=Ga(g,m.mode,_),p.return=m,m=p),s(m)):n(m,p)}return w}var di=x0(!0),C0=x0(!1),Xo={},Zt=Hn(Xo),No=Hn(Xo),Mo=Hn(Xo);function tr(e){if(e===Xo)throw Error(O(174));return e}function Cf(e,t){switch(_e(Mo,t),_e(No,e),_e(Zt,Xo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ru(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ru(t,e)}xe(Zt),_e(Zt,t)}function hi(){xe(Zt),xe(No),xe(Mo)}function E0(e){tr(Mo.current);var t=tr(Zt.current),n=Ru(t,e.type);t!==n&&(_e(No,e),_e(Zt,n))}function Ef(e){No.current===e&&(xe(Zt),xe(No))}var ke=Hn(0);function hl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var za=[];function Tf(){for(var e=0;e<za.length;e++)za[e]._workInProgressVersionPrimary=null;za.length=0}var Ws=gn.ReactCurrentDispatcher,Va=gn.ReactCurrentBatchConfig,cr=0,Me=null,Oe=null,Be=null,pl=!1,so=!1,Io=0,Rw=0;function qe(){throw Error(O(321))}function kf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wt(e[n],t[n]))return!1;return!0}function Nf(e,t,n,r,i,o){if(cr=o,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ws.current=e===null||e.memoizedState===null?bw:Ow,e=n(r,i),so){o=0;do{if(so=!1,Io=0,25<=o)throw Error(O(301));o+=1,Be=Oe=null,t.updateQueue=null,Ws.current=Lw,e=n(r,i)}while(so)}if(Ws.current=ml,t=Oe!==null&&Oe.next!==null,cr=0,Be=Oe=Me=null,pl=!1,t)throw Error(O(300));return e}function Mf(){var e=Io!==0;return Io=0,e}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Me.memoizedState=Be=e:Be=Be.next=e,Be}function Dt(){if(Oe===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=Be===null?Me.memoizedState:Be.next;if(t!==null)Be=t,Oe=e;else{if(e===null)throw Error(O(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Be===null?Me.memoizedState=Be=e:Be=Be.next=e}return Be}function Ro(e,t){return typeof t=="function"?t(e):t}function Wa(e){var t=Dt(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=Oe,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,u=o;do{var c=u.lane;if((cr&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,s=r):a=a.next=d,Me.lanes|=c,fr|=c}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=l,Wt(r,t.memoizedState)||(at=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Me.lanes|=o,fr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ha(e){var t=Dt(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Wt(o,t.memoizedState)||(at=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function T0(){}function k0(e,t){var n=Me,r=Dt(),i=t(),o=!Wt(r.memoizedState,i);if(o&&(r.memoizedState=i,at=!0),r=r.queue,If(I0.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,Do(9,M0.bind(null,n,r,i,t),void 0,null),Ve===null)throw Error(O(349));(cr&30)!==0||N0(n,t,i)}return i}function N0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function M0(e,t,n,r){t.value=n,t.getSnapshot=r,R0(t)&&D0(e)}function I0(e,t,n){return n(function(){R0(t)&&D0(e)})}function R0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wt(e,n)}catch{return!0}}function D0(e){var t=pn(e,1);t!==null&&zt(t,e,1,-1)}function jh(e){var t=Kt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:e},t.queue=e,e=e.dispatch=Aw.bind(null,Me,e),[t.memoizedState,e]}function Do(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function P0(){return Dt().memoizedState}function Hs(e,t,n,r){var i=Kt();Me.flags|=e,i.memoizedState=Do(1|t,n,void 0,r===void 0?null:r)}function ta(e,t,n,r){var i=Dt();r=r===void 0?null:r;var o=void 0;if(Oe!==null){var s=Oe.memoizedState;if(o=s.destroy,r!==null&&kf(r,s.deps)){i.memoizedState=Do(t,n,o,r);return}}Me.flags|=e,i.memoizedState=Do(1|t,n,o,r)}function Yh(e,t){return Hs(8390656,8,e,t)}function If(e,t){return ta(2048,8,e,t)}function A0(e,t){return ta(4,2,e,t)}function b0(e,t){return ta(4,4,e,t)}function O0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function L0(e,t,n){return n=n!=null?n.concat([e]):null,ta(4,4,O0.bind(null,t,e),n)}function Rf(){}function F0(e,t){var n=Dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&kf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $0(e,t){var n=Dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&kf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function U0(e,t,n){return(cr&21)===0?(e.baseState&&(e.baseState=!1,at=!0),e.memoizedState=n):(Wt(n,t)||(n=Vg(),Me.lanes|=n,fr|=n,e.baseState=!0),t)}function Dw(e,t){var n=he;he=n!==0&&4>n?n:4,e(!0);var r=Va.transition;Va.transition={};try{e(!1),t()}finally{he=n,Va.transition=r}}function B0(){return Dt().memoizedState}function Pw(e,t,n){var r=Pn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},z0(e))V0(t,n);else if(n=y0(e,t,n,r),n!==null){var i=it();zt(n,e,r,i),W0(n,t,r)}}function Aw(e,t,n){var r=Pn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(z0(e))V0(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,Wt(l,s)){var a=t.interleaved;a===null?(i.next=i,Sf(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=y0(e,t,i,r),n!==null&&(i=it(),zt(n,e,r,i),W0(n,t,r))}}function z0(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function V0(e,t){so=pl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function W0(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lf(e,n)}}var ml={readContext:Rt,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useInsertionEffect:qe,useLayoutEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useMutableSource:qe,useSyncExternalStore:qe,useId:qe,unstable_isNewReconciler:!1},bw={readContext:Rt,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:Rt,useEffect:Yh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Hs(4194308,4,O0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Hs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hs(4,2,e,t)},useMemo:function(e,t){var n=Kt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Kt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Pw.bind(null,Me,e),[r.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:jh,useDebugValue:Rf,useDeferredValue:function(e){return Kt().memoizedState=e},useTransition:function(){var e=jh(!1),t=e[0];return e=Dw.bind(null,e[1]),Kt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Me,i=Kt();if(Te){if(n===void 0)throw Error(O(407));n=n()}else{if(n=t(),Ve===null)throw Error(O(349));(cr&30)!==0||N0(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Yh(I0.bind(null,r,o,e),[e]),r.flags|=2048,Do(9,M0.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Kt(),t=Ve.identifierPrefix;if(Te){var n=sn,r=on;n=(r&~(1<<32-Bt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Io++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Rw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ow={readContext:Rt,useCallback:F0,useContext:Rt,useEffect:If,useImperativeHandle:L0,useInsertionEffect:A0,useLayoutEffect:b0,useMemo:$0,useReducer:Wa,useRef:P0,useState:function(){return Wa(Ro)},useDebugValue:Rf,useDeferredValue:function(e){var t=Dt();return U0(t,Oe.memoizedState,e)},useTransition:function(){var e=Wa(Ro)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:T0,useSyncExternalStore:k0,useId:B0,unstable_isNewReconciler:!1},Lw={readContext:Rt,useCallback:F0,useContext:Rt,useEffect:If,useImperativeHandle:L0,useInsertionEffect:A0,useLayoutEffect:b0,useMemo:$0,useReducer:Ha,useRef:P0,useState:function(){return Ha(Ro)},useDebugValue:Rf,useDeferredValue:function(e){var t=Dt();return Oe===null?t.memoizedState=e:U0(t,Oe.memoizedState,e)},useTransition:function(){var e=Ha(Ro)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:T0,useSyncExternalStore:k0,useId:B0,unstable_isNewReconciler:!1};function pi(e,t){try{var n="",r=t;do n+=c1(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function ja(e,t,n){return{value:e,source:null,stack:n!=null?n:null,digest:t!=null?t:null}}function Ju(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Fw=typeof WeakMap=="function"?WeakMap:Map;function H0(e,t,n){n=cn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){vl||(vl=!0,uc=r),Ju(e,t)},n}function j0(e,t,n){n=cn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ju(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ju(e,t),typeof r!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Gh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Fw;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Xw.bind(null,e,t,n),t.then(e,e))}function Kh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qh(e,t,n,r,i){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=cn(-1,1),t.tag=2,Rn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var $w=gn.ReactCurrentOwner,at=!1;function nt(e,t,n,r){t.child=e===null?C0(t,null,n,r):di(t,e.child,n,r)}function qh(e,t,n,r,i){n=n.render;var o=t.ref;return ri(t,i),r=Nf(e,t,n,r,o,i),n=Mf(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mn(e,t,i)):(Te&&n&&mf(t),t.flags|=1,nt(e,t,r,i),t.child)}function Xh(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!$f(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Y0(e,t,o,r,i)):(e=Ks(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,(e.lanes&i)===0){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Co,n(s,r)&&e.ref===t.ref)return mn(e,t,i)}return t.flags|=1,e=An(o,r),e.ref=t.ref,e.return=t,t.child=e}function Y0(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Co(o,r)&&e.ref===t.ref)if(at=!1,t.pendingProps=r=o,(e.lanes&i)!==0)(e.flags&131072)!==0&&(at=!0);else return t.lanes=e.lanes,mn(e,t,i)}return ec(e,t,n,r,i)}function G0(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Gr,mt),mt|=n;else{if((n&1073741824)===0)return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(Gr,mt),mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,_e(Gr,mt),mt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,_e(Gr,mt),mt|=r;return nt(e,t,i,n),t.child}function K0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ec(e,t,n,r,i){var o=ft(n)?ar:et.current;return o=ci(t,o),ri(t,i),n=Nf(e,t,n,r,o,i),r=Mf(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mn(e,t,i)):(Te&&r&&mf(t),t.flags|=1,nt(e,t,n,i),t.child)}function Zh(e,t,n,r,i){if(ft(n)){var o=!0;ll(t)}else o=!1;if(ri(t,i),t.stateNode===null)js(e,t),S0(t,n,r),Zu(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Rt(u):(u=ft(n)?ar:et.current,u=ci(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Wh(t,s,r,u),wn=!1;var f=t.memoizedState;s.state=f,dl(t,r,s,i),a=t.memoizedState,l!==r||f!==a||ct.current||wn?(typeof c=="function"&&(Xu(t,n,c,r),a=t.memoizedState),(l=wn||Vh(t,n,l,r,f,a,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,_0(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:At(t.type,l),s.props=u,d=t.pendingProps,f=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=Rt(a):(a=ft(n)?ar:et.current,a=ci(t,a));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==d||f!==a)&&Wh(t,s,r,a),wn=!1,f=t.memoizedState,s.state=f,dl(t,r,s,i);var v=t.memoizedState;l!==d||f!==v||ct.current||wn?(typeof h=="function"&&(Xu(t,n,h,r),v=t.memoizedState),(u=wn||Vh(t,n,u,r,f,v,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),s.props=r,s.state=v,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return tc(e,t,n,r,o,i)}function tc(e,t,n,r,i,o){K0(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Fh(t,n,!1),mn(e,t,o);r=t.stateNode,$w.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=di(t,e.child,null,o),t.child=di(t,null,l,o)):nt(e,t,l,o),t.memoizedState=r.state,i&&Fh(t,n,!0),t.child}function Q0(e){var t=e.stateNode;t.pendingContext?Lh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lh(e,t.context,!1),Cf(e,t.containerInfo)}function Jh(e,t,n,r,i){return fi(),vf(i),t.flags|=256,nt(e,t,n,r),t.child}var nc={dehydrated:null,treeContext:null,retryLane:0};function rc(e){return{baseLanes:e,cachePool:null,transitions:null}}function q0(e,t,n){var r=t.pendingProps,i=ke.current,o=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),_e(ke,i&1),e===null)return Qu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=s):o=ia(s,r,0,null),e=or(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=rc(n),t.memoizedState=nc,e):Df(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Uw(e,t,s,r,l,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return(s&1)===0&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=An(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=An(l,o):(o=or(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?rc(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=nc,r}return o=e.child,e=o.sibling,r=An(o,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Df(e,t){return t=ia({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ns(e,t,n,r){return r!==null&&vf(r),di(t,e.child,null,n),e=Df(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Uw(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=ja(Error(O(422))),Ns(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=ia({mode:"visible",children:r.children},i,0,null),o=or(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,(t.mode&1)!==0&&di(t,e.child,null,s),t.child.memoizedState=rc(s),t.memoizedState=nc,o);if((t.mode&1)===0)return Ns(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(O(419)),r=ja(o,r,void 0),Ns(e,t,s,r)}if(l=(s&e.childLanes)!==0,at||l){if(r=Ve,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|s))!==0?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,pn(e,i),zt(r,e,i,-1))}return Ff(),r=ja(Error(O(421))),Ns(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Zw.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,gt=In(i.nextSibling),yt=t,Te=!0,Lt=null,e!==null&&(Tt[kt++]=on,Tt[kt++]=sn,Tt[kt++]=ur,on=e.id,sn=e.overflow,ur=t),t=Df(t,r.children),t.flags|=4096,t)}function ep(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),qu(e.return,t,n)}function Ya(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function X0(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(nt(e,t,r.children,n),r=ke.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ep(e,n,t);else if(e.tag===19)ep(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_e(ke,r),(t.mode&1)===0)t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&hl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ya(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&hl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ya(t,!0,n,null,o);break;case"together":Ya(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function js(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fr|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,n=An(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=An(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Bw(e,t,n){switch(t.tag){case 3:Q0(t),fi();break;case 5:E0(t);break;case 1:ft(t.type)&&ll(t);break;case 4:Cf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_e(cl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(_e(ke,ke.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?q0(e,t,n):(_e(ke,ke.current&1),e=mn(e,t,n),e!==null?e.sibling:null);_e(ke,ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return X0(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(ke,ke.current),r)break;return null;case 22:case 23:return t.lanes=0,G0(e,t,n)}return mn(e,t,n)}var Z0,ic,J0,ev;Z0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ic=function(){};J0=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,tr(Zt.current);var o=null;switch(n){case"input":i=ku(e,i),r=ku(e,r),o=[];break;case"select":i=Ie({},i,{value:void 0}),r=Ie({},r,{value:void 0}),o=[];break;case"textarea":i=Iu(e,i),r=Iu(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ol)}Du(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(go.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(go.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&we("scroll",e),o||l===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};ev=function(e,t,n,r){n!==r&&(t.flags|=4)};function Li(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zw(e,t,n){var r=t.pendingProps;switch(gf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return ft(t.type)&&sl(),Xe(t),null;case 3:return r=t.stateNode,hi(),xe(ct),xe(et),Tf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ts(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Lt!==null&&(dc(Lt),Lt=null))),ic(e,t),Xe(t),null;case 5:Ef(t);var i=tr(Mo.current);if(n=t.type,e!==null&&t.stateNode!=null)J0(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(O(166));return Xe(t),null}if(e=tr(Zt.current),Ts(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Qt]=t,r[ko]=o,e=(t.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(i=0;i<Ji.length;i++)we(Ji[i],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":uh(r,o),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},we("invalid",r);break;case"textarea":fh(r,o),we("invalid",r)}Du(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Es(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Es(r.textContent,l,e),i=["children",""+l]):go.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&we("scroll",r)}switch(n){case"input":gs(r),ch(r,o,!0);break;case"textarea":gs(r),dh(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ol)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ng(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Qt]=t,e[ko]=r,Z0(e,t,!1,!1),t.stateNode=e;e:{switch(s=Pu(n,r),n){case"dialog":we("cancel",e),we("close",e),i=r;break;case"iframe":case"object":case"embed":we("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ji.length;i++)we(Ji[i],e);i=r;break;case"source":we("error",e),i=r;break;case"img":case"image":case"link":we("error",e),we("load",e),i=r;break;case"details":we("toggle",e),i=r;break;case"input":uh(e,r),i=ku(e,r),we("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ie({},r,{value:void 0}),we("invalid",e);break;case"textarea":fh(e,r),i=Iu(e,r),we("invalid",e);break;default:i=r}Du(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?Rg(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Mg(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&vo(e,a):typeof a=="number"&&vo(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(go.hasOwnProperty(o)?a!=null&&o==="onScroll"&&we("scroll",e):a!=null&&ef(e,o,a,s))}switch(n){case"input":gs(e),ch(e,r,!1);break;case"textarea":gs(e),dh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Fn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Jr(e,!!r.multiple,o,!1):r.defaultValue!=null&&Jr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ol)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xe(t),null;case 6:if(e&&t.stateNode!=null)ev(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(O(166));if(n=tr(Mo.current),tr(Zt.current),Ts(t)){if(r=t.stateNode,n=t.memoizedProps,r[Qt]=t,(o=r.nodeValue!==n)&&(e=yt,e!==null))switch(e.tag){case 3:Es(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Es(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qt]=t,t.stateNode=r}return Xe(t),null;case 13:if(xe(ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Te&&gt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)v0(),fi(),t.flags|=98560,o=!1;else if(o=Ts(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(O(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(O(317));o[Qt]=t}else fi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),o=!1}else Lt!==null&&(dc(Lt),Lt=null),o=!0;if(!o)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(ke.current&1)!==0?$e===0&&($e=3):Ff())),t.updateQueue!==null&&(t.flags|=4),Xe(t),null);case 4:return hi(),ic(e,t),e===null&&Eo(t.stateNode.containerInfo),Xe(t),null;case 10:return wf(t.type._context),Xe(t),null;case 17:return ft(t.type)&&sl(),Xe(t),null;case 19:if(xe(ke),o=t.memoizedState,o===null)return Xe(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Li(o,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=hl(e),s!==null){for(t.flags|=128,Li(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _e(ke,ke.current&1|2),t.child}e=e.sibling}o.tail!==null&&Pe()>mi&&(t.flags|=128,r=!0,Li(o,!1),t.lanes=4194304)}else{if(!r)if(e=hl(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Li(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Te)return Xe(t),null}else 2*Pe()-o.renderingStartTime>mi&&n!==1073741824&&(t.flags|=128,r=!0,Li(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Pe(),t.sibling=null,n=ke.current,_e(ke,r?n&1|2:n&1),t):(Xe(t),null);case 22:case 23:return Lf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(mt&1073741824)!==0&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function Vw(e,t){switch(gf(t),t.tag){case 1:return ft(t.type)&&sl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hi(),xe(ct),xe(et),Tf(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ef(t),null;case 13:if(xe(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));fi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(ke),null;case 4:return hi(),null;case 10:return wf(t.type._context),null;case 22:case 23:return Lf(),null;case 24:return null;default:return null}}var Ms=!1,Ze=!1,Ww=typeof WeakSet=="function"?WeakSet:Set,V=null;function Yr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){De(e,t,r)}else n.current=null}function oc(e,t,n){try{n()}catch(r){De(e,t,r)}}var tp=!1;function Hw(e,t){if(Vu=nl,e=i0(),pf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(l=s+i),d!==o||r!==0&&d.nodeType!==3||(a=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=s),f===o&&++c===r&&(a=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wu={focusedElem:e,selectionRange:n},nl=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var v=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,w=v.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:At(t.type,y),w);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(_){De(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return v=tp,tp=!1,v}function lo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&oc(t,n,o)}i=i.next}while(i!==r)}}function na(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function tv(e){var t=e.alternate;t!==null&&(e.alternate=null,tv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qt],delete t[ko],delete t[Yu],delete t[kw],delete t[Nw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nv(e){return e.tag===5||e.tag===3||e.tag===4}function np(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ol));else if(r!==4&&(e=e.child,e!==null))for(lc(e,t,n),e=e.sibling;e!==null;)lc(e,t,n),e=e.sibling}function ac(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ac(e,t,n),e=e.sibling;e!==null;)ac(e,t,n),e=e.sibling}var Ye=null,bt=!1;function yn(e,t,n){for(n=n.child;n!==null;)rv(e,t,n),n=n.sibling}function rv(e,t,n){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Kl,n)}catch{}switch(n.tag){case 5:Ze||Yr(n,t);case 6:var r=Ye,i=bt;Ye=null,yn(e,t,n),Ye=r,bt=i,Ye!==null&&(bt?(e=Ye,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(bt?(e=Ye,n=n.stateNode,e.nodeType===8?Ua(e.parentNode,n):e.nodeType===1&&Ua(e,n),So(e)):Ua(Ye,n.stateNode));break;case 4:r=Ye,i=bt,Ye=n.stateNode.containerInfo,bt=!0,yn(e,t,n),Ye=r,bt=i;break;case 0:case 11:case 14:case 15:if(!Ze&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&((o&2)!==0||(o&4)!==0)&&oc(n,t,s),i=i.next}while(i!==r)}yn(e,t,n);break;case 1:if(!Ze&&(Yr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){De(n,t,l)}yn(e,t,n);break;case 21:yn(e,t,n);break;case 22:n.mode&1?(Ze=(r=Ze)||n.memoizedState!==null,yn(e,t,n),Ze=r):yn(e,t,n);break;default:yn(e,t,n)}}function rp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ww),t.forEach(function(r){var i=Jw.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Pt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Ye=l.stateNode,bt=!1;break e;case 3:Ye=l.stateNode.containerInfo,bt=!0;break e;case 4:Ye=l.stateNode.containerInfo,bt=!0;break e}l=l.return}if(Ye===null)throw Error(O(160));rv(o,s,i),Ye=null,bt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){De(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)iv(t,e),t=t.sibling}function iv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pt(t,e),Gt(e),r&4){try{lo(3,e,e.return),na(3,e)}catch(y){De(e,e.return,y)}try{lo(5,e,e.return)}catch(y){De(e,e.return,y)}}break;case 1:Pt(t,e),Gt(e),r&512&&n!==null&&Yr(n,n.return);break;case 5:if(Pt(t,e),Gt(e),r&512&&n!==null&&Yr(n,n.return),e.flags&32){var i=e.stateNode;try{vo(i,"")}catch(y){De(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Tg(i,o),Pu(l,s);var u=Pu(l,o);for(s=0;s<a.length;s+=2){var c=a[s],d=a[s+1];c==="style"?Rg(i,d):c==="dangerouslySetInnerHTML"?Mg(i,d):c==="children"?vo(i,d):ef(i,c,d,u)}switch(l){case"input":Nu(i,o);break;case"textarea":kg(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Jr(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?Jr(i,!!o.multiple,o.defaultValue,!0):Jr(i,!!o.multiple,o.multiple?[]:"",!1))}i[ko]=o}catch(y){De(e,e.return,y)}}break;case 6:if(Pt(t,e),Gt(e),r&4){if(e.stateNode===null)throw Error(O(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){De(e,e.return,y)}}break;case 3:if(Pt(t,e),Gt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{So(t.containerInfo)}catch(y){De(e,e.return,y)}break;case 4:Pt(t,e),Gt(e);break;case 13:Pt(t,e),Gt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(bf=Pe())),r&4&&rp(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ze=(u=Ze)||c,Pt(t,e),Ze=u):Pt(t,e),Gt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&(e.mode&1)!==0)for(V=e,c=e.child;c!==null;){for(d=V=c;V!==null;){switch(f=V,h=f.child,f.tag){case 0:case 11:case 14:case 15:lo(4,f,f.return);break;case 1:Yr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){De(r,n,y)}}break;case 5:Yr(f,f.return);break;case 22:if(f.memoizedState!==null){op(d);continue}}h!==null?(h.return=f,V=h):op(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=d.stateNode,a=d.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Ig("display",s))}catch(y){De(e,e.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){De(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Pt(t,e),Gt(e),r&4&&rp(e);break;case 21:break;default:Pt(t,e),Gt(e)}}function Gt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(nv(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(vo(i,""),r.flags&=-33);var o=np(e);ac(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=np(e);lc(e,l,s);break;default:throw Error(O(161))}}catch(a){De(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jw(e,t,n){V=e,ov(e)}function ov(e,t,n){for(var r=(e.mode&1)!==0;V!==null;){var i=V,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ms;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Ze;l=Ms;var u=Ze;if(Ms=s,(Ze=a)&&!u)for(V=i;V!==null;)s=V,a=s.child,s.tag===22&&s.memoizedState!==null?sp(i):a!==null?(a.return=s,V=a):sp(i);for(;o!==null;)V=o,ov(o),o=o.sibling;V=i,Ms=l,Ze=u}ip(e)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,V=o):ip(e)}}function ip(e){for(;V!==null;){var t=V;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Ze||na(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ze)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:At(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&zh(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}zh(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&So(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Ze||t.flags&512&&sc(t)}catch(f){De(t,t.return,f)}}if(t===e){V=null;break}if(n=t.sibling,n!==null){n.return=t.return,V=n;break}V=t.return}}function op(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var n=t.sibling;if(n!==null){n.return=t.return,V=n;break}V=t.return}}function sp(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{na(4,t)}catch(a){De(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){De(t,i,a)}}var o=t.return;try{sc(t)}catch(a){De(t,o,a)}break;case 5:var s=t.return;try{sc(t)}catch(a){De(t,s,a)}}}catch(a){De(t,t.return,a)}if(t===e){V=null;break}var l=t.sibling;if(l!==null){l.return=t.return,V=l;break}V=t.return}}var Yw=Math.ceil,gl=gn.ReactCurrentDispatcher,Pf=gn.ReactCurrentOwner,It=gn.ReactCurrentBatchConfig,le=0,Ve=null,Ae=null,Ke=0,mt=0,Gr=Hn(0),$e=0,Po=null,fr=0,ra=0,Af=0,ao=null,lt=null,bf=0,mi=1/0,nn=null,vl=!1,uc=null,Dn=null,Is=!1,En=null,yl=0,uo=0,cc=null,Ys=-1,Gs=0;function it(){return(le&6)!==0?Pe():Ys!==-1?Ys:Ys=Pe()}function Pn(e){return(e.mode&1)===0?1:(le&2)!==0&&Ke!==0?Ke&-Ke:Iw.transition!==null?(Gs===0&&(Gs=Vg()),Gs):(e=he,e!==0||(e=window.event,e=e===void 0?16:Qg(e.type)),e)}function zt(e,t,n,r){if(50<uo)throw uo=0,cc=null,Error(O(185));Ko(e,n,r),((le&2)===0||e!==Ve)&&(e===Ve&&((le&2)===0&&(ra|=n),$e===4&&xn(e,Ke)),dt(e,r),n===1&&le===0&&(t.mode&1)===0&&(mi=Pe()+500,Jl&&jn()))}function dt(e,t){var n=e.callbackNode;I1(e,t);var r=tl(e,e===Ve?Ke:0);if(r===0)n!==null&&mh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&mh(n),t===1)e.tag===0?Mw(lp.bind(null,e)):p0(lp.bind(null,e)),Ew(function(){(le&6)===0&&jn()}),n=null;else{switch(Wg(r)){case 1:n=sf;break;case 4:n=Bg;break;case 16:n=el;break;case 536870912:n=zg;break;default:n=el}n=hv(n,sv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sv(e,t){if(Ys=-1,Gs=0,(le&6)!==0)throw Error(O(327));var n=e.callbackNode;if(ii()&&e.callbackNode!==n)return null;var r=tl(e,e===Ve?Ke:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=_l(e,r);else{t=r;var i=le;le|=2;var o=av();(Ve!==e||Ke!==t)&&(nn=null,mi=Pe()+500,ir(e,t));do try{Qw();break}catch(l){lv(e,l)}while(1);_f(),gl.current=o,le=i,Ae!==null?t=0:(Ve=null,Ke=0,t=$e)}if(t!==0){if(t===2&&(i=Fu(e),i!==0&&(r=i,t=fc(e,i))),t===1)throw n=Po,ir(e,0),xn(e,r),dt(e,Pe()),n;if(t===6)xn(e,r);else{if(i=e.current.alternate,(r&30)===0&&!Gw(i)&&(t=_l(e,r),t===2&&(o=Fu(e),o!==0&&(r=o,t=fc(e,o))),t===1))throw n=Po,ir(e,0),xn(e,r),dt(e,Pe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(O(345));case 2:Kn(e,lt,nn);break;case 3:if(xn(e,r),(r&130023424)===r&&(t=bf+500-Pe(),10<t)){if(tl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){it(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ju(Kn.bind(null,e,lt,nn),t);break}Kn(e,lt,nn);break;case 4:if(xn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Bt(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Yw(r/1960))-r,10<r){e.timeoutHandle=ju(Kn.bind(null,e,lt,nn),r);break}Kn(e,lt,nn);break;case 5:Kn(e,lt,nn);break;default:throw Error(O(329))}}}return dt(e,Pe()),e.callbackNode===n?sv.bind(null,e):null}function fc(e,t){var n=ao;return e.current.memoizedState.isDehydrated&&(ir(e,t).flags|=256),e=_l(e,t),e!==2&&(t=lt,lt=n,t!==null&&dc(t)),e}function dc(e){lt===null?lt=e:lt.push.apply(lt,e)}function Gw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Wt(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xn(e,t){for(t&=~Af,t&=~ra,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bt(t),r=1<<n;e[n]=-1,t&=~r}}function lp(e){if((le&6)!==0)throw Error(O(327));ii();var t=tl(e,0);if((t&1)===0)return dt(e,Pe()),null;var n=_l(e,t);if(e.tag!==0&&n===2){var r=Fu(e);r!==0&&(t=r,n=fc(e,r))}if(n===1)throw n=Po,ir(e,0),xn(e,t),dt(e,Pe()),n;if(n===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kn(e,lt,nn),dt(e,Pe()),null}function Of(e,t){var n=le;le|=1;try{return e(t)}finally{le=n,le===0&&(mi=Pe()+500,Jl&&jn())}}function dr(e){En!==null&&En.tag===0&&(le&6)===0&&ii();var t=le;le|=1;var n=It.transition,r=he;try{if(It.transition=null,he=1,e)return e()}finally{he=r,It.transition=n,le=t,(le&6)===0&&jn()}}function Lf(){mt=Gr.current,xe(Gr)}function ir(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Cw(n)),Ae!==null)for(n=Ae.return;n!==null;){var r=n;switch(gf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sl();break;case 3:hi(),xe(ct),xe(et),Tf();break;case 5:Ef(r);break;case 4:hi();break;case 13:xe(ke);break;case 19:xe(ke);break;case 10:wf(r.type._context);break;case 22:case 23:Lf()}n=n.return}if(Ve=e,Ae=e=An(e.current,null),Ke=mt=t,$e=0,Po=null,Af=ra=fr=0,lt=ao=null,er!==null){for(t=0;t<er.length;t++)if(n=er[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}er=null}return e}function lv(e,t){do{var n=Ae;try{if(_f(),Ws.current=ml,pl){for(var r=Me.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}pl=!1}if(cr=0,Be=Oe=Me=null,so=!1,Io=0,Pf.current=null,n===null||n.return===null){$e=1,Po=t,Ae=null;break}e:{var o=e,s=n.return,l=n,a=t;if(t=Ke,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if((c.mode&1)===0&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Kh(s);if(h!==null){h.flags&=-257,Qh(h,s,l,o,t),h.mode&1&&Gh(o,u,t),t=h,a=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(a),t.updateQueue=y}else v.add(a);break e}else{if((t&1)===0){Gh(o,u,t),Ff();break e}a=Error(O(426))}}else if(Te&&l.mode&1){var w=Kh(s);if(w!==null){(w.flags&65536)===0&&(w.flags|=256),Qh(w,s,l,o,t),vf(pi(a,l));break e}}o=a=pi(a,l),$e!==4&&($e=2),ao===null?ao=[o]:ao.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=H0(o,a,t);Bh(o,m);break e;case 1:l=a;var p=o.type,g=o.stateNode;if((o.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Dn===null||!Dn.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=j0(o,l,t);Bh(o,_);break e}}o=o.return}while(o!==null)}cv(n)}catch(C){t=C,Ae===n&&n!==null&&(Ae=n=n.return);continue}break}while(1)}function av(){var e=gl.current;return gl.current=ml,e===null?ml:e}function Ff(){($e===0||$e===3||$e===2)&&($e=4),Ve===null||(fr&268435455)===0&&(ra&268435455)===0||xn(Ve,Ke)}function _l(e,t){var n=le;le|=2;var r=av();(Ve!==e||Ke!==t)&&(nn=null,ir(e,t));do try{Kw();break}catch(i){lv(e,i)}while(1);if(_f(),le=n,gl.current=r,Ae!==null)throw Error(O(261));return Ve=null,Ke=0,$e}function Kw(){for(;Ae!==null;)uv(Ae)}function Qw(){for(;Ae!==null&&!w1();)uv(Ae)}function uv(e){var t=dv(e.alternate,e,mt);e.memoizedProps=e.pendingProps,t===null?cv(e):Ae=t,Pf.current=null}function cv(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=zw(n,t,mt),n!==null){Ae=n;return}}else{if(n=Vw(n,t),n!==null){n.flags&=32767,Ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,Ae=null;return}}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);$e===0&&($e=5)}function Kn(e,t,n){var r=he,i=It.transition;try{It.transition=null,he=1,qw(e,t,n,r)}finally{It.transition=i,he=r}return null}function qw(e,t,n,r){do ii();while(En!==null);if((le&6)!==0)throw Error(O(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(R1(e,o),e===Ve&&(Ae=Ve=null,Ke=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Is||(Is=!0,hv(el,function(){return ii(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=It.transition,It.transition=null;var s=he;he=1;var l=le;le|=4,Pf.current=null,Hw(e,n),iv(n,e),gw(Wu),nl=!!Vu,Wu=Vu=null,e.current=n,jw(n),S1(),le=l,he=s,It.transition=o}else e.current=n;if(Is&&(Is=!1,En=e,yl=i),o=e.pendingLanes,o===0&&(Dn=null),E1(n.stateNode),dt(e,Pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vl)throw vl=!1,e=uc,uc=null,e;return(yl&1)!==0&&e.tag!==0&&ii(),o=e.pendingLanes,(o&1)!==0?e===cc?uo++:(uo=0,cc=e):uo=0,jn(),null}function ii(){if(En!==null){var e=Wg(yl),t=It.transition,n=he;try{if(It.transition=null,he=16>e?16:e,En===null)var r=!1;else{if(e=En,En=null,yl=0,(le&6)!==0)throw Error(O(331));var i=le;for(le|=4,V=e.current;V!==null;){var o=V,s=o.child;if((V.flags&16)!==0){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(V=u;V!==null;){var c=V;switch(c.tag){case 0:case 11:case 15:lo(8,c,o)}var d=c.child;if(d!==null)d.return=c,V=d;else for(;V!==null;){c=V;var f=c.sibling,h=c.return;if(tv(c),c===u){V=null;break}if(f!==null){f.return=h,V=f;break}V=h}}}var v=o.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}V=o}}if((o.subtreeFlags&2064)!==0&&s!==null)s.return=o,V=s;else e:for(;V!==null;){if(o=V,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:lo(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,V=m;break e}V=o.return}}var p=e.current;for(V=p;V!==null;){s=V;var g=s.child;if((s.subtreeFlags&2064)!==0&&g!==null)g.return=s,V=g;else e:for(s=p;V!==null;){if(l=V,(l.flags&2048)!==0)try{switch(l.tag){case 0:case 11:case 15:na(9,l)}}catch(C){De(l,l.return,C)}if(l===s){V=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,V=_;break e}V=l.return}}if(le=i,jn(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Kl,e)}catch{}r=!0}return r}finally{he=n,It.transition=t}}return!1}function ap(e,t,n){t=pi(n,t),t=H0(e,t,1),e=Rn(e,t,1),t=it(),e!==null&&(Ko(e,1,t),dt(e,t))}function De(e,t,n){if(e.tag===3)ap(e,e,n);else for(;t!==null;){if(t.tag===3){ap(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dn===null||!Dn.has(r))){e=pi(n,e),e=j0(t,e,1),t=Rn(t,e,1),e=it(),t!==null&&(Ko(t,1,e),dt(t,e));break}}t=t.return}}function Xw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=it(),e.pingedLanes|=e.suspendedLanes&n,Ve===e&&(Ke&n)===n&&($e===4||$e===3&&(Ke&130023424)===Ke&&500>Pe()-bf?ir(e,0):Af|=n),dt(e,t)}function fv(e,t){t===0&&((e.mode&1)===0?t=1:(t=_s,_s<<=1,(_s&130023424)===0&&(_s=4194304)));var n=it();e=pn(e,t),e!==null&&(Ko(e,t,n),dt(e,n))}function Zw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),fv(e,n)}function Jw(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(t),fv(e,n)}var dv;dv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ct.current)at=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return at=!1,Bw(e,t,n);at=(e.flags&131072)!==0}else at=!1,Te&&(t.flags&1048576)!==0&&m0(t,ul,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;js(e,t),e=t.pendingProps;var i=ci(t,et.current);ri(t,n),i=Nf(null,t,r,e,i,n);var o=Mf();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ft(r)?(o=!0,ll(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xf(t),i.updater=ea,t.stateNode=i,i._reactInternals=t,Zu(t,r,e,n),t=tc(null,t,r,!0,o,n)):(t.tag=0,Te&&o&&mf(t),nt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(js(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=tS(r),e=At(r,e),i){case 0:t=ec(null,t,r,e,n);break e;case 1:t=Zh(null,t,r,e,n);break e;case 11:t=qh(null,t,r,e,n);break e;case 14:t=Xh(null,t,r,At(r.type,e),n);break e}throw Error(O(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:At(r,i),ec(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:At(r,i),Zh(e,t,r,i,n);case 3:e:{if(Q0(t),e===null)throw Error(O(387));r=t.pendingProps,o=t.memoizedState,i=o.element,_0(e,t),dl(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=pi(Error(O(423)),t),t=Jh(e,t,r,n,i);break e}else if(r!==i){i=pi(Error(O(424)),t),t=Jh(e,t,r,n,i);break e}else for(gt=In(t.stateNode.containerInfo.firstChild),yt=t,Te=!0,Lt=null,n=C0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fi(),r===i){t=mn(e,t,n);break e}nt(e,t,r,n)}t=t.child}return t;case 5:return E0(t),e===null&&Qu(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Hu(r,i)?s=null:o!==null&&Hu(r,o)&&(t.flags|=32),K0(e,t),nt(e,t,s,n),t.child;case 6:return e===null&&Qu(t),null;case 13:return q0(e,t,n);case 4:return Cf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=di(t,null,r,n):nt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:At(r,i),qh(e,t,r,i,n);case 7:return nt(e,t,t.pendingProps,n),t.child;case 8:return nt(e,t,t.pendingProps.children,n),t.child;case 12:return nt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,_e(cl,r._currentValue),r._currentValue=s,o!==null)if(Wt(o.value,s)){if(o.children===i.children&&!ct.current){t=mn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=cn(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),qu(o.return,n,t),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(O(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),qu(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}nt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ri(t,n),i=Rt(i),r=r(i),t.flags|=1,nt(e,t,r,n),t.child;case 14:return r=t.type,i=At(r,t.pendingProps),i=At(r.type,i),Xh(e,t,r,i,n);case 15:return Y0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:At(r,i),js(e,t),t.tag=1,ft(r)?(e=!0,ll(t)):e=!1,ri(t,n),S0(t,r,i),Zu(t,r,i,n),tc(null,t,r,!0,e,n);case 19:return X0(e,t,n);case 22:return G0(e,t,n)}throw Error(O(156,t.tag))};function hv(e,t){return Ug(e,t)}function eS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,n,r){return new eS(e,t,n,r)}function $f(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tS(e){if(typeof e=="function")return $f(e)?1:0;if(e!=null){if(e=e.$$typeof,e===nf)return 11;if(e===rf)return 14}return 2}function An(e,t){var n=e.alternate;return n===null?(n=Nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ks(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")$f(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Fr:return or(n.children,i,o,t);case tf:s=8,i|=8;break;case xu:return e=Nt(12,n,t,i|2),e.elementType=xu,e.lanes=o,e;case Cu:return e=Nt(13,n,t,i),e.elementType=Cu,e.lanes=o,e;case Eu:return e=Nt(19,n,t,i),e.elementType=Eu,e.lanes=o,e;case xg:return ia(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wg:s=10;break e;case Sg:s=9;break e;case nf:s=11;break e;case rf:s=14;break e;case _n:s=16,r=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=Nt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function or(e,t,n,r){return e=Nt(7,e,r,t),e.lanes=n,e}function ia(e,t,n,r){return e=Nt(22,e,r,t),e.elementType=xg,e.lanes=n,e.stateNode={isHidden:!1},e}function Ga(e,t,n){return e=Nt(6,e,null,t),e.lanes=n,e}function Ka(e,t,n){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nS(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ma(0),this.expirationTimes=Ma(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ma(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uf(e,t,n,r,i,o,s,l,a){return e=new nS(e,t,n,l,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Nt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xf(o),e}function rS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function pv(e){if(!e)return $n;e=e._reactInternals;e:{if(Cr(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var n=e.type;if(ft(n))return h0(e,n,t)}return t}function mv(e,t,n,r,i,o,s,l,a){return e=Uf(n,r,!0,e,i,o,s,l,a),e.context=pv(null),n=e.current,r=it(),i=Pn(n),o=cn(r,i),o.callback=t!=null?t:null,Rn(n,o,i),e.current.lanes=i,Ko(e,i,r),dt(e,r),e}function oa(e,t,n,r){var i=t.current,o=it(),s=Pn(i);return n=pv(n),t.context===null?t.context=n:t.pendingContext=n,t=cn(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Rn(i,t,s),e!==null&&(zt(e,i,s,o),Vs(e,i,s)),s}function wl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function up(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Bf(e,t){up(e,t),(e=e.alternate)&&up(e,t)}function iS(){return null}var gv=typeof reportError=="function"?reportError:function(e){console.error(e)};function zf(e){this._internalRoot=e}sa.prototype.render=zf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));oa(e,t,null,null)};sa.prototype.unmount=zf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dr(function(){oa(null,e,null,null)}),t[hn]=null}};function sa(e){this._internalRoot=e}sa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Sn.length&&t!==0&&t<Sn[n].priority;n++);Sn.splice(n,0,e),n===0&&Kg(e)}};function Vf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function la(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cp(){}function oS(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=wl(s);o.call(u)}}var s=mv(t,r,e,0,null,!1,!1,"",cp);return e._reactRootContainer=s,e[hn]=s.current,Eo(e.nodeType===8?e.parentNode:e),dr(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=wl(a);l.call(u)}}var a=Uf(e,0,!1,null,null,!1,!1,"",cp);return e._reactRootContainer=a,e[hn]=a.current,Eo(e.nodeType===8?e.parentNode:e),dr(function(){oa(t,a,n,r)}),a}function aa(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=wl(s);l.call(a)}}oa(t,s,e,i)}else s=oS(n,t,e,i,r);return wl(s)}Hg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Zi(t.pendingLanes);n!==0&&(lf(t,n|1),dt(t,Pe()),(le&6)===0&&(mi=Pe()+500,jn()))}break;case 13:dr(function(){var r=pn(e,1);if(r!==null){var i=it();zt(r,e,1,i)}}),Bf(e,1)}};af=function(e){if(e.tag===13){var t=pn(e,134217728);if(t!==null){var n=it();zt(t,e,134217728,n)}Bf(e,134217728)}};jg=function(e){if(e.tag===13){var t=Pn(e),n=pn(e,t);if(n!==null){var r=it();zt(n,e,t,r)}Bf(e,t)}};Yg=function(){return he};Gg=function(e,t){var n=he;try{return he=e,t()}finally{he=n}};bu=function(e,t,n){switch(t){case"input":if(Nu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Zl(r);if(!i)throw Error(O(90));Eg(r),Nu(r,i)}}}break;case"textarea":kg(e,n);break;case"select":t=n.value,t!=null&&Jr(e,!!n.multiple,t,!1)}};Ag=Of;bg=dr;var sS={usingClientEntryPoint:!1,Events:[qo,zr,Zl,Dg,Pg,Of]},Fi={findFiberByHostInstance:Jn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},lS={bundleType:Fi.bundleType,version:Fi.version,rendererPackageName:Fi.rendererPackageName,rendererConfig:Fi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Fg(e),e===null?null:e.stateNode},findFiberByHostInstance:Fi.findFiberByHostInstance||iS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rs.isDisabled&&Rs.supportsFiber)try{Kl=Rs.inject(lS),Xt=Rs}catch{}}Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sS;Ct.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vf(t))throw Error(O(200));return rS(e,t,null,n)};Ct.createRoot=function(e,t){if(!Vf(e))throw Error(O(299));var n=!1,r="",i=gv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Uf(e,1,!1,null,null,n,!1,r,i),e[hn]=t.current,Eo(e.nodeType===8?e.parentNode:e),new zf(t)};Ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=Fg(t),e=e===null?null:e.stateNode,e};Ct.flushSync=function(e){return dr(e)};Ct.hydrate=function(e,t,n){if(!la(t))throw Error(O(200));return aa(null,e,t,!0,n)};Ct.hydrateRoot=function(e,t,n){if(!Vf(e))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=gv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=mv(t,null,e,1,n!=null?n:null,i,!1,o,s),e[hn]=t.current,Eo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new sa(t)};Ct.render=function(e,t,n){if(!la(t))throw Error(O(200));return aa(null,e,t,!1,n)};Ct.unmountComponentAtNode=function(e){if(!la(e))throw Error(O(40));return e._reactRootContainer?(dr(function(){aa(null,null,e,!1,function(){e._reactRootContainer=null,e[hn]=null})}),!0):!1};Ct.unstable_batchedUpdates=Of;Ct.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!la(n))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return aa(e,t,n,!1,r)};Ct.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=Ct})(Xc);const vv=ag(Xc.exports);var fp=Xc.exports;wu.createRoot=fp.createRoot,wu.hydrateRoot=fp.hydrateRoot;var ua={exports:{}},ca={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aS=be.exports,uS=Symbol.for("react.element"),cS=Symbol.for("react.fragment"),fS=Object.prototype.hasOwnProperty,dS=aS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hS={key:!0,ref:!0,__self:!0,__source:!0};function yv(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)fS.call(t,r)&&!hS.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:uS,type:e,key:o,ref:s,props:i,_owner:dS.current}}ca.Fragment=cS;ca.jsx=yv;ca.jsxs=yv;(function(e){e.exports=ca})(ua);const Qs=ua.exports.Fragment,U=ua.exports.jsx,me=ua.exports.jsxs;function pS(e){return me("div",{className:"inline-block bg-indigo-500 h-32 rounded-xl cursor-pointer hover:bg-indigo-600",onClick:e.onSelected,children:[U("div",{className:"h-20 p-2 bg-indigo-700 flex items-center justify-center rounded-tr-xl rounded-tl-xl",children:U("h4",{className:"bold text-neutral-200 text-center w-full",children:e.name})}),U("div",{className:"h-12 flex items-center justify-center",children:e.isOpen?me("p",{className:"text-neutral-100 text-xl font-bold",children:[e.busyness,"%"]}):U("p",{className:"text-red-300 text-lg",children:"Closed"})})]})}function mS(e){return e.data.length>0?U("div",{className:"grid gap-2 grid-cols-3 sm:grid-cols-6 md:grid-cols-8",children:e.data.map(t=>U(pS,{name:t.name,busyness:t.busyness,isOpen:t.isOpen,onSelected:()=>{e.onSelect(t.name)}},t.name))}):null}function dp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gS(e,t){if(!!e){if(typeof e=="string")return dp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dp(e,t)}}function vS(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=gS(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _v(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ee.apply(this,arguments)}function oi(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Wf(e){let t=e,n=e;e.length===1&&(t=(s,l)=>e(s)-l,n=yS(e));function r(s,l,a,u){for(a==null&&(a=0),u==null&&(u=s.length);a<u;){const c=a+u>>>1;n(s[c],l)<0?a=c+1:u=c}return a}function i(s,l,a,u){for(a==null&&(a=0),u==null&&(u=s.length);a<u;){const c=a+u>>>1;n(s[c],l)>0?u=c:a=c+1}return a}function o(s,l,a,u){a==null&&(a=0),u==null&&(u=s.length);const c=r(s,l,a,u-1);return c>a&&t(s[c-1],l)>-t(s[c],l)?c-1:c}return{left:r,center:o,right:i}}function yS(e){return(t,n)=>oi(e(t),n)}function _S(e){return e===null?NaN:+e}function*wS(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const SS=Wf(oi),xS=SS.right;Wf(_S).center;const CS=xS;function hc(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class ES extends Map{constructor(t,n=NS){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(hp(this,t))}has(t){return super.has(hp(this,t))}set(t,n){return super.set(TS(this,t),n)}delete(t){return super.delete(kS(this,t))}}function hp({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function TS({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function kS({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(n),e.delete(r)),n}function NS(e){return e!==null&&typeof e=="object"?e.valueOf():e}function MS(e){return e}function IS(e,...t){return RS(e,Array.from,MS,t)}function RS(e,t,n,r){return function i(o,s){if(s>=r.length)return n(o);const l=new ES,a=r[s++];let u=-1;for(const c of o){const d=a(c,++u,o),f=l.get(d);f?f.push(c):l.set(d,[c])}for(const[c,d]of l)l.set(c,i(d,s));return t(l)}(e,0)}function DS(e,t){return Array.from(t,n=>e[n])}function PS(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n=oi]=t;if(n.length===1||t.length>1){const r=Uint32Array.from(e,(i,o)=>o);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,o)=>{for(const s of t){const l=oi(s[i],s[o]);if(l)return l}})):(n=e.map(n),r.sort((i,o)=>oi(n[i],n[o]))),DS(e,r)}return e.sort(n)}var pc=Math.sqrt(50),mc=Math.sqrt(10),gc=Math.sqrt(2);function vc(e,t,n){var r,i=-1,o,s,l;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),(l=wv(e,t,n))===0||!isFinite(l))return[];if(l>0){let a=Math.round(e/l),u=Math.round(t/l);for(a*l<e&&++a,u*l>t&&--u,s=new Array(o=u-a+1);++i<o;)s[i]=(a+i)*l}else{l=-l;let a=Math.round(e*l),u=Math.round(t*l);for(a/l<e&&++a,u/l>t&&--u,s=new Array(o=u-a+1);++i<o;)s[i]=(a+i)/l}return r&&s.reverse(),s}function wv(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=pc?10:o>=mc?5:o>=gc?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=pc?10:o>=mc?5:o>=gc?2:1)}function yc(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=pc?i*=10:o>=mc?i*=5:o>=gc&&(i*=2),t<e?-i:i}function Sl(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function xl(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Sv(e,t,n=0,r=e.length-1,i=oi){for(;r>n;){if(r-n>600){const a=r-n+1,u=t-n+1,c=Math.log(a),d=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*d*(a-d)/a)*(u-a/2<0?-1:1),h=Math.max(n,Math.floor(t-u*d/a+f)),v=Math.min(r,Math.floor(t+(a-u)*d/a+f));Sv(e,t,h,v,i)}const o=e[t];let s=n,l=r;for($i(e,n,t),i(e[r],o)>0&&$i(e,n,r);s<l;){for($i(e,s,l),++s,--l;i(e[s],o)<0;)++s;for(;i(e[l],o)>0;)--l}i(e[n],o)===0?$i(e,n,l):(++l,$i(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function $i(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function AS(e,t,n){if(e=Float64Array.from(wS(e,n)),!!(r=e.length)){if((t=+t)<=0||r<2)return xl(e);if(t>=1)return Sl(e);var r,i=(r-1)*t,o=Math.floor(i),s=Sl(Sv(e,o).subarray(0,o+1)),l=xl(e.subarray(o+1));return s+(l-s)*(i-o)}}function bS(e,t){return AS(e,.5,t)}function Hf(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function pt(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function Cl(e){var t=G.useRef(e),n=G.useRef();return t.current=e,n.current||(n.current=function(){return t.current}),n.current}const Zo=typeof window<"u"?G.useLayoutEffect:G.useEffect;function OS(e,t){return(t==null?void 0:t.seriesId)===e.id?"focused":"none"}function LS(e,t){var n;return e===t?"focused":(n=e.tooltipGroup)!=null&&n.some(function(r){r.seriesId===(t==null?void 0:t.seriesId)&&(r.index,t==null||t.index)})?"groupFocused":"none"}var pp=["area","line","rectangle","circle"];function _c(e,t){e===void 0&&(e={}),t===void 0&&(t={}),e=FS(e,t);for(var n=0;n<pp.length;n++){var r=pp[n];e[r]&&t[r]&&(e[r]=_c(e[r],t))}return e}function Ci(e,t){return"translate3d("+Math.round(e)+"px, "+Math.round(t)+"px, 0)"}function FS(e,t){return ee({},e,{stroke:e.stroke||e.color||t.stroke||t.color,fill:e.fill||e.color||t.fill||t.color})}function mp(e){return typeof e=="number"&&!Number.isNaN(e)}var xv=be.exports.createContext(null);function $S(e){var t=e.value,n=e.children;return be.exports.createElement(xv.Provider,{value:t,children:n})}function en(){return be.exports.useContext(xv)()}function US(e){var t=e.primaryAxis,n=e.secondaryAxis,r=e.series,i=en(),o=i.getSeriesStatusStyle,s=i.getDatumStatusStyle,l=i.focusedDatumState,a=i.gridDimensions,u=l[0],c=t.isVertical?n:t,d=t.isVertical?t:n;return U("g",{style:{transform:Ci(a.left,a.top)},children:r.map(function(f,h){var v=o(f,u);return U("g",{children:f.datums.map(function(y,w){var m,p,g,_,C=s(y,u),S=gp((m=VS(y,t,n))!=null?m:NaN,(p=BS(y,t,n))!=null?p:NaN,c),T=S[0],P=S[1],$=gp((g=WS(y,t,n))!=null?g:NaN,(_=zS(y,t,n))!=null?_:NaN,d),k=$[0],N=$[1];return U("rect",{ref:function(R){y.element=R},x:T,y:k,width:P,height:N,style:ee({strokeWidth:0},v,v.rectangle,C,C.rectangle)},w)})},"lines-"+h)})})}function BS(e,t,n){return t.isVertical?Ev(e,n):jf(e,t,n)}function zS(e,t,n){return t.isVertical?jf(e,t,n):Ev(e,n)}function Cv(e,t){return Math.max(t.primaryBandScale.bandwidth(),1)}function jf(e,t,n){if(t.axisFamily==="band"){var r,i,o=n.stacked?t.scale.bandwidth():t.seriesBandScale.bandwidth();return Math.min(Math.max(o,(r=t.minBandSize)!=null?r:1),(i=t.maxBandSize)!=null?i:99999999)}return Math.max(n.stacked?t.primaryBandScale.bandwidth():t.seriesBandScale.bandwidth(),1)}function Ev(e,t){var n=[Tv(e,t),kv(e,t)];return Math.abs(n[1]-n[0])}function VS(e,t,n){return t.isVertical?Tv(e,n):Yf(e,t,n)}function WS(e,t,n){return t.isVertical?Yf(e,t,n):kv(e,n)}function Yf(e,t,n){var r,i=(r=t.scale(e.primaryValue))!=null?r:NaN;if(t.axisFamily!=="band"&&(i-=Cv(e,t)/2),!n.stacked){var o;i=i+((o=t.seriesBandScale(e.seriesIndex))!=null?o:NaN)}return i}function Tv(e,t){var n;if(t.stacked){var r,i,o;return(r=t.scale((i=(o=e.stackData)==null?void 0:o[0])!=null?i:NaN))!=null?r:NaN}return(n=t.scale(e.secondaryValue<0?e.secondaryValue:0))!=null?n:NaN}function kv(e,t){var n;if(t.stacked){var r,i,o;return(r=t.scale((i=(o=e.stackData)==null?void 0:o[1])!=null?i:NaN))!=null?r:NaN}return(n=t.scale(e.secondaryValue<0?0:e.secondaryValue))!=null?n:NaN}function gp(e,t,n){var r=n.scale.range();n.isVertical&&r.reverse();var i=function(u){return Math.max(r[0],Math.min(u,r[1]))},o=i(e),s=i(e+t),l=s-o;return[o,l]}const wc=Math.PI,Sc=2*wc,Qn=1e-6,HS=Sc-Qn;function xc(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Gf(){return new xc}xc.prototype=Gf.prototype={constructor:xc,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var o=this._x1,s=this._y1,l=n-e,a=r-t,u=o-e,c=s-t,d=u*u+c*c;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>Qn)if(!(Math.abs(c*l-a*u)>Qn)||!i)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var f=n-o,h=r-s,v=l*l+a*a,y=f*f+h*h,w=Math.sqrt(v),m=Math.sqrt(d),p=i*Math.tan((wc-Math.acos((v+d-y)/(2*w*m)))/2),g=p/m,_=p/w;Math.abs(g-1)>Qn&&(this._+="L"+(e+g*u)+","+(t+g*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>u*h)+","+(this._x1=e+_*l)+","+(this._y1=t+_*a)}},arc:function(e,t,n,r,i,o){e=+e,t=+t,n=+n,o=!!o;var s=n*Math.cos(r),l=n*Math.sin(r),a=e+s,u=t+l,c=1^o,d=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+a+","+u:(Math.abs(this._x1-a)>Qn||Math.abs(this._y1-u)>Qn)&&(this._+="L"+a+","+u),n&&(d<0&&(d=d%Sc+Sc),d>HS?this._+="A"+n+","+n+",0,1,"+c+","+(e-s)+","+(t-l)+"A"+n+","+n+",0,1,"+c+","+(this._x1=a)+","+(this._y1=u):d>Qn&&(this._+="A"+n+","+n+",0,"+ +(d>=wc)+","+c+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function Re(e){return function(){return e}}function Kf(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Nv(e){this._context=e}Nv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Mv(e){return new Nv(e)}function Iv(e){return e[0]}function Rv(e){return e[1]}function Qf(e,t){var n=Re(!0),r=null,i=Mv,o=null;e=typeof e=="function"?e:e===void 0?Iv:Re(e),t=typeof t=="function"?t:t===void 0?Rv:Re(t);function s(l){var a,u=(l=Kf(l)).length,c,d=!1,f;for(r==null&&(o=i(f=Gf())),a=0;a<=u;++a)!(a<u&&n(c=l[a],a,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(c,a,l),+t(c,a,l));if(f)return o=null,f+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Re(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Re(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Re(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function jS(e,t,n){var r=null,i=Re(!0),o=null,s=Mv,l=null;e=typeof e=="function"?e:e===void 0?Iv:Re(+e),t=typeof t=="function"?t:Re(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Rv:Re(+n);function a(c){var d,f,h,v=(c=Kf(c)).length,y,w=!1,m,p=new Array(v),g=new Array(v);for(o==null&&(l=s(m=Gf())),d=0;d<=v;++d){if(!(d<v&&i(y=c[d],d,c))===w)if(w=!w)f=d,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),h=d-1;h>=f;--h)l.point(p[h],g[h]);l.lineEnd(),l.areaEnd()}w&&(p[d]=+e(y,d,c),g[d]=+t(y,d,c),l.point(r?+r(y,d,c):p[d],n?+n(y,d,c):g[d]))}if(m)return l=null,m+""||null}function u(){return Qf().defined(i).curve(s).context(o)}return a.x=function(c){return arguments.length?(e=typeof c=="function"?c:Re(+c),r=null,a):e},a.x0=function(c){return arguments.length?(e=typeof c=="function"?c:Re(+c),a):e},a.x1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Re(+c),a):r},a.y=function(c){return arguments.length?(t=typeof c=="function"?c:Re(+c),n=null,a):t},a.y0=function(c){return arguments.length?(t=typeof c=="function"?c:Re(+c),a):t},a.y1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:Re(+c),a):n},a.lineX0=a.lineY0=function(){return u().x(e).y(t)},a.lineY1=function(){return u().x(e).y(n)},a.lineX1=function(){return u().x(r).y(t)},a.defined=function(c){return arguments.length?(i=typeof c=="function"?c:Re(!!c),a):i},a.curve=function(c){return arguments.length?(s=c,o!=null&&(l=s(o)),a):s},a.context=function(c){return arguments.length?(c==null?o=l=null:l=s(o=c),a):o},a}function Cc(e,t){if((s=e.length)>1)for(var n=1,r,i,o=e[t[0]],s,l=o.length;n<s;++n)for(i=o,o=e[t[n]],r=0;r<l;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function vp(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function YS(e,t){return e[t]}function GS(e){const t=[];return t.key=e,t}function KS(){var e=Re([]),t=vp,n=Cc,r=YS;function i(o){var s=Array.from(e.apply(this,arguments),GS),l,a=s.length,u=-1,c;for(const d of o)for(l=0,++u;l<a;++l)(s[l][u]=[0,+r(d,s[l].key,u,o)]).data=d;for(l=0,c=Kf(t(s));l<a;++l)s[c[l]].index=l;return n(s,c),s}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Re(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Re(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?vp:typeof o=="function"?o:Re(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o==null?Cc:o,i):n},i}function yp(e){return e<0?-1:1}function _p(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),l=(o*i+s*r)/(r+i);return(yp(o)+yp(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(l))||0}function wp(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Qa(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,l=(o-r)/3;e._context.bezierCurveTo(r+l,i+l*t,o-l,s-l*n,o,s)}function El(e){this._context=e}El.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qa(this,this._t0,wp(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var r=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Qa(this,wp(this,r=_p(this,t,n)),r);break;default:Qa(this,this._t0,r=_p(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=r}}};Object.create(El.prototype).point=function(e,t){El.prototype.point.call(this,t,e)};var QS=function(t){return new El(t)};function qS(e){var t,n=e.primaryAxis,r=e.secondaryAxis,i=e.series,o=en(),s=o.getSeriesStatusStyle,l=o.getDatumStatusStyle,a=o.focusedDatumState,u=o.gridDimensions,c=(t=r.curve)!=null?t:QS,d=a[0];return U("g",{style:{transform:Ci(u.left,u.top)},children:i.map(function(f,h){var v,y,w=s(f,d),m=null;if(r.elementType==="area"){var p=function(A){return Tl(A,n)},g=function(A){return Sp(JS(A,r),r)},_=function(A){return Sp(kl(A,r),r)},C=jS(p,g,_).curve(c);C.defined(function(N){return[p(N),g(N),_(N)].every(mp)}),m=C(f.datums)}var S=function(A){return Tl(A,n)},T=function(A){return kl(A,r)},P=Qf(S,T).curve(c);P.defined(function(N){return[S(N),T(N)].every(mp)});var $=(r.elementType==="area"||r.elementType==="line")&&(v=P(f.datums))!=null?v:void 0,k=(y=r.showDatumElements)!=null?y:r.elementType==="bubble"||"onFocus";return me("g",{children:[m?U("path",{d:m,style:ee({strokeWidth:2,opacity:.5},w,w.area)}):null,$?U("path",{d:$,style:ee({strokeWidth:2},w,w.line,{fill:"none"})}):null,f.datums.map(function(N,A){var R,z=l(N,d),X=k==="onFocus"?N===d?4:0:2,W=k==="onFocus"?N===d:(R=r.showDatumElements)!=null?R:r.elementType==="bubble";return U("circle",{ref:function(E){N.element=E},cx:XS(N,n,r)||0,cy:ZS(N,n,r)||0,style:ee({r:X,transition:"all .3s ease-out"},w,w.circle,z,z.circle,W?{}:{opacity:0})},A)})]},"lines-"+h)})})}function XS(e,t,n){return t.isVertical?kl(e,n):Tl(e,t)}function ZS(e,t,n){return t.isVertical?Tl(e,t):kl(e,n)}function Tl(e,t){var n,r=(n=t.scale(e.primaryValue))!=null?n:NaN;return t.axisFamily==="band"&&(r+=t.scale.bandwidth()/2),r}function kl(e,t){var n;if(t.stacked){var r,i,o;return(r=t.scale((i=(o=e.stackData)==null?void 0:o[1])!=null?i:NaN))!=null?r:NaN}return(n=t.scale(e.secondaryValue))!=null?n:NaN}function JS(e,t){var n;if(t.stacked){var r,i,o;return(r=t.scale((i=(o=e.stackData)==null?void 0:o[0])!=null?i:NaN))!=null?r:NaN}return(n=t.scale(0))!=null?n:NaN}function Sp(e,t){var n=t.scale.range();return t.isVertical&&n.reverse(),Math.max(n[0],Math.min(e,n[1]))}function Ei(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const xp=Symbol("implicit");function Dv(){var e=new Map,t=[],n=[],r=xp;function i(o){var s=o+"",l=e.get(s);if(!l){if(r!==xp)return r;e.set(s,l=t.push(o))}return n[(l-1)%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Map;for(const s of o){const l=s+"";e.has(l)||e.set(l,t.push(s))}return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Dv(t,n).unknown(r)},Ei.apply(i,arguments),i}function fa(){var e=Dv().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,s,l=!1,a=0,u=0,c=.5;delete e.unknown;function d(){var f=t().length,h=i<r,v=h?i:r,y=h?r:i;o=(y-v)/Math.max(1,f-a+u*2),l&&(o=Math.floor(o)),v+=(y-v-o*(f-a))*c,s=o*(1-a),l&&(v=Math.round(v),s=Math.round(s));var w=Hf(f).map(function(m){return v+o*m});return n(h?w.reverse():w)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,l=!0,d()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(f){return arguments.length?(l=!!f,d()):l},e.padding=function(f){return arguments.length?(a=Math.min(1,u=+f),d()):a},e.paddingInner=function(f){return arguments.length?(a=Math.min(1,f),d()):a},e.paddingOuter=function(f){return arguments.length?(u=+f,d()):u},e.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),d()):c},e.copy=function(){return fa(t(),[r,i]).round(l).paddingInner(a).paddingOuter(u).align(c)},Ei.apply(d(),arguments)}function qf(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Pv(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Jo(){}var Ao=.7,Nl=1/Ao,si="\\s*([+-]?\\d+)\\s*",bo="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ex=/^#([0-9a-f]{3,8})$/,tx=new RegExp("^rgb\\("+[si,si,si]+"\\)$"),nx=new RegExp("^rgb\\("+[Jt,Jt,Jt]+"\\)$"),rx=new RegExp("^rgba\\("+[si,si,si,bo]+"\\)$"),ix=new RegExp("^rgba\\("+[Jt,Jt,Jt,bo]+"\\)$"),ox=new RegExp("^hsl\\("+[bo,Jt,Jt]+"\\)$"),sx=new RegExp("^hsla\\("+[bo,Jt,Jt,bo]+"\\)$"),Cp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qf(Jo,Oo,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Ep,formatHex:Ep,formatHsl:lx,formatRgb:Tp,toString:Tp});function Ep(){return this.rgb().formatHex()}function lx(){return Av(this).formatHsl()}function Tp(){return this.rgb().formatRgb()}function Oo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ex.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?kp(t):n===3?new vt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ds(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ds(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=tx.exec(e))?new vt(t[1],t[2],t[3],1):(t=nx.exec(e))?new vt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=rx.exec(e))?Ds(t[1],t[2],t[3],t[4]):(t=ix.exec(e))?Ds(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ox.exec(e))?Ip(t[1],t[2]/100,t[3]/100,1):(t=sx.exec(e))?Ip(t[1],t[2]/100,t[3]/100,t[4]):Cp.hasOwnProperty(e)?kp(Cp[e]):e==="transparent"?new vt(NaN,NaN,NaN,0):null}function kp(e){return new vt(e>>16&255,e>>8&255,e&255,1)}function Ds(e,t,n,r){return r<=0&&(e=t=n=NaN),new vt(e,t,n,r)}function ax(e){return e instanceof Jo||(e=Oo(e)),e?(e=e.rgb(),new vt(e.r,e.g,e.b,e.opacity)):new vt}function Ec(e,t,n,r){return arguments.length===1?ax(e):new vt(e,t,n,r==null?1:r)}function vt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}qf(vt,Ec,Pv(Jo,{brighter:function(e){return e=e==null?Nl:Math.pow(Nl,e),new vt(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Ao:Math.pow(Ao,e),new vt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Np,formatHex:Np,formatRgb:Mp,toString:Mp}));function Np(){return"#"+qa(this.r)+qa(this.g)+qa(this.b)}function Mp(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function qa(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function Ip(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new qt(e,t,n,r)}function Av(e){if(e instanceof qt)return new qt(e.h,e.s,e.l,e.opacity);if(e instanceof Jo||(e=Oo(e)),!e)return new qt;if(e instanceof qt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,l=o-i,a=(o+i)/2;return l?(t===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-t)/l+2:s=(t-n)/l+4,l/=a<.5?o+i:2-o-i,s*=60):l=a>0&&a<1?0:s,new qt(s,l,a,e.opacity)}function ux(e,t,n,r){return arguments.length===1?Av(e):new qt(e,t,n,r==null?1:r)}function qt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}qf(qt,ux,Pv(Jo,{brighter:function(e){return e=e==null?Nl:Math.pow(Nl,e),new qt(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Ao:Math.pow(Ao,e),new qt(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new vt(Xa(e>=240?e-240:e+120,i,r),Xa(e,i,r),Xa(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function Xa(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Xf=e=>()=>e;function cx(e,t){return function(n){return e+n*t}}function fx(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function dx(e){return(e=+e)==1?bv:function(t,n){return n-t?fx(t,n,e):Xf(isNaN(t)?n:t)}}function bv(e,t){var n=t-e;return n?cx(e,n):Xf(isNaN(e)?t:e)}const Rp=function e(t){var n=dx(t);function r(i,o){var s=n((i=Ec(i)).r,(o=Ec(o)).r),l=n(i.g,o.g),a=n(i.b,o.b),u=bv(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=l(c),i.b=a(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function hx(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function px(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function mx(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Zf(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(l){for(s=0;s<r;++s)o[s]=i[s](l);return o}}function gx(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ml(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function vx(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Zf(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Tc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Za=new RegExp(Tc.source,"g");function yx(e){return function(){return e}}function _x(e){return function(t){return e(t)+""}}function wx(e,t){var n=Tc.lastIndex=Za.lastIndex=0,r,i,o,s=-1,l=[],a=[];for(e=e+"",t=t+"";(r=Tc.exec(e))&&(i=Za.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,a.push({i:s,x:Ml(r,i)})),n=Za.lastIndex;return n<t.length&&(o=t.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?a[0]?_x(a[0].x):yx(t):(t=a.length,function(u){for(var c=0,d;c<t;++c)l[(d=a[c]).i]=d.x(u);return l.join("")})}function Zf(e,t){var n=typeof t,r;return t==null||n==="boolean"?Xf(t):(n==="number"?Ml:n==="string"?(r=Oo(t))?(t=r,Rp):wx:t instanceof Oo?Rp:t instanceof Date?gx:px(t)?hx:Array.isArray(t)?mx:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?vx:Ml)(e,t)}function Sx(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function xx(e){return function(){return e}}function Cx(e){return+e}var Dp=[0,1];function Kr(e){return e}function kc(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:xx(isNaN(t)?NaN:.5)}function Ex(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Tx(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=kc(i,r),o=n(s,o)):(r=kc(r,i),o=n(o,s)),function(l){return o(r(l))}}function kx(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=kc(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(l){var a=CS(e,l,1,r)-1;return o[a](i[a](l))}}function Jf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ov(){var e=Dp,t=Dp,n=Zf,r,i,o,s=Kr,l,a,u;function c(){var f=Math.min(e.length,t.length);return s!==Kr&&(s=Ex(e[0],e[f-1])),l=f>2?kx:Tx,a=u=null,d}function d(f){return f==null||isNaN(f=+f)?o:(a||(a=l(e.map(r),t,n)))(r(s(f)))}return d.invert=function(f){return s(i((u||(u=l(t,e.map(r),Ml)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,Cx),c()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),c()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),n=Sx,c()},d.clamp=function(f){return arguments.length?(s=f?!0:Kr,c()):s!==Kr},d.interpolate=function(f){return arguments.length?(n=f,c()):n},d.unknown=function(f){return arguments.length?(o=f,d):o},function(f,h){return r=f,i=h,c()}}function Lv(){return Ov()(Kr,Kr)}function Nx(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Il(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function gi(e){return e=Il(Math.abs(e)),e?e[1]:NaN}function Mx(e,t){return function(n,r){for(var i=n.length,o=[],s=0,l=e[0],a=0;i>0&&l>0&&(a+l+1>r&&(l=Math.max(1,r-a)),o.push(n.substring(i-=l,i+l)),!((a+=l+1)>r));)l=e[s=(s+1)%e.length];return o.reverse().join(t)}}function Ix(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Rx=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rl(e){if(!(t=Rx.exec(e)))throw new Error("invalid format: "+e);var t;return new ed({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Rl.prototype=ed.prototype;function ed(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ed.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Dx(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Fv;function Px(e,t){var n=Il(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Fv=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Il(e,Math.max(0,t+o-1))[0]}function Pp(e,t){var n=Il(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Ap={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Nx,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Pp(e*100,t),r:Pp,s:Px,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function bp(e){return e}var Op=Array.prototype.map,Lp=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Ax(e){var t=e.grouping===void 0||e.thousands===void 0?bp:Mx(Op.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?bp:Ix(Op.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"\u2212":e.minus+"",a=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Rl(d);var f=d.fill,h=d.align,v=d.sign,y=d.symbol,w=d.zero,m=d.width,p=d.comma,g=d.precision,_=d.trim,C=d.type;C==="n"?(p=!0,C="g"):Ap[C]||(g===void 0&&(g=12),_=!0,C="g"),(w||f==="0"&&h==="=")&&(w=!0,f="0",h="=");var S=y==="$"?n:y==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",T=y==="$"?r:/[%p]/.test(C)?s:"",P=Ap[C],$=/[defgprs%]/.test(C);g=g===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function k(N){var A=S,R=T,z,X,W;if(C==="c")R=P(N)+R,N="";else{N=+N;var M=N<0||1/N<0;if(N=isNaN(N)?a:P(Math.abs(N),g),_&&(N=Dx(N)),M&&+N==0&&v!=="+"&&(M=!1),A=(M?v==="("?v:l:v==="-"||v==="("?"":v)+A,R=(C==="s"?Lp[8+Fv/3]:"")+R+(M&&v==="("?")":""),$){for(z=-1,X=N.length;++z<X;)if(W=N.charCodeAt(z),48>W||W>57){R=(W===46?i+N.slice(z+1):N.slice(z))+R,N=N.slice(0,z);break}}}p&&!w&&(N=t(N,1/0));var E=A.length+N.length+R.length,D=E<m?new Array(m-E+1).join(f):"";switch(p&&w&&(N=t(D+N,D.length?m-R.length:1/0),D=""),h){case"<":N=A+N+R+D;break;case"=":N=A+D+N+R;break;case"^":N=D.slice(0,E=D.length>>1)+A+N+R+D.slice(E);break;default:N=D+A+N+R;break}return o(N)}return k.toString=function(){return d+""},k}function c(d,f){var h=u((d=Rl(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(gi(f)/3)))*3,y=Math.pow(10,-v),w=Lp[8+v/3];return function(m){return h(y*m)+w}}return{format:u,formatPrefix:c}}var Ps,td,$v;bx({thousands:",",grouping:[3],currency:["$",""]});function bx(e){return Ps=Ax(e),td=Ps.format,$v=Ps.formatPrefix,Ps}function Ox(e){return Math.max(0,-gi(Math.abs(e)))}function Lx(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gi(t)/3)))*3-gi(Math.abs(e)))}function Fx(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gi(t)-gi(e))+1}function $x(e,t,n,r){var i=yc(e,t,n),o;switch(r=Rl(r==null?",f":r),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=Lx(i,s))&&(r.precision=o),$v(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Fx(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Ox(i))&&(r.precision=o-(r.type==="%")*2);break}}return td(r)}function Ux(e){var t=e.domain;return e.ticks=function(n){var r=t();return vc(r[0],r[r.length-1],n==null?10:n)},e.tickFormat=function(n,r){var i=t();return $x(i[0],i[i.length-1],n==null?10:n,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],l=r[o],a,u,c=10;for(l<s&&(u=s,s=l,l=u,u=i,i=o,o=u);c-- >0;){if(u=wv(s,l,n),u===a)return r[i]=s,r[o]=l,t(r);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;a=u}return e},e}function Uv(){var e=Lv();return e.copy=function(){return Jf(e,Uv())},Ei.apply(e,arguments),Ux(e)}function Bv(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function Fp(e){return Math.log(e)}function $p(e){return Math.exp(e)}function Bx(e){return-Math.log(-e)}function zx(e){return-Math.exp(-e)}function Vx(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Wx(e){return e===10?Vx:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function Hx(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function Up(e){return function(t){return-e(-t)}}function jx(e){var t=e(Fp,$p),n=t.domain,r=10,i,o;function s(){return i=Hx(r),o=Wx(r),n()[0]<0?(i=Up(i),o=Up(o),e(Bx,zx)):e(Fp,$p),t}return t.base=function(l){return arguments.length?(r=+l,s()):r},t.domain=function(l){return arguments.length?(n(l),s()):n()},t.ticks=function(l){var a=n(),u=a[0],c=a[a.length-1],d;(d=c<u)&&(f=u,u=c,c=f);var f=i(u),h=i(c),v,y,w,m=l==null?10:+l,p=[];if(!(r%1)&&h-f<m){if(f=Math.floor(f),h=Math.ceil(h),u>0){for(;f<=h;++f)for(y=1,v=o(f);y<r;++y)if(w=v*y,!(w<u)){if(w>c)break;p.push(w)}}else for(;f<=h;++f)for(y=r-1,v=o(f);y>=1;--y)if(w=v*y,!(w<u)){if(w>c)break;p.push(w)}p.length*2<m&&(p=vc(u,c,m))}else p=vc(f,h,Math.min(h-f,m)).map(o);return d?p.reverse():p},t.tickFormat=function(l,a){if(a==null&&(a=r===10?".0e":","),typeof a!="function"&&(a=td(a)),l===1/0)return a;l==null&&(l=10);var u=Math.max(1,r*l/t.ticks().length);return function(c){var d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?a(c):""}},t.nice=function(){return n(Bv(n(),{floor:function(l){return o(Math.floor(i(l)))},ceil:function(l){return o(Math.ceil(i(l)))}}))},t}function zv(){var e=jx(Ov()).domain([1,10]);return e.copy=function(){return Jf(e,zv()).base(e.base())},Ei.apply(e,arguments),e}var Ja=new Date,eu=new Date;function We(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=function(o){return e(o=new Date(+o)),o},i.ceil=function(o){return e(o=new Date(o-1)),t(o,1),e(o),o},i.round=function(o){var s=i(o),l=i.ceil(o);return o-s<l-o?s:l},i.offset=function(o,s){return t(o=new Date(+o),s==null?1:Math.floor(s)),o},i.range=function(o,s,l){var a=[],u;if(o=i.ceil(o),l=l==null?1:Math.floor(l),!(o<s)||!(l>0))return a;do a.push(u=new Date(+o)),t(o,l),e(o);while(u<o&&o<s);return a},i.filter=function(o){return We(function(s){if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},function(s,l){if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!o(s););else for(;--l>=0;)for(;t(s,1),!o(s););})},n&&(i.count=function(o,s){return Ja.setTime(+o),eu.setTime(+s),e(Ja),e(eu),Math.floor(n(Ja,eu))},i.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?function(s){return r(s)%o===0}:function(s){return i.count(0,s)%o===0}):i}),i}var Dl=We(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});Dl.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?We(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):Dl};const Yx=Dl;Dl.range;const ln=1e3,Mt=ln*60,an=Mt*60,hr=an*24,nd=hr*7,Bp=hr*30,tu=hr*365;var Vv=We(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*ln)},function(e,t){return(t-e)/ln},function(e){return e.getUTCSeconds()});const Tn=Vv;Vv.range;var Wv=We(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*ln)},function(e,t){e.setTime(+e+t*Mt)},function(e,t){return(t-e)/Mt},function(e){return e.getMinutes()});const rd=Wv;Wv.range;var Hv=We(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*ln-e.getMinutes()*Mt)},function(e,t){e.setTime(+e+t*an)},function(e,t){return(t-e)/an},function(e){return e.getHours()});const id=Hv;Hv.range;var jv=We(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Mt)/hr,e=>e.getDate()-1);const Er=jv;jv.range;function Tr(e){return We(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n*7)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Mt)/nd})}var es=Tr(0),pr=Tr(1),Gx=Tr(2),Kx=Tr(3),Ht=Tr(4),Qx=Tr(5),qx=Tr(6);es.range;pr.range;Gx.range;Kx.range;Ht.range;Qx.range;qx.range;var Yv=We(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()});const od=Yv;Yv.range;var sd=We(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});sd.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:We(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)})};const St=sd;sd.range;var Gv=We(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*Mt)},function(e,t){return(t-e)/Mt},function(e){return e.getUTCMinutes()});const ld=Gv;Gv.range;var Kv=We(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*an)},function(e,t){return(t-e)/an},function(e){return e.getUTCHours()});const ad=Kv;Kv.range;var Qv=We(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/hr},function(e){return e.getUTCDate()-1});const kr=Qv;Qv.range;function Nr(e){return We(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n*7)},function(t,n){return(n-t)/nd})}var ts=Nr(0),mr=Nr(1),Xx=Nr(2),Zx=Nr(3),jt=Nr(4),Jx=Nr(5),eC=Nr(6);ts.range;mr.range;Xx.range;Zx.range;jt.range;Jx.range;eC.range;var qv=We(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()});const ud=qv;qv.range;var cd=We(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});cd.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:We(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})};const xt=cd;cd.range;function Xv(e,t,n,r,i,o){const s=[[Tn,1,ln],[Tn,5,5*ln],[Tn,15,15*ln],[Tn,30,30*ln],[o,1,Mt],[o,5,5*Mt],[o,15,15*Mt],[o,30,30*Mt],[i,1,an],[i,3,3*an],[i,6,6*an],[i,12,12*an],[r,1,hr],[r,2,2*hr],[n,1,nd],[t,1,Bp],[t,3,3*Bp],[e,1,tu]];function l(u,c,d){const f=c<u;f&&([u,c]=[c,u]);const h=d&&typeof d.range=="function"?d:a(u,c,d),v=h?h.range(u,+c+1):[];return f?v.reverse():v}function a(u,c,d){const f=Math.abs(c-u)/d,h=Wf(([,,w])=>w).right(s,f);if(h===s.length)return e.every(yc(u/tu,c/tu,d));if(h===0)return Yx.every(Math.max(yc(u,c,d),1));const[v,y]=s[f/s[h-1][2]<s[h][2]/f?h-1:h];return v.every(y)}return[l,a]}const[tC,nC]=Xv(xt,ud,ts,kr,ad,ld),[rC,iC]=Xv(St,od,es,Er,id,rd);function nu(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ru(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ui(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function oC(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,l=e.months,a=e.shortMonths,u=Bi(i),c=zi(i),d=Bi(o),f=zi(o),h=Bi(s),v=zi(s),y=Bi(l),w=zi(l),m=Bi(a),p=zi(a),g={a:M,A:E,b:D,B:b,c:null,d:Yp,e:Yp,f:MC,g:$C,G:BC,H:TC,I:kC,j:NC,L:Zv,m:IC,M:RC,p:K,q:H,Q:Qp,s:qp,S:DC,u:PC,U:AC,V:bC,w:OC,W:LC,x:null,X:null,y:FC,Y:UC,Z:zC,"%":Kp},_={a:Q,A:j,b:re,B:de,c:null,d:Gp,e:Gp,f:jC,g:tE,G:rE,H:VC,I:WC,j:HC,L:ey,m:YC,M:GC,p:ge,q:Z,Q:Qp,s:qp,S:KC,u:QC,U:qC,V:XC,w:ZC,W:JC,x:null,X:null,y:eE,Y:nE,Z:iE,"%":Kp},C={a:k,A:N,b:A,B:R,c:z,d:Hp,e:Hp,f:SC,g:Wp,G:Vp,H:jp,I:jp,j:vC,L:wC,m:gC,M:yC,p:$,q:mC,Q:CC,s:EC,S:_C,u:cC,U:fC,V:dC,w:uC,W:hC,x:X,X:W,y:Wp,Y:Vp,Z:pC,"%":xC};g.x=S(n,g),g.X=S(r,g),g.c=S(t,g),_.x=S(n,_),_.X=S(r,_),_.c=S(t,_);function S(I,L){return function(B){var x=[],J=-1,Y=0,ae=I.length,se,Ce,tt;for(B instanceof Date||(B=new Date(+B));++J<ae;)I.charCodeAt(J)===37&&(x.push(I.slice(Y,J)),(Ce=zp[se=I.charAt(++J)])!=null?se=I.charAt(++J):Ce=se==="e"?" ":"0",(tt=L[se])&&(se=tt(B,Ce)),x.push(se),Y=J+1);return x.push(I.slice(Y,J)),x.join("")}}function T(I,L){return function(B){var x=Ui(1900,void 0,1),J=P(x,I,B+="",0),Y,ae;if(J!=B.length)return null;if("Q"in x)return new Date(x.Q);if("s"in x)return new Date(x.s*1e3+("L"in x?x.L:0));if(L&&!("Z"in x)&&(x.Z=0),"p"in x&&(x.H=x.H%12+x.p*12),x.m===void 0&&(x.m="q"in x?x.q:0),"V"in x){if(x.V<1||x.V>53)return null;"w"in x||(x.w=1),"Z"in x?(Y=ru(Ui(x.y,0,1)),ae=Y.getUTCDay(),Y=ae>4||ae===0?mr.ceil(Y):mr(Y),Y=kr.offset(Y,(x.V-1)*7),x.y=Y.getUTCFullYear(),x.m=Y.getUTCMonth(),x.d=Y.getUTCDate()+(x.w+6)%7):(Y=nu(Ui(x.y,0,1)),ae=Y.getDay(),Y=ae>4||ae===0?pr.ceil(Y):pr(Y),Y=Er.offset(Y,(x.V-1)*7),x.y=Y.getFullYear(),x.m=Y.getMonth(),x.d=Y.getDate()+(x.w+6)%7)}else("W"in x||"U"in x)&&("w"in x||(x.w="u"in x?x.u%7:"W"in x?1:0),ae="Z"in x?ru(Ui(x.y,0,1)).getUTCDay():nu(Ui(x.y,0,1)).getDay(),x.m=0,x.d="W"in x?(x.w+6)%7+x.W*7-(ae+5)%7:x.w+x.U*7-(ae+6)%7);return"Z"in x?(x.H+=x.Z/100|0,x.M+=x.Z%100,ru(x)):nu(x)}}function P(I,L,B,x){for(var J=0,Y=L.length,ae=B.length,se,Ce;J<Y;){if(x>=ae)return-1;if(se=L.charCodeAt(J++),se===37){if(se=L.charAt(J++),Ce=C[se in zp?L.charAt(J++):se],!Ce||(x=Ce(I,B,x))<0)return-1}else if(se!=B.charCodeAt(x++))return-1}return x}function $(I,L,B){var x=u.exec(L.slice(B));return x?(I.p=c.get(x[0].toLowerCase()),B+x[0].length):-1}function k(I,L,B){var x=h.exec(L.slice(B));return x?(I.w=v.get(x[0].toLowerCase()),B+x[0].length):-1}function N(I,L,B){var x=d.exec(L.slice(B));return x?(I.w=f.get(x[0].toLowerCase()),B+x[0].length):-1}function A(I,L,B){var x=m.exec(L.slice(B));return x?(I.m=p.get(x[0].toLowerCase()),B+x[0].length):-1}function R(I,L,B){var x=y.exec(L.slice(B));return x?(I.m=w.get(x[0].toLowerCase()),B+x[0].length):-1}function z(I,L,B){return P(I,t,L,B)}function X(I,L,B){return P(I,n,L,B)}function W(I,L,B){return P(I,r,L,B)}function M(I){return s[I.getDay()]}function E(I){return o[I.getDay()]}function D(I){return a[I.getMonth()]}function b(I){return l[I.getMonth()]}function K(I){return i[+(I.getHours()>=12)]}function H(I){return 1+~~(I.getMonth()/3)}function Q(I){return s[I.getUTCDay()]}function j(I){return o[I.getUTCDay()]}function re(I){return a[I.getUTCMonth()]}function de(I){return l[I.getUTCMonth()]}function ge(I){return i[+(I.getUTCHours()>=12)]}function Z(I){return 1+~~(I.getUTCMonth()/3)}return{format:function(I){var L=S(I+="",g);return L.toString=function(){return I},L},parse:function(I){var L=T(I+="",!1);return L.toString=function(){return I},L},utcFormat:function(I){var L=S(I+="",_);return L.toString=function(){return I},L},utcParse:function(I){var L=T(I+="",!0);return L.toString=function(){return I},L}}}var zp={"-":"",_:" ",0:"0"},He=/^\s*\d+/,sC=/^%/,lC=/[\\^$*+?|[\]().{}]/g;function ce(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function aC(e){return e.replace(lC,"\\$&")}function Bi(e){return new RegExp("^(?:"+e.map(aC).join("|")+")","i")}function zi(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function uC(e,t,n){var r=He.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function cC(e,t,n){var r=He.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function fC(e,t,n){var r=He.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function dC(e,t,n){var r=He.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function hC(e,t,n){var r=He.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Vp(e,t,n){var r=He.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Wp(e,t,n){var r=He.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function pC(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function mC(e,t,n){var r=He.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function gC(e,t,n){var r=He.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Hp(e,t,n){var r=He.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function vC(e,t,n){var r=He.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function jp(e,t,n){var r=He.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function yC(e,t,n){var r=He.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function _C(e,t,n){var r=He.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function wC(e,t,n){var r=He.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function SC(e,t,n){var r=He.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function xC(e,t,n){var r=sC.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function CC(e,t,n){var r=He.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function EC(e,t,n){var r=He.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Yp(e,t){return ce(e.getDate(),t,2)}function TC(e,t){return ce(e.getHours(),t,2)}function kC(e,t){return ce(e.getHours()%12||12,t,2)}function NC(e,t){return ce(1+Er.count(St(e),e),t,3)}function Zv(e,t){return ce(e.getMilliseconds(),t,3)}function MC(e,t){return Zv(e,t)+"000"}function IC(e,t){return ce(e.getMonth()+1,t,2)}function RC(e,t){return ce(e.getMinutes(),t,2)}function DC(e,t){return ce(e.getSeconds(),t,2)}function PC(e){var t=e.getDay();return t===0?7:t}function AC(e,t){return ce(es.count(St(e)-1,e),t,2)}function Jv(e){var t=e.getDay();return t>=4||t===0?Ht(e):Ht.ceil(e)}function bC(e,t){return e=Jv(e),ce(Ht.count(St(e),e)+(St(e).getDay()===4),t,2)}function OC(e){return e.getDay()}function LC(e,t){return ce(pr.count(St(e)-1,e),t,2)}function FC(e,t){return ce(e.getFullYear()%100,t,2)}function $C(e,t){return e=Jv(e),ce(e.getFullYear()%100,t,2)}function UC(e,t){return ce(e.getFullYear()%1e4,t,4)}function BC(e,t){var n=e.getDay();return e=n>=4||n===0?Ht(e):Ht.ceil(e),ce(e.getFullYear()%1e4,t,4)}function zC(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ce(t/60|0,"0",2)+ce(t%60,"0",2)}function Gp(e,t){return ce(e.getUTCDate(),t,2)}function VC(e,t){return ce(e.getUTCHours(),t,2)}function WC(e,t){return ce(e.getUTCHours()%12||12,t,2)}function HC(e,t){return ce(1+kr.count(xt(e),e),t,3)}function ey(e,t){return ce(e.getUTCMilliseconds(),t,3)}function jC(e,t){return ey(e,t)+"000"}function YC(e,t){return ce(e.getUTCMonth()+1,t,2)}function GC(e,t){return ce(e.getUTCMinutes(),t,2)}function KC(e,t){return ce(e.getUTCSeconds(),t,2)}function QC(e){var t=e.getUTCDay();return t===0?7:t}function qC(e,t){return ce(ts.count(xt(e)-1,e),t,2)}function ty(e){var t=e.getUTCDay();return t>=4||t===0?jt(e):jt.ceil(e)}function XC(e,t){return e=ty(e),ce(jt.count(xt(e),e)+(xt(e).getUTCDay()===4),t,2)}function ZC(e){return e.getUTCDay()}function JC(e,t){return ce(mr.count(xt(e)-1,e),t,2)}function eE(e,t){return ce(e.getUTCFullYear()%100,t,2)}function tE(e,t){return e=ty(e),ce(e.getUTCFullYear()%100,t,2)}function nE(e,t){return ce(e.getUTCFullYear()%1e4,t,4)}function rE(e,t){var n=e.getUTCDay();return e=n>=4||n===0?jt(e):jt.ceil(e),ce(e.getUTCFullYear()%1e4,t,4)}function iE(){return"+0000"}function Kp(){return"%"}function Qp(e){return+e}function qp(e){return Math.floor(+e/1e3)}var Dr,ny,ry;oE({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function oE(e){return Dr=oC(e),ny=Dr.format,Dr.parse,ry=Dr.utcFormat,Dr.utcParse,Dr}function sE(e){return new Date(e)}function lE(e){return e instanceof Date?+e:+new Date(+e)}function fd(e,t,n,r,i,o,s,l,a,u){var c=Lv(),d=c.invert,f=c.domain,h=u(".%L"),v=u(":%S"),y=u("%I:%M"),w=u("%I %p"),m=u("%a %d"),p=u("%b %d"),g=u("%B"),_=u("%Y");function C(S){return(a(S)<S?h:l(S)<S?v:s(S)<S?y:o(S)<S?w:r(S)<S?i(S)<S?m:p:n(S)<S?g:_)(S)}return c.invert=function(S){return new Date(d(S))},c.domain=function(S){return arguments.length?f(Array.from(S,lE)):f().map(sE)},c.ticks=function(S){var T=f();return e(T[0],T[T.length-1],S==null?10:S)},c.tickFormat=function(S,T){return T==null?C:u(T)},c.nice=function(S){var T=f();return(!S||typeof S.range!="function")&&(S=t(T[0],T[T.length-1],S==null?10:S)),S?f(Bv(T,S)):c},c.copy=function(){return Jf(c,fd(e,t,n,r,i,o,s,l,a,u))},c}function aE(){return Ei.apply(fd(rC,iC,St,od,es,Er,id,rd,Tn,ny).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function uE(){return Ei.apply(fd(tC,nC,xt,ud,ts,kr,ad,ld,Tn,ry).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function iu(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ou(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Vi(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function cE(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,l=e.months,a=e.shortMonths,u=Wi(i),c=Hi(i),d=Wi(o),f=Hi(o),h=Wi(s),v=Hi(s),y=Wi(l),w=Hi(l),m=Wi(a),p=Hi(a),g={a:M,A:E,b:D,B:b,c:null,d:nm,e:nm,f:AE,g:WE,G:jE,H:RE,I:DE,j:PE,L:iy,m:bE,M:OE,p:K,q:H,Q:om,s:sm,S:LE,u:FE,U:$E,V:UE,w:BE,W:zE,x:null,X:null,y:VE,Y:HE,Z:YE,"%":im},_={a:Q,A:j,b:re,B:de,c:null,d:rm,e:rm,f:qE,g:sT,G:aT,H:GE,I:KE,j:QE,L:sy,m:XE,M:ZE,p:ge,q:Z,Q:om,s:sm,S:JE,u:eT,U:tT,V:nT,w:rT,W:iT,x:null,X:null,y:oT,Y:lT,Z:uT,"%":im},C={a:k,A:N,b:A,B:R,c:z,d:em,e:em,f:kE,g:Jp,G:Zp,H:tm,I:tm,j:xE,L:TE,m:SE,M:CE,p:$,q:wE,Q:ME,s:IE,S:EE,u:mE,U:gE,V:vE,w:pE,W:yE,x:X,X:W,y:Jp,Y:Zp,Z:_E,"%":NE};g.x=S(n,g),g.X=S(r,g),g.c=S(t,g),_.x=S(n,_),_.X=S(r,_),_.c=S(t,_);function S(I,L){return function(B){var x=[],J=-1,Y=0,ae=I.length,se,Ce,tt;for(B instanceof Date||(B=new Date(+B));++J<ae;)I.charCodeAt(J)===37&&(x.push(I.slice(Y,J)),(Ce=Xp[se=I.charAt(++J)])!=null?se=I.charAt(++J):Ce=se==="e"?" ":"0",(tt=L[se])&&(se=tt(B,Ce)),x.push(se),Y=J+1);return x.push(I.slice(Y,J)),x.join("")}}function T(I,L){return function(B){var x=Vi(1900,void 0,1),J=P(x,I,B+="",0),Y,ae;if(J!=B.length)return null;if("Q"in x)return new Date(x.Q);if("s"in x)return new Date(x.s*1e3+("L"in x?x.L:0));if(L&&!("Z"in x)&&(x.Z=0),"p"in x&&(x.H=x.H%12+x.p*12),x.m===void 0&&(x.m="q"in x?x.q:0),"V"in x){if(x.V<1||x.V>53)return null;"w"in x||(x.w=1),"Z"in x?(Y=ou(Vi(x.y,0,1)),ae=Y.getUTCDay(),Y=ae>4||ae===0?mr.ceil(Y):mr(Y),Y=kr.offset(Y,(x.V-1)*7),x.y=Y.getUTCFullYear(),x.m=Y.getUTCMonth(),x.d=Y.getUTCDate()+(x.w+6)%7):(Y=iu(Vi(x.y,0,1)),ae=Y.getDay(),Y=ae>4||ae===0?pr.ceil(Y):pr(Y),Y=Er.offset(Y,(x.V-1)*7),x.y=Y.getFullYear(),x.m=Y.getMonth(),x.d=Y.getDate()+(x.w+6)%7)}else("W"in x||"U"in x)&&("w"in x||(x.w="u"in x?x.u%7:"W"in x?1:0),ae="Z"in x?ou(Vi(x.y,0,1)).getUTCDay():iu(Vi(x.y,0,1)).getDay(),x.m=0,x.d="W"in x?(x.w+6)%7+x.W*7-(ae+5)%7:x.w+x.U*7-(ae+6)%7);return"Z"in x?(x.H+=x.Z/100|0,x.M+=x.Z%100,ou(x)):iu(x)}}function P(I,L,B,x){for(var J=0,Y=L.length,ae=B.length,se,Ce;J<Y;){if(x>=ae)return-1;if(se=L.charCodeAt(J++),se===37){if(se=L.charAt(J++),Ce=C[se in Xp?L.charAt(J++):se],!Ce||(x=Ce(I,B,x))<0)return-1}else if(se!=B.charCodeAt(x++))return-1}return x}function $(I,L,B){var x=u.exec(L.slice(B));return x?(I.p=c.get(x[0].toLowerCase()),B+x[0].length):-1}function k(I,L,B){var x=h.exec(L.slice(B));return x?(I.w=v.get(x[0].toLowerCase()),B+x[0].length):-1}function N(I,L,B){var x=d.exec(L.slice(B));return x?(I.w=f.get(x[0].toLowerCase()),B+x[0].length):-1}function A(I,L,B){var x=m.exec(L.slice(B));return x?(I.m=p.get(x[0].toLowerCase()),B+x[0].length):-1}function R(I,L,B){var x=y.exec(L.slice(B));return x?(I.m=w.get(x[0].toLowerCase()),B+x[0].length):-1}function z(I,L,B){return P(I,t,L,B)}function X(I,L,B){return P(I,n,L,B)}function W(I,L,B){return P(I,r,L,B)}function M(I){return s[I.getDay()]}function E(I){return o[I.getDay()]}function D(I){return a[I.getMonth()]}function b(I){return l[I.getMonth()]}function K(I){return i[+(I.getHours()>=12)]}function H(I){return 1+~~(I.getMonth()/3)}function Q(I){return s[I.getUTCDay()]}function j(I){return o[I.getUTCDay()]}function re(I){return a[I.getUTCMonth()]}function de(I){return l[I.getUTCMonth()]}function ge(I){return i[+(I.getUTCHours()>=12)]}function Z(I){return 1+~~(I.getUTCMonth()/3)}return{format:function(I){var L=S(I+="",g);return L.toString=function(){return I},L},parse:function(I){var L=T(I+="",!1);return L.toString=function(){return I},L},utcFormat:function(I){var L=S(I+="",_);return L.toString=function(){return I},L},utcParse:function(I){var L=T(I+="",!0);return L.toString=function(){return I},L}}}var Xp={"-":"",_:" ",0:"0"},je=/^\s*\d+/,fE=/^%/,dE=/[\\^$*+?|[\]().{}]/g;function fe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function hE(e){return e.replace(dE,"\\$&")}function Wi(e){return new RegExp("^(?:"+e.map(hE).join("|")+")","i")}function Hi(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function pE(e,t,n){var r=je.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function mE(e,t,n){var r=je.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function gE(e,t,n){var r=je.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function vE(e,t,n){var r=je.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function yE(e,t,n){var r=je.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Zp(e,t,n){var r=je.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Jp(e,t,n){var r=je.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function _E(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function wE(e,t,n){var r=je.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function SE(e,t,n){var r=je.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function em(e,t,n){var r=je.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function xE(e,t,n){var r=je.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function tm(e,t,n){var r=je.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function CE(e,t,n){var r=je.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function EE(e,t,n){var r=je.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function TE(e,t,n){var r=je.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function kE(e,t,n){var r=je.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function NE(e,t,n){var r=fE.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ME(e,t,n){var r=je.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function IE(e,t,n){var r=je.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function nm(e,t){return fe(e.getDate(),t,2)}function RE(e,t){return fe(e.getHours(),t,2)}function DE(e,t){return fe(e.getHours()%12||12,t,2)}function PE(e,t){return fe(1+Er.count(St(e),e),t,3)}function iy(e,t){return fe(e.getMilliseconds(),t,3)}function AE(e,t){return iy(e,t)+"000"}function bE(e,t){return fe(e.getMonth()+1,t,2)}function OE(e,t){return fe(e.getMinutes(),t,2)}function LE(e,t){return fe(e.getSeconds(),t,2)}function FE(e){var t=e.getDay();return t===0?7:t}function $E(e,t){return fe(es.count(St(e)-1,e),t,2)}function oy(e){var t=e.getDay();return t>=4||t===0?Ht(e):Ht.ceil(e)}function UE(e,t){return e=oy(e),fe(Ht.count(St(e),e)+(St(e).getDay()===4),t,2)}function BE(e){return e.getDay()}function zE(e,t){return fe(pr.count(St(e)-1,e),t,2)}function VE(e,t){return fe(e.getFullYear()%100,t,2)}function WE(e,t){return e=oy(e),fe(e.getFullYear()%100,t,2)}function HE(e,t){return fe(e.getFullYear()%1e4,t,4)}function jE(e,t){var n=e.getDay();return e=n>=4||n===0?Ht(e):Ht.ceil(e),fe(e.getFullYear()%1e4,t,4)}function YE(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+fe(t/60|0,"0",2)+fe(t%60,"0",2)}function rm(e,t){return fe(e.getUTCDate(),t,2)}function GE(e,t){return fe(e.getUTCHours(),t,2)}function KE(e,t){return fe(e.getUTCHours()%12||12,t,2)}function QE(e,t){return fe(1+kr.count(xt(e),e),t,3)}function sy(e,t){return fe(e.getUTCMilliseconds(),t,3)}function qE(e,t){return sy(e,t)+"000"}function XE(e,t){return fe(e.getUTCMonth()+1,t,2)}function ZE(e,t){return fe(e.getUTCMinutes(),t,2)}function JE(e,t){return fe(e.getUTCSeconds(),t,2)}function eT(e){var t=e.getUTCDay();return t===0?7:t}function tT(e,t){return fe(ts.count(xt(e)-1,e),t,2)}function ly(e){var t=e.getUTCDay();return t>=4||t===0?jt(e):jt.ceil(e)}function nT(e,t){return e=ly(e),fe(jt.count(xt(e),e)+(xt(e).getUTCDay()===4),t,2)}function rT(e){return e.getUTCDay()}function iT(e,t){return fe(mr.count(xt(e)-1,e),t,2)}function oT(e,t){return fe(e.getUTCFullYear()%100,t,2)}function sT(e,t){return e=ly(e),fe(e.getUTCFullYear()%100,t,2)}function lT(e,t){return fe(e.getUTCFullYear()%1e4,t,4)}function aT(e,t){var n=e.getUTCDay();return e=n>=4||n===0?jt(e):jt.ceil(e),fe(e.getUTCFullYear()%1e4,t,4)}function uT(){return"+0000"}function im(){return"%"}function om(e){return+e}function sm(e){return Math.floor(+e/1e3)}var Pr,ay,uy;cT({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function cT(e){return Pr=cE(e),ay=Pr.format,Pr.parse,uy=Pr.utcFormat,Pr.utcParse,Pr}function fT(e){var t,n,r,i,o,s,l,a,u,c;return ee({},e,{elementType:(t=e.elementType)!=null?t:"line",minTickPaddingForRotation:(n=e.minTickPaddingForRotation)!=null?n:10,tickLabelRotationDeg:(r=e.tickLabelRotationDeg)!=null?r:60,innerBandPadding:(i=e.innerBandPadding)!=null?i:.5,outerBandPadding:(o=e.outerBandPadding)!=null?o:.2,innerSeriesBandPadding:(s=e.innerSeriesBandPadding)!=null?s:.2,outerSeriesBandPadding:(l=e.outerSeriesBandPadding)!=null?l:0,show:(a=e.show)!=null?a:!0,stacked:(u=e.stacked)!=null?u:!1,shouldNice:(c=e.shouldNice)!=null?c:!0})}function lm(e,t,n,r,i,o,s){var l=fT(t);if(!l.position)throw new Error("Chart axes must have a valid 'position' property");var a=["left","right"].indexOf(l.position)>-1,u=a?[i.height,0]:[0,i.width],c=a?[s,0]:[0,o];return l.scaleType==="time"||l.scaleType==="localTime"?dT(e,l,n,r,a,u,c):l.scaleType==="linear"||l.scaleType==="log"?hT(e,l,n,r,a,u,c):l.scaleType==="band"?pT(e,l,n,a,u,c):function(){throw new Error("Invalid scale type")}()}function dT(e,t,n,r,i,o,s){var l=t.scaleType==="localTime",a=l?aE:uE,u=!1;n=e?n:n.filter(function(W){return W.secondaryAxisId===t.id}),r=e?r:r.filter(function(W){return W.secondaryAxisId===t.id});var c=a(o),d=hc(r,function(W){var M=t.getValue(W.originalDatum);return W[e?"primaryValue":"secondaryValue"]=M,M}),f=d[0],h=d[1],v,y=l?{year:St,month:od,day:Er,hour:id,minute:rd,second:Tn}:{year:xt,month:ud,day:kr,hour:ad,minute:ld,second:Tn};f&&h&&(y.year.count(f,h)>0||y.year.floor(h)<y.year()?v="%b %-d, %Y %-I:%M:%S.%L %p":y.month.count(f,h)>0||y.month.floor(h)<y.month()||y.day.count(f,h)>0||y.day.floor(h)<y.day()?v="%b %-d, %-I:%M:%S.%L %p":y.hour.count(f,h)>0||y.hour.floor(h)<y.hour()?v="%-I:%M:%S.%L %p":y.minute.count(f,h)>0||y.minute.floor(h)<y.minute()?v="%-I:%M:%S.%L":(y.second.count(f,h)>0||y.second.floor(h)<y.second())&&(v="%L"));var w=l?ay:uy,m=function(M){return M.trim().replace(/(,$|^,)/,"")},p=function(M,E){return y.second(E)<E?w(M)(E):y.minute(E)<E?w(m(M.replace(/\.%L.*?(\s|$)/,"")))(E):y.hour(E)<E?w(m(M.replace(/:%S.*?(\s|$)/,"")))(E):y.day(E)<E?w(m(M.replace(/:%M.*?(\s|$)/,"")))(E):y.month(E)<E?w(m(M.replace(/%-I.*/,"")))(E):y.year(E)<E?w(m(M.replace(/%-d.*/,"")))(E):w("%Y")(E)},g=t.shouldNice;Object.prototype.toString.call(t.min)==="[object Date]"&&(f=xl([t.min,f]),g=!1),Object.prototype.toString.call(t.max)==="[object Date]"&&(h=Sl([t.max,h]),g=!1),Object.prototype.toString.call(t.hardMin)==="[object Date]"&&(f=t.hardMin,g=!1),Object.prototype.toString.call(t.hardMax)==="[object Date]"&&(h=t.hardMax,g=!1),(f===void 0||h===void 0)&&(console.info("Invalid scale min/max",{options:t,series:n,range:o,values:r.map(function(W){return e?W.primaryValue:W.secondaryValue})}),u=!0),c.domain([f,h]),t.invert&&c.domain(Array.from(c.domain()).reverse()),g&&c.nice();var _=c.copy().range(s),C=e?cy(t,c,n,o):void 0,S=C?dd(t,C,n):void 0,T=C==null?void 0:C.bandwidth();if(t.padBandRange&&T){var P=c.invert(0),$=c.invert(T),k=$.valueOf()-P.valueOf();c.domain([new Date(c.domain()[0].valueOf()-k/2),new Date(c.domain()[1].valueOf()+k/2)])}var N={},A=c.tickFormat(),R=function(M){var E,D;return(E=(D=t.formatters)==null||D.scale==null?void 0:D.scale(M,ee({},N,{scale:void 0})))!=null?E:p(v,M)},z=function(M){var E,D;return(E=(D=t.formatters)==null||D.tooltip==null?void 0:D.tooltip(M,ee({},N,{tooltip:void 0})))!=null?E:R(M)},X=function(M){var E,D;return(E=(D=t.formatters)==null||D.cursor==null?void 0:D.cursor(M,ee({},N,{cursor:void 0})))!=null?E:R(M)};return Object.assign(N,{default:A,scale:R,tooltip:z,cursor:X}),ee({},t,{isInvalid:u,axisFamily:"time",isVertical:i,scale:c,range:o,outerScale:_,primaryBandScale:C,seriesBandScale:S,formatters:N})}function hT(e,t,n,r,i,o,s){var l=t.scaleType==="log"?zv():Uv(),a=!1;n=e?n:n.filter(function(k){return k.secondaryAxisId===t.id}),r=e?r:r.filter(function(k){return k.secondaryAxisId===t.id}),t.stacked&&mT(n,t);var u=t.stacked?hc(n.map(function(k){return k.datums.map(function(N){var A,R=t.getValue(N.originalDatum);return N[e?"primaryValue":"secondaryValue"]=R,(A=N.stackData)!=null?A:[]})}).flat(2)):hc(r,function(k){var N=t.getValue(k.originalDatum);return k[e?"primaryValue":"secondaryValue"]=N,N}),c=u[0],d=u[1],f=t.shouldNice;if(typeof t.min=="number"&&(c=xl([t.min,c]),f=!1),typeof t.max=="number"&&(d=Sl([t.max,d]),f=!1),typeof t.minDomainLength=="number"&&!(c===void 0||d===void 0)){var h=bS([c,d]),v=h+t.minDomainLength/2,y=h-t.minDomainLength/2;d=Math.max(v,d),c=Math.min(y,c)}if(typeof t.hardMin=="number"&&(c=t.hardMin,f=!1),typeof t.hardMax=="number"&&(d=t.hardMax,f=!1),c===void 0||d===void 0){var w,m;a=!0,console.info("Invalid scale min/max",{options:t,series:n,range:o,values:r.map(function(k){return e?k.primaryValue:k.secondaryValue})}),c=(w=c)!=null?w:0,d=(m=d)!=null?m:0}l.domain([c,d]),t.invert&&l.domain(Array.from(l.domain()).reverse()),l.range(o),f&&l.nice();var p=l.copy().range(s),g=e?cy(t,l,n,o):void 0,_=g?dd(t,g,n):void 0,C=l.tickFormat(),S={},T=function(N){var A,R;return(A=(R=t.formatters)==null||R.scale==null?void 0:R.scale(N,ee({},S,{scale:void 0})))!=null?A:C(N)},P=function(N){var A,R;return(A=(R=t.formatters)==null||R.tooltip==null?void 0:R.tooltip(N,ee({},S,{tooltip:void 0})))!=null?A:T(N)},$=function(N){var A,R;return(A=(R=t.formatters)==null||R.cursor==null?void 0:R.cursor(N,ee({},S,{cursor:void 0})))!=null?A:P(N)};return Object.assign(S,{default:C,scale:T,tooltip:P,cursor:$}),ee({},t,{isInvalid:a,axisFamily:"linear",isVertical:i,scale:l,range:o,outerScale:p,primaryBandScale:g,seriesBandScale:_,formatters:S})}function pT(e,t,n,r,i,o){var s,l;n=n.filter(function(g){return g.secondaryAxisId===t.id});var a=!1,u=Array.from(new Set(n.map(function(g){return g.datums}).flat().map(function(g){var _=t.getValue(g.originalDatum);return g[e?"primaryValue":"secondaryValue"]=_,_}))),c=fa(u,i).round(!1).paddingOuter((s=t.outerBandPadding)!=null?s:0).paddingInner((l=t.innerBandPadding)!=null?l:0);t.invert&&c.domain(Array.from(c.domain()).reverse());var d=c.copy().range(o),f=c,h=dd(t,f,n),v=function(_){return _},y={},w=function(_){var C,S;return(C=(S=t.formatters)==null||S.scale==null?void 0:S.scale(_,ee({},y,{scale:void 0})))!=null?C:v(_)},m=function(_){var C,S;return(C=(S=t.formatters)==null||S.tooltip==null?void 0:S.tooltip(_,ee({},y,{tooltip:void 0})))!=null?C:w(_)},p=function(_){var C,S;return(C=(S=t.formatters)==null||S.cursor==null?void 0:S.cursor(_,ee({},y,{cursor:void 0})))!=null?C:m(_)};return Object.assign(y,{default:v,scale:w,tooltip:m,cursor:p}),ee({},t,{isInvalid:a,axisFamily:"band",isVertical:r,scale:c,range:i,outerScale:d,formatters:y,primaryBandScale:f,seriesBandScale:h})}function mT(e,t){for(var n,r=Object.keys(e),i=KS().keys(r).value(function(c,d,f){var h,v,y=(h=e[Number(d)])==null||(v=h.datums[f])==null?void 0:v.originalDatum,w=typeof y<"u"?t.getValue(y):0;return typeof w>"u"||w===null?0:w}).offset((n=t.stackOffset)!=null?n:Cc),o=i(Array.from({length:e.sort(function(c,d){return d.datums.length-c.datums.length})[0].datums.length})),s=0;s<o.length;s++)for(var l=o[s],a=0;a<l.length;a++){var u=l[a];e[s].datums[a]&&(u.data=e[s].datums[a],e[s].datums[a].stackData=u)}}function cy(e,t,n,r){for(var i,o,s=Math.max.apply(Math,r),l=0;l<n.length;l++)for(var a=n[l],u=0;u<a.datums.length;u++)for(var c,d=a.datums[u],f=t((c=d.primaryValue)!=null?c:NaN),h=0;h<a.datums.length;h++){var v,y=a.datums[h],w=t((v=y.primaryValue)!=null?v:NaN);if(f!==w){var m=Math.abs(Math.max(f,w)-Math.min(f,w));m<s&&(s=m)}}var p=Math.max.apply(Math,r),g=Hf(p/s),_=fa(g,r).round(!1).paddingOuter((i=e.outerBandPadding)!=null?i:0).paddingInner((o=e.innerBandPadding)!=null?o:0);return _}function dd(e,t,n){var r,i,o=Hf(n.length),s=fa(o,[0,t.bandwidth()]).round(!1).paddingOuter((r=e.outerSeriesBandPadding)!=null?r:e.outerBandPadding?e.outerBandPadding/2:0).paddingInner((i=e.innerSeriesBandPadding)!=null?i:e.innerBandPadding?e.innerBandPadding/2:0),l=function(u){var c;return s((c=n.find(function(d){return d.index===u}))==null?void 0:c.indexPerAxis)};return Object.assign(l,s)}var su=function(t){var n=t.getBoundingClientRect();return{top:Math.round(n.top),right:Math.round(n.right),bottom:Math.round(n.bottom),left:Math.round(n.left),width:Math.round(n.width),height:Math.round(n.height),x:Math.round(n.x),y:Math.round(n.y)}};function gT(e){var t=e.axis,n=e.elRef,r=e.gridDimensions,i=e.setShowRotated,o=en(),s=o.axisDimensionsState,l=s[0],a=s[1],u=G.useMemo(function(){var f;return(f=l[t.position])==null?void 0:f[t.id]},[l,t.position,t.id]),c=G.useCallback(function(){var f;if(!!n.current){var h=t.isVertical?r.height:r.width,v=Array.from(n.current.querySelectorAll(".Axis-Group.outer .tickLabel")).map(function(p){return su(p)}),y;v.forEach(function(p){var g,_=(g=y)!=null?g:{width:0};p.width>0&&p.width>_.width&&(y=p)});var w=h;v.length>1&&v.forEach(function(p,g){var _=v[g-1];_&&(w=Math.min(w,t.isVertical?p.top-_.top:p.left-_.left))});var m=(((f=y)==null?void 0:f.width)||0)+t.minTickPaddingForRotation>w;t.isVertical||i(m)}},[n,t.isVertical,t.minTickPaddingForRotation,r.width,r.height,i]),d=G.useCallback(function(){if(!n.current){u&&a(function(p){var g,_,C=ee({},(g=p[t.position])!=null?g:{});return delete C[t.id],ee({},p,(_={},_[t.position]=C,_))});return}var f={width:0,height:0,paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},h=n.current,v=h.querySelector(".Axis-Group.inner .domainAndTicks"),y=h.querySelector(".Axis-Group.inner .domain");if(!(!v||!y)){var w=su(v),m=su(y);!w||!m||(t.isVertical?(f.paddingTop=Math.round(Math.max(0,m.top-(w==null?void 0:w.top))),f.paddingBottom=Math.round(Math.max(0,(w==null?void 0:w.bottom)-m.bottom)),f.width=w==null?void 0:w.width):(f.paddingLeft=Math.round(Math.max(0,m.left-(w==null?void 0:w.left))),f.paddingRight=Math.round(Math.max(0,(w==null?void 0:w.right)-m.right)),f.height=w==null?void 0:w.height),(!l||!u||Object.keys(f).some(function(p){return f[p]!==u[p]}))&&a(function(p){var g,_,C;return ee({},p,(C={},C[t.position]=ee({},(g=p[t.position])!=null?g:{},(_={},_[t.id]=f,_)),C))}))}},[t.id,t.isVertical,t.position,u,l,n,a]);Zo(function(){window.requestAnimationFrame(function(){c(),d()})},[c])}function vT(e){var t=G.useState(!1),n=t[0],r=t[1],i=en(),o=i.getOptions,s=i.gridDimensions,l=i.width,a=i.height,u=o(),c=u.dark,d=u.showDebugAxes,f=G.useRef(null);gT({axis:e,elRef:f,gridDimensions:s,showRotated:n,setShowRotated:r});var h=function(y){var w=!y&&n,m=y?e.outerScale:e.scale,p=m.range(),g=p[0],_=p[1],C=function(){var R=e;if(R.outerScale.ticks){if(typeof R.tickCount=="number")return R.outerScale.ticks(R.tickCount);var z=R.isVertical?40:80,X=R.outerScale.range(),W=Math.abs(X[1]-X[0])/z;return R.outerScale.ticks(W)}return R.outerScale.domain()},S=y?a:s.height,T=y?l:s.width,P=e.position==="left"?[{x:0,y:g},{x:0,y:_}]:e.position==="right"?[{x:T,y:g},{x:T,y:_}]:e.position==="top"?[{x:g,y:0},{x:_,y:0}]:[{x:g,y:S},{x:_,y:S}],$=P[0],k=P[1],N=C().map(function(A){var R=yT(m,A),z=e.position==="left"?[{x:0,y:R},{x:-8,y:R},{x:T,y:R}]:e.position==="right"?[{x:T,y:R},{x:T+8,y:R},{x:0,y:R}]:e.position==="top"?[{x:R,y:0},{x:R,y:-8},{x:R,y:S}]:[{x:R,y:S},{x:R,y:S+8},{x:R,y:0}],X=z[0],W=z[1],M=z[2];return{value:A,from:X,to:W,gridTo:M}});return U("g",{className:"Axis-Group "+(y?"outer":"inner"),style:{transform:y?void 0:Ci(s.left,s.top)},children:me("g",{className:"Axis",style:ee({},y?{opacity:d?.5:0,pointerEvents:"none"}:{opacity:1,pointerEvents:"all"}),children:[me("g",{className:"domainAndTicks",children:[U("line",{className:"domain",x1:$.x,y1:$.y,x2:k.x,y2:k.y,stroke:c?"rgba(255,255,255, .2)":"rgba(0,0,0, .2)"}),N.map(function(A,R){var z=A.to,X=z.x,W=z.y;return e.position==="top"?W-=5:e.position==="bottom"?W+=5:e.position==="left"?X-=5:e.position==="right"&&(X+=5),me("g",{className:"tick",children:[y?null:U("line",{x1:A.from.x,y1:A.from.y,x2:A.to.x,y2:A.to.y,stroke:c?"rgba(255,255,255, .2)":"rgba(0,0,0, .2)"}),U("text",{className:"tickLabel",style:{fontSize:10,fill:c?"rgba(255,255,255, .7)":"rgba(0,0,0, .7)",dominantBaseline:w?"central":e.position==="bottom"?"hanging":e.position==="top"?"alphabetic":"central",textAnchor:w?"end":e.position==="right"?"start":e.position==="left"?"end":"middle"},transform:"translate("+X+", "+W+") rotate("+(w?e.position==="top"?60:-60:0)+")",children:e.formatters.scale(A.value)})]},"vx-tick-"+A+"-"+R)})]}),U("g",{className:"grid",children:N.map(function(A,R){var z;return U("g",{className:"tick",children:((z=e.showGrid)!=null?z:!0)&&!y?U("line",{x1:A.from.x,y1:A.from.y,x2:A.gridTo.x,y2:A.gridTo.y,stroke:c?"rgba(255,255,255, .05)":"rgba(0,0,0, .05)"}):null},"vx-tick-"+A+"-"+R)})})]})},"Axis-Group "+(y?"outer":"inner"))};return e.show?me("g",{ref:f,children:[h(!1),h(!0)]}):null}function yT(e,t){var n,r=(n=e(t))!=null?n:NaN;return e.bandwidth?r+e.bandwidth()/2:r}function fy(e){var t=G.useRef();return Zo(function(){t.current=e},[e]),t.current}function Ot(e,t){t===void 0&&(t=!0);var n=G.useRef(t?e:null);return t&&(n.current=e),n.current}function dy(){var e=be.exports.useState(),t=e[0],n=e[1];return Zo(function(){if(!t){var r=document.getElementById("react-charts-portal");r||(r=document.createElement("div"),r.setAttribute("id","react-charts-portal"),Object.assign(r.style,{pointerEvents:"none",position:"fixed",left:0,right:0,top:0,bottom:0,"z-index":99999999999}),document.body.append(r)),n(r)}}),t}function co(e,t){var n=G.useReducer(function(){return{}},[])[1],r=G.useRef({width:0,height:0,x:0,y:0,left:0,top:0,right:0,bottom:0}),i=G.useCallback(function(){e&&(r.current=e.getBoundingClientRect())},[e]);return r.current||i(),G.useEffect(function(){if(!(!e||!t)){var o=function(){i(),n()};return document.addEventListener("scroll",o,!0),function(){document.removeEventListener("scroll",o,!0)}}},[e,t,i,n]),G.useEffect(function(){if(!(!e||!t)){i(),n();var o=new ResizeObserver(function(){i(),n()});return o.observe(e),function(){o.unobserve(e)}}},[e,t,i,n]),r.current}function Nc(e,t){return Nc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Nc(e,t)}function _T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qs(e,t,n){return _T()?qs=Reflect.construct.bind():qs=function(i,o,s){var l=[null];l.push.apply(l,o);var a=Function.bind.apply(i,l),u=new a;return s&&Nc(u,s.prototype),u},qs.apply(null,arguments)}var am=.001;function hy(e,t){return Number.isNaN(e)&&Number.isNaN(t)?!0:e>t-am&&e<t+am}function Ar(e){return hy(e,0)}var wT=function(){function e(n,r,i,o){this._m=r,this._k=i,this._c=o,this._solution=null,this.endPosition=n,this._startTime=0}var t=e.prototype;return t.x=function(r){return r===void 0&&(r=(new Date().getTime()-this._startTime)/1e3),this._solution?this.endPosition+this._solution.x(r):this.endPosition},t.dx=function(r){return r===void 0&&(r=(new Date().getTime()-this._startTime)/1e3),this._solution?this._solution.dx(r):0},t.setEnd=function(r){var i=new Date().getTime(),o=0,s=this.endPosition;this._solution&&(Ar(o)&&(o=this._solution.dx((i-this._startTime)/1e3)),s=this._solution.x((i-this._startTime)/1e3),Ar(o)&&(o=0),Ar(s)&&(s=0),s+=this.endPosition),!(this._solution&&Ar(s-r)&&Ar(o))&&(this.endPosition=r,this._solution=this._solve(s-this.endPosition,o),this._startTime=i)},t.snap=function(r){this._startTime=new Date().getTime(),this.endPosition=r,this._solution={x:function(){return 0},dx:function(){return 0}}},t.done=function(){return hy(this.x(),this.endPosition)&&Ar(this.dx())},t._solve=function(r,i){var o=this._c,s=this._m,l=this._k,a=o*o-4*s*l;if(a===0){var u=-o/(2*s),c=r,d=i/(u*r);return{x:function(C){return(c+d*C)*Math.pow(Math.E,u*C)},dx:function(C){var S=Math.pow(Math.E,u*C);return u*(c+d*C)*S+d*S}}}else if(a>0){var f=(-o-Math.sqrt(a))/(2*s),h=(-o+Math.sqrt(a))/(2*s),v=(i-f*r)/(h-f),y=r-v;return{x:function(C){return y*Math.pow(Math.E,f*C)+v*Math.pow(Math.E,h*C)},dx:function(C){return y*f*Math.pow(Math.E,f*C)+v*h*Math.pow(Math.E,h*C)}}}else{var w=Math.sqrt(4*s*l-o*o)/(2*s),m=-(o/2*s),p=r,g=(i-m*r)/w;return{x:function(C){return Math.pow(Math.E,m*C)*(p*Math.cos(w*C)+g*Math.sin(w*C))},dx:function(C){var S=Math.pow(Math.E,m*C),T=Math.cos(w*C),P=Math.sin(w*C);return S*(g*w*T-p*w*P)+m*S*(g*P+p*T)}}}},e}();function Qr(e,t,n,r,i){var o=G.useRef(qs(wT,[e].concat(t))),s=Cl(e),l=ST(function(){return n(o.current.x()),o.current.done()}),a=l[0],u=l[1];return G.useEffect(function(){if(r){o.current.snap(s()),a();return}o.current.setEnd(e),a()},[i,s,r,a,u,e]),G.useEffect(function(){return function(){u()}},[u]),o.current}function ST(e){var t=G.useRef(null),n=G.useRef(e);n.current=e;var r=G.useCallback(function(){n.current()||(t.current=requestAnimationFrame(r))},[]);return[G.useMemo(function(){return r},[r]),G.useMemo(function(){return function(){return t.current&&cancelAnimationFrame(t.current)}},[])]}var xT=function(t,n){return t?"rgba(255,255,255,"+(n>4?.15:.3)+")":"rgba(0, 26, 39, "+(n>4?.15:.3)+")"},um=function(t){return t?"rgba(255,255,255,.9)":"rgba(0, 26, 39, 0.9)"};function cm(e){var t,n,r;return ee({},e,{show:(t=e.show)!=null?t:!0,showLine:(n=e.showLine)!=null?n:!0,showLabel:(r=e.showLabel)!=null?r:!0})}function CT(){var e,t,n=en(),r=n.getOptions,i=(e=r().primaryCursor)!=null?e:!0,o=(t=r().secondaryCursor)!=null?t:!0,s=G.useMemo(function(){return cm(i?typeof i=="boolean"?{}:i:{show:!1})},[i]),l=G.useMemo(function(){return cm(o?typeof o=="boolean"?{}:o:{show:!1})},[o]);return me(Qs,{children:[s.show&&U(fm,{primary:!0,options:s}),l.show&&U(fm,{options:l})]})}function fm(e){var t,n,r,i,o,s,l,a=en(),u=a.getOptions,c=a.svgRef,d=a.gridDimensions,f=a.focusedDatumState,h=a.primaryAxis,v=a.secondaryAxes,y=Cl(e.options),w=f[0],m=Ot(w,!!w),p=(t=v.find(function(Ir){return Ir.id===(m==null?void 0:m.secondaryAxisId)}))!=null?t:v[0],g=e.primary?h:p,_=e.primary?p:h,C=function(hs){var nh;return hs?g.stacked?(nh=hs.stackData)==null?void 0:nh[1]:e.primary?hs.primaryValue:hs.secondaryValue:void 0},S=C(w);G.useEffect(function(){var Ir;(Ir=y())==null||Ir.onChange==null||Ir.onChange(S)},[y,S]);var T=(n=e.options.value)!=null?n:S,P=Ot(e.options.value,e.options.value!=null),$=Ot(C(m),C(m)!=null),k=P!=null?P:$,N=_.scale.range(),A,R,z,X,W,M,E,D,b=g.axisFamily==="band"?g.scale.bandwidth():1,K=typeof T<"u"&&!Number.isNaN(T),H=g.scale(T);if(g.isVertical){var Q,j;R=H,W=((Q=R)!=null?Q:0)-1,M=((j=R)!=null?j:0)+b,g.position==="left"?(z=N[0],X=N[1]):(z=N[1],X=N[0])}else{var re,de;A=H,z=((re=A)!=null?re:0)-1,X=((de=A)!=null?de:0)+b,g.position==="top"?(W=N[0],M=N[1]):(W=N[1],M=N[0])}var ge=Math.min(z,X),Z=Math.min(W,M),I=Math.max(z,X),L=Math.max(W,M),B=Math.max(L-Z,0),x=Math.max(I-ge,0),J,Y;g.isVertical?(g.position==="left"?J=ge:J=I,Y=Z+B/2):(g.position==="top"?Y=Z:Y=L,J=ge+x/2),g.isVertical?(D=-50,g.position==="left"?E=-100:E=0):(E=-50,g.position==="top"?D=-100:D=0);var ae=g.formatters.cursor(k),se=co(c.current,K),Ce=G.useRef(null),tt=G.useRef(null),Sa=Ot(ge,H!=null),fs=Ot(Z,H!=null),ds=Ot(J,H!=null),Ii=Ot(Y,H!=null),xa=fy(H),Yt=xa==null&&H!==null;ge=(r=H!=null?ge:Sa)!=null?r:NaN,Z=(i=H!=null?Z:fs)!=null?i:NaN,J=(o=H!=null?J:ds)!=null?o:NaN,Y=(s=H!=null?Y:Ii)!=null?s:NaN;var Xd=Qr(ge,[1,210,20],function(){Ce.current&&(Ce.current.style.transform="translate("+Xd.x()+"px, "+Zd.x()+"px)")},Yt),Zd=Qr(Z,[1,210,20],function(){Ce.current&&(Ce.current.style.transform="translate("+Xd.x()+"px, "+Zd.x()+"px)")},Yt),Jd=Qr(J,[1,210,20],function(){tt.current&&(tt.current.style.transform="translate("+Jd.x()+"px, "+eh.x()+"px)")},Yt),eh=Qr(Y,[1,210,20],function(){tt.current&&(tt.current.style.transform="translate("+Jd.x()+"px, "+eh.x()+"px)")},Yt),th=dy();return th?vv.createPortal(me("div",{style:{fontFamily:"sans-serif",pointerEvents:"none",position:"absolute",top:0,left:0,transform:Ci(se.left+d.left,se.top+d.top),opacity:K?1:0,transition:"opacity .3s ease"},className:"Cursor",children:[e.options.showLine?U("div",{ref:Ce,style:{width:x+"px",height:B+"px",position:"absolute",top:0,left:0,background:xT((l=u().dark)!=null?l:!1,b)}}):null,e.options.showLabel?U("div",{ref:tt,style:{position:"absolute",top:0,left:0},children:U("div",{style:{padding:"5px",fontSize:"10px",background:um(u().dark),color:um(!u().dark),borderRadius:"3px",position:"relative",transform:"translate3d("+E+"%, "+D+"%, 0)",whiteSpace:"nowrap"},children:ae})}):null]}),th):null}var ET={left:{side:"left",startKey:"left",lengthKey:"width",crossStartKey:"top",crossLengthKey:"height",fromEnd:!1},right:{side:"right",startKey:"left",lengthKey:"width",crossStartKey:"top",crossLengthKey:"height",fromEnd:!0},top:{side:"top",startKey:"top",lengthKey:"height",crossStartKey:"left",crossLengthKey:"width",fromEnd:!1},bottom:{side:"bottom",startKey:"top",lengthKey:"height",crossStartKey:"left",crossLengthKey:"width",fromEnd:!0}};function TT(e){var t=co(e.portalEl,e.show),n=co(e.anchorEl,e.show),r=co(e.tooltipEl,e.show),i=G.useMemo(function(){var l=Array.isArray(e.side)?e.side:[e.side];return l.map(function(a){var u=a.split(" "),c=u[0],d=u[1],f=d===void 0?"center":d,h=!["top","right","bottom","left"].find(function(y){return c===y});if(h)throw new Error('react-sticker: "'+c+`" is not a valid side! Must be one of ['top', 'right', 'bottom', 'left'].`);var v=!["center","start","end","top","right","bottom","left"].find(function(y){return f===y});if(v)throw new Error('react-sticker: "'+f+`" is not a valid side-alignment! Must be one of ['center', 'start', 'end', 'top', 'right', 'bottom', 'left'].`);return[c,f]})},[JSON.stringify(e.side)]),o=t&&r&&n,s=G.useMemo(function(){return o&&e.show?kT({portalDims:t,tooltipDims:r,anchorDims:n,sides:i,useLargest:e.useLargest}):null},[n,e.show,e.useLargest,t,o,i,r]);return{fit:s,style:ee({position:"absolute",visibility:o?"visible":"hidden"},s==null?void 0:s.style)}}function kT(e){var t=e.portalDims,n=e.tooltipDims,r=e.anchorDims,i=e.sides,o=e.useLargest,s=i.map(function(l){var a=l[0],u=l[1];return NT(ee({},ET[a],{align:u,portalDims:t,tooltipDims:n,anchorDims:r}))});return o?(s.sort(function(l,a){return a.fitRatio-l.fitRatio}),s[0]):s.find(function(l){return l.fitRatio>=1})||s[0]}function NT(e){var t,n=e.side,r=e.align,i=e.startKey,o=e.lengthKey,s=e.crossStartKey,l=e.crossLengthKey,a=e.fromEnd,u=e.portalDims,c=e.tooltipDims,d=e.anchorDims,f=u[i],h=u[o],v=u[s],y=u[l],w=d[i]-u[i],m=d[o],p=d[s],g=d[l],_=d[l],C=c[o],S=c[l],T,P;a?(T=w+m,P=(h-(w+m))/C):(T=w-C,P=Math.min(w/C)),T=Math.max(f,Math.min(T,h));var $;return i==="left"?r==="top"?r="start":r==="bottom"&&(r="end"):r==="left"?r="start":r==="right"&&(r="end"),["start","center","end"].includes(r)||(r="center"),r==="start"?$=p:r==="end"?$=p+_-S:$=p+g/2-S/2,$=Math.max(v,Math.min($,y-S)),{side:n,align:r,startKey:i,lengthKey:o,crossStartKey:s,crossLengthKey:l,fromEnd:a,portalDims:u,tooltipDims:c,anchorDims:d,fitRatio:P,style:(t={},t[i]=T,t[s]=$,t)}}var MT=10,Ee=7,dm=function(t){return t?"rgba(255,255,255,.9)":"rgba(0, 26, 39, 0.9)"};function IT(e){return U(RT,{...e})}function RT(e){var t,n,r,i=Ot(e.anchor.fit,!!e.anchor.fit);if(!e.focusedDatum)return null;var o=e.primaryAxis,s=e.secondaryAxis,l=e.getDatumStyle,a=e.focusedDatum,u=e.secondaryAxes,c=e.getOptions(),d=c.tooltip,f=c.dark,h=(t=(n=e.focusedDatum)==null?void 0:n.tooltipGroup)!=null?t:[],v=MT,y=h.length,w=h.findIndex(function(k){return k===a}),m=w>-1?w-v/2:0;m=Math.max(m,0);var p=w>-1?m+v:y;p=Math.min(p,y),m=Math.max(p-v,0);var g=h.slice(m,p),_=m>0,C=p<y,S=(i==null?void 0:i.side)+"-"+(i==null?void 0:i.align),T,P;T||(S==="left-center"?T="right":S==="right-center"?T="left":S==="top-center"?T="bottom":S==="bottom-center"?T="top":S==="right-start"?T="bottomLeft":S==="right-end"?T="topLeft":S==="left-start"?T="bottomRight":S==="left-end"&&(T="topRight"));var $=dm(f);return T==="bottom"?P={top:"100%",left:"50%",transform:"translate3d(-50%, 0%, 0)",borderLeft:Ee*.8+"px solid transparent",borderRight:Ee*.8+"px solid transparent",borderTop:Ee+"px solid "+$}:T==="top"?P={top:"0%",left:"50%",transform:"translate3d(-50%, -100%, 0)",borderLeft:Ee*.8+"px solid transparent",borderRight:Ee*.8+"px solid transparent",borderBottom:Ee+"px solid "+$}:T==="right"?P={top:"50%",left:"100%",transform:"translate3d(0%, -50%, 0)",borderTop:Ee*.8+"px solid transparent",borderBottom:Ee*.8+"px solid transparent",borderLeft:Ee+"px solid "+$}:T==="left"?P={top:"50%",left:"0%",transform:"translate3d(-100%, -50%, 0)",borderTop:Ee*.8+"px solid transparent",borderBottom:Ee*.8+"px solid transparent",borderRight:Ee+"px solid "+$}:T==="topRight"?P={top:"0%",left:"100%",transform:"translate3d(-50%, -50%, 0) rotate(-45deg)",borderTop:Ee*.8+"px solid transparent",borderBottom:Ee*.8+"px solid transparent",borderLeft:Ee*2+"px solid "+$}:T==="bottomRight"?P={top:"100%",left:"100%",transform:"translate3d(-50%, -50%, 0) rotate(45deg)",borderTop:Ee*.8+"px solid transparent",borderBottom:Ee*.8+"px solid transparent",borderLeft:Ee*2+"px solid "+$}:T==="topLeft"?P={top:"0%",left:"0%",transform:"translate3d(-50%, -50%, 0) rotate(45deg)",borderTop:Ee*.8+"px solid transparent",borderBottom:Ee*.8+"px solid transparent",borderRight:Ee*2+"px solid "+$}:T==="bottomLeft"?P={top:"100%",left:"0%",transform:"translate3d(-50%, -50%, 0) rotate(-45deg)",borderTop:Ee*.8+"px solid transparent",borderBottom:Ee*.8+"px solid transparent",borderRight:Ee*2+"px solid "+$}:P={opacity:0},me("div",{style:{position:"relative",fontSize:"10px",padding:"5px",background:dm(f),color:f?"black":"white",borderRadius:"3px"},children:[U("div",{style:ee({position:"absolute",width:0,height:0},P)}),me("div",{children:[U("div",{style:{marginBottom:"3px",textAlign:"center"},children:d.groupingMode==="series"?U("strong",{children:a.seriesLabel}):d.groupingMode==="secondary"?U("strong",{children:s.formatters.tooltip(a.secondaryValue)}):U("strong",{children:o.formatters.tooltip(a.primaryValue)})}),U("table",{style:{whiteSpace:"nowrap"},children:me("tbody",{children:[_?me("tr",{style:{opacity:.8},children:[U("td",{}),U("td",{children:"..."}),U("td",{})]}):null,g.map(function(k,N){var A=k===a,R=u.find(function(z){return z.id===k.secondaryAxisId});return me("tr",{style:{opacity:A?1:.8,fontWeight:A?"bold":void 0},children:[U("td",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:U("svg",{width:"14",height:"14",children:U("circle",{cx:"7",cy:"7",r:"5",style:ee({},l(k),{stroke:f?"black":"white",strokeWidth:A?2:1})})})}),d.groupingMode==="series"?me(Qs,{children:[me("td",{children:[o.formatters.tooltip(k.primaryValue),": \xA0"]}),U("td",{style:{textAlign:"right"},children:R.formatters.tooltip(k.secondaryValue)})]}):d.groupingMode==="secondary"?me(Qs,{children:[me("td",{children:[k.seriesLabel,": \xA0"]}),U("td",{style:{textAlign:"right"},children:o.formatters.tooltip(k.primaryValue)})]}):me(Qs,{children:[me("td",{children:[k.seriesLabel,": \xA0"]}),U("td",{style:{textAlign:"right"},children:R.formatters.tooltip(k.secondaryValue)})]})]},N)}),C?me("tr",{style:{opacity:.8},children:[U("td",{}),U("td",{children:"..."}),U("td",{})]}):null,((r=a.tooltipGroup)!=null?r:[]).length>1?e.secondaryAxes.filter(function(k){return k.stacked}).map(function(k,N){var A,R;return me("tr",{children:[U("td",{style:{paddingTop:"5px"},children:U("div",{style:{width:"12px",height:"12px",backgroundColor:f?"rgba(0, 26, 39, 0.3)":"rgba(255,255,255,.2)",borderRadius:"50px"}})}),me("td",{style:{paddingTop:"5px"},children:[e.secondaryAxes.length>1?(A=k.id)!=null?A:"Axis "+(N+1)+" ":"","Total: \xA0"]}),U("td",{style:{paddingTop:"5px"},children:k.formatters.scale(pt((R=a.tooltipGroup)!=null?R:[],function(z){return z.secondaryValue}))})]},k.id+"_"+N)}):null]})})]})]})}var DT=["visibility"];function PT(e){var t,n,r,i,o;return e===void 0&&(e={}),e===!0?e={show:!0}:e===!1&&(e={show:!1}),ee({show:!0},e,{align:(t=e.align)!=null?t:"auto",alignPriority:(n=e.alignPriority)!=null?n:["right","topRight","bottomRight","left","topLeft","bottomLeft","top","bottom"],padding:(r=e.padding)!=null?r:5,arrowPadding:(i=e.arrowPadding)!=null?i:7,render:(o=e.render)!=null?o:IT})}function AT(){var e,t,n=en(),r=n.focusedDatumState,i=n.getOptions,o=n.primaryAxis,s=n.secondaryAxes,l=n.getDatumStatusStyle,a=n.svgRef,u=r[0],c=Ot(u,!!u),d=(e=s.find(function(R){return R.id===(c==null?void 0:c.secondaryAxisId)}))!=null?e:s[0],f=dy(),h=G.useState(),v=h[0],y=h[1],w=co(a.current,!!(u!=null&&u.element)),m=G.useMemo(function(){var R,z,X,W,M,E,D=(R=c==null||(z=c.element)==null?void 0:z.getBoundingClientRect())!=null?R:null;if(!D)return null;if(!!w){var b=(X=D.left)!=null?X:0,K=(W=D.top)!=null?W:0,H=(M=D.width)!=null?M:0,Q=(E=D.height)!=null?E:0,j=document.createElement("div");return j.getBoundingClientRect=function(){return{x:b,y:K,width:H,height:Q,top:K,left:b,bottom:K+H,right:b+Q}},j}},[c==null?void 0:c.element,w]),p=TT({show:!!u,portalEl:f,anchorEl:m,tooltipEl:v,side:["right","left","top","bottom"]}),g=fy(p),_=(t=Ot(p,!!p.fit))!=null?t:p,C=_.style;C.visibility;var S=_v(C,DT),T=G.useRef(null),P=Number.isNaN(g==null?void 0:g.style.left),$=Qr(S.left||0,[1,210,30],function(){T.current&&(T.current.style.transform="translate("+$.x()+"px, "+k.x()+"px)")},P),k=Qr(S.top||0,[1,210,30],function(){T.current&&(T.current.style.transform="translate("+$.x()+"px, "+k.x()+"px)")},P),N=i().tooltip.show,A=Ot(p.fit,!!p.fit);return N&&f?vv.createPortal(U("div",{ref:T,style:{position:S.position,opacity:u?1:0,transition:"opacity .3s ease"},children:U("div",{ref:function(z){return y(z)},style:ee({fontFamily:"sans-serif"},(A==null?void 0:A.startKey)==="left"?{padding:"0 10px"}:{padding:"10px 0"}),children:i().tooltip.render({getOptions:i,focusedDatum:c,primaryAxis:o,secondaryAxes:s,secondaryAxis:d,getDatumStyle:function(z){return l(z,u)},anchor:p})})}),f):null}const hm=Math.pow(2,-52),As=new Uint32Array(512);class Pl{static from(t,n=$T,r=UT){const i=t.length,o=new Float64Array(i*2);for(let s=0;s<i;s++){const l=t[s];o[2*s]=n(l),o[2*s+1]=r(l)}return new Pl(o)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,s=t.length>>1;let l=1/0,a=1/0,u=-1/0,c=-1/0;for(let k=0;k<s;k++){const N=t[2*k],A=t[2*k+1];N<l&&(l=N),A<a&&(a=A),N>u&&(u=N),A>c&&(c=A),this._ids[k]=k}const d=(l+u)/2,f=(a+c)/2;let h=1/0,v,y,w;for(let k=0;k<s;k++){const N=lu(d,f,t[2*k],t[2*k+1]);N<h&&(v=k,h=N)}const m=t[2*v],p=t[2*v+1];h=1/0;for(let k=0;k<s;k++){if(k===v)continue;const N=lu(m,p,t[2*k],t[2*k+1]);N<h&&N>0&&(y=k,h=N)}let g=t[2*y],_=t[2*y+1],C=1/0;for(let k=0;k<s;k++){if(k===v||k===y)continue;const N=LT(m,p,g,_,t[2*k],t[2*k+1]);N<C&&(w=k,C=N)}let S=t[2*w],T=t[2*w+1];if(C===1/0){for(let A=0;A<s;A++)this._dists[A]=t[2*A]-t[0]||t[2*A+1]-t[1];qr(this._ids,this._dists,0,s-1);const k=new Uint32Array(s);let N=0;for(let A=0,R=-1/0;A<s;A++){const z=this._ids[A];this._dists[z]>R&&(k[N++]=z,R=this._dists[z])}this.hull=k.subarray(0,N),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(bs(m,p,g,_,S,T)){const k=y,N=g,A=_;y=w,g=S,_=T,w=k,S=N,T=A}const P=FT(m,p,g,_,S,T);this._cx=P.x,this._cy=P.y;for(let k=0;k<s;k++)this._dists[k]=lu(t[2*k],t[2*k+1],P.x,P.y);qr(this._ids,this._dists,0,s-1),this._hullStart=v;let $=3;r[v]=n[w]=y,r[y]=n[v]=w,r[w]=n[y]=v,i[v]=0,i[y]=1,i[w]=2,o.fill(-1),o[this._hashKey(m,p)]=v,o[this._hashKey(g,_)]=y,o[this._hashKey(S,T)]=w,this.trianglesLen=0,this._addTriangle(v,y,w,-1,-1,-1);for(let k=0,N,A;k<this._ids.length;k++){const R=this._ids[k],z=t[2*R],X=t[2*R+1];if(k>0&&Math.abs(z-N)<=hm&&Math.abs(X-A)<=hm||(N=z,A=X,R===v||R===y||R===w))continue;let W=0;for(let K=0,H=this._hashKey(z,X);K<this._hashSize&&(W=o[(H+K)%this._hashSize],!(W!==-1&&W!==r[W]));K++);W=n[W];let M=W,E;for(;E=r[M],!bs(z,X,t[2*M],t[2*M+1],t[2*E],t[2*E+1]);)if(M=E,M===W){M=-1;break}if(M===-1)continue;let D=this._addTriangle(M,R,r[M],-1,-1,i[M]);i[R]=this._legalize(D+2),i[M]=D,$++;let b=r[M];for(;E=r[b],bs(z,X,t[2*b],t[2*b+1],t[2*E],t[2*E+1]);)D=this._addTriangle(b,R,E,i[R],-1,i[b]),i[R]=this._legalize(D+2),r[b]=b,$--,b=E;if(M===W)for(;E=n[M],bs(z,X,t[2*E],t[2*E+1],t[2*M],t[2*M+1]);)D=this._addTriangle(E,R,M,-1,i[M],i[E]),this._legalize(D+2),i[E]=D,r[M]=M,$--,M=E;this._hullStart=n[R]=M,r[M]=n[b]=R,r[R]=b,o[this._hashKey(z,X)]=R,o[this._hashKey(t[2*M],t[2*M+1])]=M}this.hull=new Uint32Array($);for(let k=0,N=this._hullStart;k<$;k++)this.hull[k]=N,N=r[N];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(bT(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let o=0,s=0;for(;;){const l=r[t],a=t-t%3;if(s=a+(t+2)%3,l===-1){if(o===0)break;t=As[--o];continue}const u=l-l%3,c=a+(t+1)%3,d=u+(l+2)%3,f=n[s],h=n[t],v=n[c],y=n[d];if(OT(i[2*f],i[2*f+1],i[2*h],i[2*h+1],i[2*v],i[2*v+1],i[2*y],i[2*y+1])){n[t]=y,n[l]=f;const m=r[d];if(m===-1){let g=this._hullStart;do{if(this._hullTri[g]===d){this._hullTri[g]=t;break}g=this._hullPrev[g]}while(g!==this._hullStart)}this._link(t,m),this._link(l,r[s]),this._link(s,d);const p=u+(l+1)%3;o<As.length&&(As[o++]=p)}else{if(o===0)break;t=As[--o]}}return s}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,o,s){const l=this.trianglesLen;return this._triangles[l]=t,this._triangles[l+1]=n,this._triangles[l+2]=r,this._link(l,i),this._link(l+1,o),this._link(l+2,s),this.trianglesLen+=3,l}}function bT(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function lu(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}function au(e,t,n,r,i,o){const s=(r-t)*(i-e),l=(n-e)*(o-t);return Math.abs(s-l)>=33306690738754716e-32*Math.abs(s+l)?s-l:0}function bs(e,t,n,r,i,o){return(au(i,o,e,t,n,r)||au(e,t,n,r,i,o)||au(n,r,i,o,e,t))<0}function OT(e,t,n,r,i,o,s,l){const a=e-s,u=t-l,c=n-s,d=r-l,f=i-s,h=o-l,v=a*a+u*u,y=c*c+d*d,w=f*f+h*h;return a*(d*w-y*h)-u*(c*w-y*f)+v*(c*h-d*f)<0}function LT(e,t,n,r,i,o){const s=n-e,l=r-t,a=i-e,u=o-t,c=s*s+l*l,d=a*a+u*u,f=.5/(s*u-l*a),h=(u*c-l*d)*f,v=(s*d-a*c)*f;return h*h+v*v}function FT(e,t,n,r,i,o){const s=n-e,l=r-t,a=i-e,u=o-t,c=s*s+l*l,d=a*a+u*u,f=.5/(s*u-l*a),h=e+(u*c-l*d)*f,v=t+(s*d-a*c)*f;return{x:h,y:v}}function qr(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const o=e[i],s=t[o];let l=i-1;for(;l>=n&&t[e[l]]>s;)e[l+1]=e[l--];e[l+1]=o}else{const i=n+r>>1;let o=n+1,s=r;ji(e,i,o),t[e[n]]>t[e[r]]&&ji(e,n,r),t[e[o]]>t[e[r]]&&ji(e,o,r),t[e[n]]>t[e[o]]&&ji(e,n,o);const l=e[o],a=t[l];for(;;){do o++;while(t[e[o]]<a);do s--;while(t[e[s]]>a);if(s<o)break;ji(e,o,s)}e[n+1]=e[s],e[s]=l,r-o+1>=s-n?(qr(e,t,o,r),qr(e,t,n,s-1)):(qr(e,t,n,s-1),qr(e,t,o,r))}}function ji(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function $T(e){return e[0]}function UT(e){return e[1]}const pm=1e-6;class nr{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>pm||Math.abs(this._y1-o)>pm)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class Mc{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}class BT{constructor(t,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this,o=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let h=0,v=0,y=r.length,w,m;h<y;h+=3,v+=2){const p=r[h]*2,g=r[h+1]*2,_=r[h+2]*2,C=t[p],S=t[p+1],T=t[g],P=t[g+1],$=t[_],k=t[_+1],N=T-C,A=P-S,R=$-C,z=k-S,X=N*N+A*A,W=R*R+z*z,M=(N*z-A*R)*2;if(!M)w=(C+$)/2-1e8*z,m=(S+k)/2+1e8*R;else if(Math.abs(M)<1e-8)w=(C+$)/2,m=(S+k)/2;else{const E=1/M;w=C+(z*X-A*W)*E,m=S+(N*W-R*X)*E}o[v]=w,o[v+1]=m}let s=n[n.length-1],l,a=s*4,u,c=t[2*s],d,f=t[2*s+1];i.fill(0);for(let h=0;h<n.length;++h)s=n[h],l=a,u=c,d=f,a=s*4,c=t[2*s],f=t[2*s+1],i[l+2]=i[a]=d-f,i[l+3]=i[a+1]=c-u}render(t){const n=t==null?t=new nr:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:s,vectors:l}=this;if(o.length<=1)return null;for(let c=0,d=r.length;c<d;++c){const f=r[c];if(f<c)continue;const h=Math.floor(c/3)*2,v=Math.floor(f/3)*2,y=s[h],w=s[h+1],m=s[v],p=s[v+1];this._renderSegment(y,w,m,p,t)}let a,u=o[o.length-1];for(let c=0;c<o.length;++c){a=u,u=o[c];const d=Math.floor(i[u]/3)*2,f=s[d],h=s[d+1],v=a*4,y=this._project(f,h,l[v+2],l[v+3]);y&&this._renderSegment(f,h,y[0],y[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new nr:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new nr:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let s=2;s<o;s+=2)(i[s]!==i[s-2]||i[s+1]!==i[s-1])&&n.lineTo(i[s],i[s+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new Mc;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,o){let s;const l=this._regioncode(t,n),a=this._regioncode(r,i);l===0&&a===0?(o.moveTo(t,n),o.lineTo(r,i)):(s=this._clipSegment(t,n,r,i,l,a))&&(o.moveTo(s[0],s[1]),o.lineTo(s[2],s[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let o=0,s=n.length;o<s;o+=2)for(let l=0,a=i.length;l<a;l+=2)if(n[o]==i[l]&&n[o+1]==i[l+1]&&n[(o+2)%s]==i[(l+a-2)%a]&&n[(o+3)%s]==i[(l+a-1)%a]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,s=r[t];if(s===-1)return null;const l=[];let a=s;do{const u=Math.floor(a/3);if(l.push(n[u*2],n[u*2+1]),a=a%3===2?a-2:a+1,o[a]!==t)break;a=i[a]}while(a!==s&&a!==-1);return l}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n)}_clipFinite(t,n){const r=n.length;let i=null,o,s,l=n[r-2],a=n[r-1],u,c=this._regioncode(l,a),d,f;for(let h=0;h<r;h+=2)if(o=l,s=a,l=n[h],a=n[h+1],u=c,c=this._regioncode(l,a),u===0&&c===0)d=f,f=0,i?i.push(l,a):i=[l,a];else{let v,y,w,m,p;if(u===0){if((v=this._clipSegment(o,s,l,a,u,c))===null)continue;[y,w,m,p]=v}else{if((v=this._clipSegment(l,a,o,s,c,u))===null)continue;[m,p,y,w]=v,d=f,f=this._edgecode(y,w),d&&f&&this._edge(t,d,f,i,i.length),i?i.push(y,w):i=[y,w]}d=f,f=this._edgecode(m,p),d&&f&&this._edge(t,d,f,i,i.length),i?i.push(m,p):i=[m,p]}if(i)d=f,f=this._edgecode(i[0],i[1]),d&&f&&this._edge(t,d,f,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,o,s){for(;;){if(o===0&&s===0)return[t,n,r,i];if(o&s)return null;let l,a,u=o||s;u&8?(l=t+(r-t)*(this.ymax-n)/(i-n),a=this.ymax):u&4?(l=t+(r-t)*(this.ymin-n)/(i-n),a=this.ymin):u&2?(a=n+(i-n)*(this.xmax-t)/(r-t),l=this.xmax):(a=n+(i-n)*(this.xmin-t)/(r-t),l=this.xmin),o?(t=l,n=a,o=this._regioncode(t,n)):(r=l,i=a,s=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,o,s){let l=Array.from(n),a;if((a=this._project(l[0],l[1],r,i))&&l.unshift(a[0],a[1]),(a=this._project(l[l.length-2],l[l.length-1],o,s))&&l.push(a[0],a[1]),l=this._clipFinite(t,l))for(let u=0,c=l.length,d,f=this._edgecode(l[c-2],l[c-1]);u<c;u+=2)d=f,f=this._edgecode(l[u],l[u+1]),d&&f&&(u=this._edge(t,d,f,l,u),c=l.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(l=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return l}_edge(t,n,r,i,o){for(;n!==r;){let s,l;switch(n){case 5:n=4;continue;case 4:n=6,s=this.xmax,l=this.ymin;break;case 6:n=2;continue;case 2:n=10,s=this.xmax,l=this.ymax;break;case 10:n=8;continue;case 8:n=9,s=this.xmin,l=this.ymax;break;case 9:n=1;continue;case 1:n=5,s=this.xmin,l=this.ymin;break}(i[o]!==s||i[o+1]!==l)&&this.contains(t,s,l)&&(i.splice(o,0,s,l),o+=2)}if(i.length>4)for(let s=0;s<i.length;s+=2){const l=(s+2)%i.length,a=(s+4)%i.length;(i[s]===i[l]&&i[l]===i[a]||i[s+1]===i[l+1]&&i[l+1]===i[a+1])&&(i.splice(l,2),s-=2)}return o}_project(t,n,r,i){let o=1/0,s,l,a;if(i<0){if(n<=this.ymin)return null;(s=(this.ymin-n)/i)<o&&(a=this.ymin,l=t+(o=s)*r)}else if(i>0){if(n>=this.ymax)return null;(s=(this.ymax-n)/i)<o&&(a=this.ymax,l=t+(o=s)*r)}if(r>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/r)<o&&(l=this.xmax,a=n+(o=s)*i)}else if(r<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/r)<o&&(l=this.xmin,a=n+(o=s)*i)}return[l,a]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}}const zT=2*Math.PI,br=Math.pow;function VT(e){return e[0]}function WT(e){return e[1]}function HT(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],o=2*t[r+1],s=2*t[r+2];if((n[s]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[s+1]-n[i+1])>1e-10)return!1}return!0}function jT(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class hd{static from(t,n=VT,r=WT,i){return new hd("length"in t?YT(t,n,r,i):Float64Array.from(GT(t,n,r,i)))}constructor(t){this._delaunator=new Pl(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&HT(t)){this.collinear=Int32Array.from({length:n.length/2},(f,h)=>h).sort((f,h)=>n[2*f]-n[2*h]||n[2*f+1]-n[2*h+1]);const a=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*a],n[2*a+1],n[2*u],n[2*u+1]],d=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let f=0,h=n.length/2;f<h;++f){const v=jT(n[2*f],n[2*f+1],d);n[2*f]=v[0],n[2*f+1]=v[1]}this._delaunator=new Pl(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),l=this._hullIndex.fill(-1);for(let a=0,u=r.length;a<u;++a){const c=o[a%3===2?a-2:a+1];(r[a]===-1||s[c]===-1)&&(s[c]=a)}for(let a=0,u=i.length;a<u;++a)l[i[a]]=a;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],this.triangles[1]=i[1],this.triangles[2]=i[1],s[i[0]]=1,i.length===2&&(s[i[1]]=0))}voronoi(t){return new BT(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:s,collinear:l}=this;if(l){const d=l.indexOf(t);d>0&&(yield l[d-1]),d<l.length-1&&(yield l[d+1]);return}const a=n[t];if(a===-1)return;let u=a,c=-1;do{if(yield c=s[u],u=u%3===2?u-2:u+1,s[u]!==t)return;if(u=o[u],u===-1){const d=r[(i[t]+1)%r.length];d!==c&&(yield d);return}}while(u!==a)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let o;for(;(o=this._step(r,t,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(t,n,r){const{inedges:i,hull:o,_hullIndex:s,halfedges:l,triangles:a,points:u}=this;if(i[t]===-1||!u.length)return(t+1)%(u.length>>1);let c=t,d=br(n-u[t*2],2)+br(r-u[t*2+1],2);const f=i[t];let h=f;do{let v=a[h];const y=br(n-u[v*2],2)+br(r-u[v*2+1],2);if(y<d&&(d=y,c=v),h=h%3===2?h-2:h+1,a[h]!==t)break;if(h=l[h],h===-1){if(h=o[(s[t]+1)%o.length],h!==v&&br(n-u[h*2],2)+br(r-u[h*2+1],2)<d)return h;break}}while(h!==f);return c}render(t){const n=t==null?t=new nr:void 0,{points:r,halfedges:i,triangles:o}=this;for(let s=0,l=i.length;s<l;++s){const a=i[s];if(a<s)continue;const u=o[s]*2,c=o[a]*2;t.moveTo(r[u],r[u+1]),t.lineTo(r[c],r[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n=2){const r=t==null?t=new nr:void 0,{points:i}=this;for(let o=0,s=i.length;o<s;o+=2){const l=i[o],a=i[o+1];t.moveTo(l+n,a),t.arc(l,a,n,0,zT)}return r&&r.value()}renderHull(t){const n=t==null?t=new nr:void 0,{hull:r,points:i}=this,o=r[0]*2,s=r.length;t.moveTo(i[o],i[o+1]);for(let l=1;l<s;++l){const a=2*r[l];t.lineTo(i[a],i[a+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new Mc;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new nr:void 0,{points:i,triangles:o}=this,s=o[t*=3]*2,l=o[t+1]*2,a=o[t+2]*2;return n.moveTo(i[s],i[s+1]),n.lineTo(i[l],i[l+1]),n.lineTo(i[a],i[a+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new Mc;return this.renderTriangle(t,n),n.value()}}function YT(e,t,n,r){const i=e.length,o=new Float64Array(i*2);for(let s=0;s<i;++s){const l=e[s];o[s*2]=t.call(r,l,s,e),o[s*2+1]=n.call(r,l,s,e)}return o}function*GT(e,t,n,r){let i=0;for(const o of e)yield t.call(r,o,i,e),yield n.call(r,o,i,e),++i}function KT(){var e=en(),t=e.getOptions,n=e.focusedDatumState,r=e.isInteractingState,i=n[1],o=r[0],s=t(),l=s.onFocusDatum,a=s.onClickDatum,u=s.tooltip,c=s.primaryCursor,d=s.secondaryCursor,f=s.showVoronoi,h=s.interactionMode,v=G.useCallback(function(m){var p,g;(p=(g=t()).onFocusDatum)==null||p.call(g,m),i(m)},[t,i]),y=o&&(f||l||a||u||c||d);if(!y)return null;var w={handleFocus:v};return h==="closest"?U(XT,{...w}):U(QT,{...w})}function QT(e){var t=e.handleFocus,n=en(),r=n.primaryAxis,i=n.secondaryAxes,o=n.getOptions,s=n.gridDimensions,l=n.datumsByInteractionGroup,a=i.length===1&&i[0].stacked,u=i.every(function(c){return c.elementType==="bar"&&!c.stacked});return G.useMemo(function(){var c=Array.from(l.entries()).map(function(f){f[0];var h=f[1];return h}).filter(function(f){var h=f[0];if(!!h){var v=h.primaryValue;return v!=="undefined"&&v!==null}}).sort(function(f,h){var v=i.find(function(p){return p.id===f[0].secondaryAxisId}),y=i.find(function(p){return p.id===h[0].secondaryAxisId}),w=Zn(f[0],r,v,u),m=Zn(h[0],r,y,u);return w-m});r.isVertical&&c.reverse();var d=c.map(function(f,h,v){var y,w=f[0],m=v[h-1],p=v[h+1],g=i.find(function(A){return A.id===w.secondaryAxisId}),_=Zn(w,r,g,u),C=(y=r==null?void 0:r.scale.range())!=null?y:[0,0],S=C[0],T=C[1];if(m){var P=i.find(function(A){return A.id===m[0].secondaryAxisId}),$=Zn(m[0],r,P,u);S=_-(_-$)/2}if(p){var k=i.find(function(A){return A.id===p[0].secondaryAxisId}),N=Zn(p[0],r,k,u);T=_+(N-_)/2}return{primaryStart:S,primaryEnd:T,primaryPx:_,datumBoundaries:f.filter(function(A){var R=A.secondaryValue;return typeof R<"u"&&R!==null}).map(function(A,R,z){var X,W,M,E=z[R-1],D=z[R+1],b=i.find(function(Yt){return Yt.id===A.secondaryAxisId});if(a){var K,H,Q,j=(K=b==null?void 0:b.scale.range())!=null?K:[0,0],re=[(H=A.stackData)==null?void 0:H[0],(Q=A.stackData)==null?void 0:Q[1]];b!=null&&b.isVertical&&(j.reverse(),re.reverse());var de=j[0],ge=j[1];if(E){var Z,I;de=(Z=b==null?void 0:b.scale((I=re[0])!=null?I:NaN))!=null?Z:NaN}if(D){var L,B;ge=(L=b==null?void 0:b.scale((B=re[1])!=null?B:NaN))!=null?L:NaN}return{secondaryStart:de,secondaryEnd:ge,datum:A}}var x=(X=b==null?void 0:b.scale(b.stacked?(W=A.stackData)==null?void 0:W[1]:A.secondaryValue))!=null?X:NaN,J=(M=b==null?void 0:b.scale.range())!=null?M:[0,0];b!=null&&b.isVertical&&J.reverse();var Y=J[0],ae=J[1];if(E){var se,Ce,tt=i.find(function(Yt){return Yt.id===(E==null?void 0:E.secondaryAxisId)}),Sa=(se=tt==null?void 0:tt.scale(tt.stacked?(Ce=E.stackData)==null?void 0:Ce[1]:E.secondaryValue))!=null?se:NaN;Y=x-(x-Sa)/2}if(D){var fs,ds,Ii=i.find(function(Yt){return Yt.id===(D==null?void 0:D.secondaryAxisId)}),xa=(fs=Ii==null?void 0:Ii.scale(Ii.stacked?(ds=D.stackData)==null?void 0:ds[1]:D.secondaryValue))!=null?fs:NaN;ae=x+(xa-x)/2}return{secondaryStart:Y,secondaryEnd:ae,datum:A}})}});return U("g",{onMouseLeave:function(){return t(null)},style:{transform:Ci(s.left,s.top)},children:d.map(function(f,h){return U("g",{children:f.datumBoundaries.map(function(v,y){var w=r.isVertical?v.secondaryStart:f.primaryStart,m=r.isVertical?v.secondaryEnd:f.primaryEnd,p=r.isVertical?f.primaryStart:v.secondaryStart,g=r.isVertical?f.primaryEnd:v.secondaryEnd,_=Math.min(w,m),C=Math.min(p,g),S=Math.max(w,m),T=Math.max(p,g),P=Math.max(T-C,0),$=Math.max(S-_,0);return U("rect",{x:_,y:C,width:$,height:P,className:"action-voronoi",onMouseEnter:function(){return t(v.datum)},style:{fill:o().dark?"#ffffff33":"rgba(0,0,0,0.2)",strokeWidth:1,stroke:o().dark?"white":"black",opacity:o().showVoronoi?1:0}},y)})},f.primaryPx+"_"+h)})})},[l,r,s.left,s.top,i,u,a,t,o])}var qT=Qf();function XT(e){var t=e.handleFocus,n=en(),r=n.primaryAxis,i=n.series,o=n.secondaryAxes,s=n.getOptions,l=n.gridDimensions,a=null,u=[],c=o.every(function(h){return h.elementType==="bar"&&!h.stacked});i.forEach(function(h){h.datums.filter(function(v){var y=v.primaryValue,w=v.secondaryValue;return y!=="undefined"&&y!==null&&w!=="undefined"&&w!==null}).forEach(function(v){var y=o.find(function(p){return p.id===v.secondaryAxisId}),w=ZT(v,r,y,c),m=JT(v,r,y,c);typeof w!="number"||typeof m!="number"||Number.isNaN(m)||Number.isNaN(w)||u.push({x:w,y:m,datum:v})})});var d=hd.from(u,function(h){return Math.max(h.x,0)},function(h){return Math.max(h.y,0)}),f=d.voronoi([0,0,l.width,l.height]);return a=f.cellPolygons(),a=Array.from(a),U("g",{onMouseLeave:function(){return t(null)},style:{transform:Ci(l.left,l.top)},children:a.map(function(h,v){var y=h.index,w=u[y].datum,m=qT(h)||void 0;return U("path",{d:m,className:"action-voronoi",onMouseEnter:function(){return t(w)},style:{fill:s().dark?"#ffffff33":"rgba(0,0,0,0.2)",strokeWidth:1,stroke:s().dark?"white":"black",opacity:s().showVoronoi?1:0}},v)})})}function ZT(e,t,n,r){return t.isVertical?py(e,n):Zn(e,t,n,r)}function JT(e,t,n,r){return t.isVertical?Zn(e,t,n,r):py(e,n)}function Zn(e,t,n,r){var i,o=(i=t.scale(e.primaryValue))!=null?i:NaN;if(r&&n.elementType==="bar")if(n.stacked)o+=Cv(e,t)/2;else{var s;o+=(s=t.seriesBandScale(e.seriesIndex))!=null?s:NaN,o+=jf(e,t,n)/2}return o}function py(e,t){var n;if(t.stacked){var r,i,o;return(r=t.scale((i=(o=e.stackData)==null?void 0:o[1])!=null?i:NaN))!=null?r:NaN}return(n=t.scale(e.secondaryValue))!=null?n:NaN}var ek=["options","className","style"],tk=["#0f83ab","#faa43a","#fd6868","#53cfc9","#a2d925","#decf3f","#734fe9","#cd82ad","#006d92","#de7c00","#f33232","#3f9a80","#53c200","#d7af00","#4c26c9","#d44d99"],eo=5;function nk(e){var t,n,r,i,o,s,l,a,u,c,d;return ee({},e,{initialWidth:(t=e.initialWidth)!=null?t:300,initialHeight:(n=e.initialHeight)!=null?n:200,getSeriesOrder:(r=e.getSeriesOrder)!=null?r:function(f){return f},interactionMode:(i=e.interactionMode)!=null?i:"primary",showVoronoi:(o=e.showVoronoi)!=null?o:!1,defaultColors:(s=e.defaultColors)!=null?s:tk,useIntersectionObserver:(l=e.useIntersectionObserver)!=null?l:!1,intersectionObserverRootMargin:(a=e.intersectionObserverRootMargin)!=null?a:"1000px",primaryCursor:(u=e.primaryCursor)!=null?u:!0,secondaryCursor:(c=e.secondaryCursor)!=null?c:!0,padding:(d=e.padding)!=null?d:eo})}function rk(e){var t=e.options,n=e.className,r=e.style,i=r===void 0?{}:r,o=_v(e,ek),s=nk(t),l=G.useState(null),a=l[0],u=l[1],c=a==null?void 0:a.parentElement,d=G.useMemo(function(){var _=function C(S){if(!S)return null;var T=S.parentElement;if(!T)return null;if(T.scrollHeight>T.clientHeight){var P=window.getComputedStyle(T),$=P.overflow;if($.includes("scroll")||$.includes("auto"))return T}return C(T)};return _(c)},[c]),f=G.useState({width:s.initialWidth,height:s.initialHeight}),h=f[0],v=h.width,y=h.height,w=f[1];Zo(function(){if(c){var _=window.getComputedStyle(c);["relative","absolute","fixed"].includes(_.position)||(c.style.position="relative")}},[c]),G.useEffect(function(){if(!!c){var _=new ResizeObserver(function(){var C=c==null?void 0:c.getBoundingClientRect(),S=window.getComputedStyle(c);C&&w({width:C.width-parseInt(S.borderLeftWidth)-parseInt(S.borderRightWidth),height:C.height-parseInt(S.borderTopWidth)-parseInt(S.borderBottomWidth)})});return _.observe(c),function(){_.unobserve(c)}}},[c]);var m=G.useState(!0),p=m[0],g=m[1];return G.useEffect(function(){if(!(!c||!s.useIntersectionObserver)){var _=new IntersectionObserver(function(C){for(var S=vS(C),T;!(T=S()).done;){var P=T.value;P.isIntersecting?g(!0):g(!1)}},{root:d,rootMargin:s.intersectionObserverRootMargin});return _.observe(c),function(){_.unobserve(c)}}},[c,d,s.intersectionObserverRootMargin,s.useIntersectionObserver]),U("div",{ref:u,...o,className:"ReactChart "+(n||""),style:ee({fontFamily:"sans-serif"},i,{position:"absolute",width:v,height:y}),children:s.useIntersectionObserver&&!p?null:U(ik,{options:s,width:v,height:y})})}function ik(e){var t,n,r=e.options,i=e.width,o=e.height;if(!r.primaryAxis)throw new Error("A primaryAxis is required");if(!r.secondaryAxes.length)throw new Error("At least one secondaryAxis is required");var s=G.useMemo(function(){var M=mm(r.primaryAxis,r.data),E=gm(r.primaryAxis,M);return ee({position:"bottom"},E)},[r.data,r.primaryAxis]),l=G.useMemo(function(){return r.secondaryAxes.map(function(M,E){var D=mm(M,r.data),b=gm(M,D);return b.elementType||(s.scaleType==="band"?b.elementType="bar":b.stacked&&(b.elementType="area")),typeof b.stacked>"u"&&b.elementType&&["area"].includes(b.elementType)&&(b.stacked=!0),ee({position:E?"right":"left"},b)})},[r.data,r.secondaryAxes,s]),a=G.useMemo(function(){var M,E,D=PT((M=r)==null?void 0:M.tooltip);return D.groupingMode=(E=D.groupingMode)!=null?E:function(){return r.interactionMode==="closest"?"single":"primary"}(),D},[r.interactionMode,(t=r)==null?void 0:t.tooltip]);r=ee({},r,{tooltip:a});var u=G.useRef(null),c=Cl(ee({},r,{tooltip:a})),d=G.useState({left:{},right:{},top:{},bottom:{}}),f=d[0],h=G.useState(!1),v=h[0],y=G.useState(null),w=y[0],m=G.useMemo(function(){var M,E,D,b,K={left:typeof r.padding=="object"?(M=r.padding.left)!=null?M:eo:r.padding,right:typeof r.padding=="object"?(E=r.padding.right)!=null?E:eo:r.padding,bottom:typeof r.padding=="object"?(D=r.padding.bottom)!=null?D:eo:r.padding,top:typeof r.padding=="object"?(b=r.padding.top)!=null?b:eo:r.padding},H=K.left+Math.max(pt(Object.values(f.left),function(Z){return Z.width}),pt(Object.values(f.top),function(Z){return Z.paddingLeft}),pt(Object.values(f.bottom),function(Z){return Z.paddingLeft})),Q=K.top+Math.max(pt(Object.values(f.top),function(Z){return Z.height}),pt(Object.values(f.left),function(Z){return Z.paddingTop}),pt(Object.values(f.right),function(Z){return Z.paddingTop})),j=K.right+Math.max(pt(Object.values(f.right),function(Z){return Z.width}),pt(Object.values(f.top),function(Z){return Z.paddingRight}),pt(Object.values(f.bottom),function(Z){return Z.paddingRight})),re=K.bottom+Math.max(pt(Object.values(f.bottom),function(Z){return Z.height}),pt(Object.values(f.left),function(Z){return Z.paddingBottom}),pt(Object.values(f.right),function(Z){return Z.paddingBottom})),de=Math.max(0,i-H-j),ge=Math.max(0,o-Q-re);return{left:H,top:Q,right:j,bottom:re,width:de,height:ge}},[r.padding,f.left,f.top,f.bottom,f.right,i,o]),p=G.useMemo(function(){for(var M=[],E={},D=0;D<r.data.length;D++){var b,K,H,Q=r.data[D],j=(b=Q.id)!=null?b:D+"",re=(K=Q.label)!=null?K:"Series "+(D+1),de=Q.secondaryAxisId,ge=Q.data,Z=[];E[""+de]=(H=E[""+de])!=null?H:0;var I=E[""+de];E[""+de]++;for(var L=0;L<ge.length;L++){var B=ge[L];Z[L]={originalSeries:Q,seriesIndex:D,seriesIndexPerAxis:I,seriesId:j,seriesLabel:re,secondaryAxisId:de,index:L,originalDatum:B}}M[D]={originalSeries:Q,index:D,id:j,label:re,indexPerAxis:I,secondaryAxisId:de,datums:Z}}return M},[r.data]),g=G.useMemo(function(){return p.map(function(M){return M.datums}).flat(2)},[p]),_=G.useMemo(function(){return lm(!0,s,p,g,m,i,o)},[g,m,o,s,p,i]),C=G.useMemo(function(){return l.map(function(M){return lm(!1,M,p,g,m,i,o)})},[g,m,o,l,p,i]),S=G.useMemo(function(){if(!v)return[new Map,new Map];var M=new Map,E=new Map,D=C.every(function(Q){return Q.elementType==="bar"&&!Q.stacked}),b=function(j){if(D){var re=C.find(function(de){return de.id===j.secondaryAxisId});if(re.elementType==="bar"&&!re.stacked)return Yf(j,_,re)}return j.primaryValue},K=function(j){return""+b(j)},H=function(j){return""+j.primaryValue};return r.interactionMode==="closest"&&(K=function(j){return b(j)+"_"+j.secondaryValue}),a.groupingMode==="single"?H=function(j){return j.primaryValue+"_"+j.secondaryValue}:a.groupingMode==="secondary"?H=function(j){return""+j.secondaryValue}:a.groupingMode==="series"&&(H=function(j){return""+j.seriesIndex}),g.forEach(function(Q){var j=K(Q),re=H(Q);M.has(j)||M.set(j,[]),E.has(re)||E.set(re,[]),M.get(j).push(Q),E.get(re).push(Q)}),M.forEach(function(Q,j){M.set(j,vm(Q,C))}),E.forEach(function(Q,j){E.set(j,vm(Q,C))}),g.forEach(function(Q){var j=K(Q),re=H(Q);Q.interactiveGroup=M.get(j),Q.tooltipGroup=E.get(re)}),[M,E]},[v,g,r.interactionMode,_,C,a.groupingMode]),T=S[0],P=S[1],$=G.useCallback(function(M,E){var D,b,K,H={color:c().defaultColors[M.index%c().defaultColors.length]},Q=OS(M,E),j=(D=(b=(K=c()).getSeriesStyle)==null?void 0:b.call(K,M,Q))!=null?D:{};return M.style=_c(j,H),M.style},[c]),k=G.useCallback(function(M,E){var D,b,K,H,Q=ee({},(D=p[M.seriesIndex])==null?void 0:D.style,{color:c().defaultColors[M.seriesIndex%c().defaultColors.length]}),j=LS(M,E),re=(b=(K=(H=c()).getDatumStyle)==null?void 0:K.call(H,M,j))!=null?b:{};return M.style=_c(re,Q),M.style},[c,p]),N=G.useMemo(function(){var M=[].concat(p).reverse();return c().getSeriesOrder(M)},[c,p]);Zo(function(){u.current&&u.current.parentElement&&!u.current.parentElement.style.position&&(u.current.parentElement.style.position="relative")});var A={getOptions:c,gridDimensions:m,primaryAxis:_,secondaryAxes:C,series:p,orderedSeries:N,datumsByInteractionGroup:T,datumsByTooltipGroup:P,width:i,height:o,getSeriesStatusStyle:$,getDatumStatusStyle:k,axisDimensionsState:d,focusedDatumState:y,svgRef:u,isInteractingState:h},R=G.useMemo(function(){return PS(IS(N,function(M){return M.secondaryAxisId}),function(M){var E=M[0];return C.findIndex(function(D){return D.id===E})})},[N,C]),z=function(){return{primaryAxis:_,secondaryAxes:C,seriesByAxisId:R}},X=G.useCallback(function(){return{primaryAxis:_,secondaryAxes:C,seriesByAxisId:R}},[_,C,R]);r.memoizeSeries&&(z=X);var W=G.useMemo(function(){var M=z(),E=M.primaryAxis,D=M.secondaryAxes,b=M.seriesByAxisId;return b.map(function(K){var H=K[0],Q=K[1],j=D.find(function(ge){return ge.id===H});if(!j)return null;var re=j.elementType,de=function(){if(re==="line"||re==="bubble"||re==="area")return qS;if(re==="bar")return US;throw new Error("Invalid elementType")}();return E.isInvalid||j.isInvalid?null:U(de,{primaryAxis:E,secondaryAxis:j,series:Q},H!=null?H:"__default__")})},[z]);return U($S,{value:Cl(A),children:me("div",{children:[me("svg",{ref:u,style:{width:i,height:o,overflow:r.brush?"hidden":"visible"},onClick:function(E){return r.onClickDatum==null?void 0:r.onClickDatum(w,E)},onMouseEnter:function(){h[1](!0)},onMouseLeave:function(){h[1](!1)},children:[U("g",{className:"axes",children:[_].concat(C).map(function(M){return U(vT,{...M},[M.position,M.id].join(""))})}),U("g",{className:"Series",style:{pointerEvents:"none"},children:W}),U(KT,{}),(n=r.renderSVG==null?void 0:r.renderSVG())!=null?n:null]}),U(CT,{}),U(AT,{})]})})}function mm(e,t){var n;return t.some(function(r){return r.data.some(function(i){var o=e.getValue(i);if(o!==null&&typeof o<"u")return n=o,!0})}),n}function gm(e,t){var n=e.scaleType;if(!e.scaleType)if(typeof t=="number")n="linear";else if(typeof(t==null?void 0:t.getMonth)=="function")n="time";else if(typeof t=="string"||typeof t=="boolean")n="band";else throw new Error("Invalid scale type: Unable to infer type from data");return ee({},e,{scaleType:n})}function vm(e,t){return[].concat(e).sort(function(n,r){var i,o,s,l,a=t.find(function(f){return f.id===n.secondaryAxisId}),u=t.find(function(f){return f.id===r.secondaryAxisId}),c=(i=a==null?void 0:a.scale(a.stacked?(o=n.stackData)==null?void 0:o[1]:n.secondaryValue))!=null?i:NaN,d=(s=u==null?void 0:u.scale(u.stacked?(l=r.stackData)==null?void 0:l[1]:r.secondaryValue))!=null?s:NaN;return c-d})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F=function(e,t){if(!e)throw Ti(t)},Ti=function(e){return new Error("Firebase Database ("+my.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},ok=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],s=e[n++],l=e[n++],a=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(a&1023))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},pd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,l=s?e[i+1]:0,a=i+2<e.length,u=a?e[i+2]:0,c=o>>2,d=(o&3)<<4|l>>4;let f=(l&15)<<2|u>>6,h=u&63;a||(h=64,s||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(gy(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ok(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||l==null||u==null||d==null)throw Error();const f=o<<2|l>>4;if(r.push(f),u!==64){const h=l<<4&240|u>>2;if(r.push(h),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},vy=function(e){const t=gy(e);return pd.encodeByteArray(t,!0)},yy=function(e){return vy(e).replace(/\./g,"")},ym=function(e){try{return pd.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(e){return _y(void 0,e)}function _y(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!lk(n)||(e[n]=_y(e[n],t[n]));return e}function lk(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ak())}function uk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Sy(){return my.NODE_ADMIN===!0}function ck(){return typeof indexedDB=="object"}function fk(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk="FirebaseError";class ns extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=dk,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xy.prototype.create)}}class xy{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?hk(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new ns(i,l,r)}}function hk(e,t){return e.replace(pk,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const pk=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(e){return JSON.parse(e)}function Le(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=Lo(ym(o[0])||""),n=Lo(ym(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},mk=function(e){const t=Cy(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},gk=function(e){const t=Cy(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function vi(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function _m(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Al(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Ic(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(wm(o)&&wm(s)){if(!Ic(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function wm(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=l^o&(s^l),c=1518500249):(u=o^s^l,c=1859775393):d<60?(u=o&s|l&(o|s),c=2400959708):(u=o^s^l,c=3395469782);const f=(i<<5|i>>>27)+u+a+c+r[d]&4294967295;a=l,l=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}}function da(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,F(r<e.length,"Surrogate pair missing trail surrogate.");const s=e.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},ha=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(e){return e&&e._delegate?e._delegate:e}class Fo{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new md;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(xk(t))try{this.getOrInitializeService({instanceIdentifier:qn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=qn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qn){return this.instances.has(t)}getOptions(t=qn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Sk(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=qn){return this.component?this.component.multipleInstances?t:qn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Sk(e){return e===qn?void 0:e}function xk(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new wk(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ve||(ve={}));const Ek={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},Tk=ve.INFO,kk={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},Nk=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=kk[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ey{constructor(t){this.name=t,this._logLevel=Tk,this._logHandler=Nk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ve))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ek[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...t),this._logHandler(this,ve.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...t),this._logHandler(this,ve.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...t),this._logHandler(this,ve.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...t),this._logHandler(this,ve.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...t),this._logHandler(this,ve.ERROR,...t)}}const Mk=(e,t)=>t.some(n=>e instanceof n);let Sm,xm;function Ik(){return Sm||(Sm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Rk(){return xm||(xm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ty=new WeakMap,Rc=new WeakMap,ky=new WeakMap,uu=new WeakMap,gd=new WeakMap;function Dk(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(bn(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&Ty.set(n,e)}).catch(()=>{}),gd.set(t,e),t}function Pk(e){if(Rc.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Rc.set(e,t)}let Dc={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Rc.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ky.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Ak(e){Dc=e(Dc)}function bk(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(cu(this),t,...n);return ky.set(r,t.sort?t.sort():[t]),bn(r)}:Rk().includes(e)?function(...t){return e.apply(cu(this),t),bn(Ty.get(this))}:function(...t){return bn(e.apply(cu(this),t))}}function Ok(e){return typeof e=="function"?bk(e):(e instanceof IDBTransaction&&Pk(e),Mk(e,Ik())?new Proxy(e,Dc):e)}function bn(e){if(e instanceof IDBRequest)return Dk(e);if(uu.has(e))return uu.get(e);const t=Ok(e);return t!==e&&(uu.set(e,t),gd.set(t,e)),t}const cu=e=>gd.get(e);function Lk(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),l=bn(s);return r&&s.addEventListener("upgradeneeded",a=>{r(bn(s.result),a.oldVersion,a.newVersion,bn(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),l.then(a=>{o&&a.addEventListener("close",()=>o()),i&&a.addEventListener("versionchange",()=>i())}).catch(()=>{}),l}const Fk=["get","getKey","getAll","getAllKeys","count"],$k=["put","add","delete","clear"],fu=new Map;function Cm(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(fu.get(t))return fu.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=$k.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Fk.includes(n)))return;const o=async function(s,...l){const a=this.transaction(s,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return fu.set(t,o),o}Ak(e=>({...e,get:(t,n,r)=>Cm(t,n)||e.get(t,n,r),has:(t,n)=>!!Cm(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Bk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Bk(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Pc="@firebase/app",Em="0.7.33";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new Ey("@firebase/app"),zk="@firebase/app-compat",Vk="@firebase/analytics-compat",Wk="@firebase/analytics",Hk="@firebase/app-check-compat",jk="@firebase/app-check",Yk="@firebase/auth",Gk="@firebase/auth-compat",Kk="@firebase/database",Qk="@firebase/database-compat",qk="@firebase/functions",Xk="@firebase/functions-compat",Zk="@firebase/installations",Jk="@firebase/installations-compat",eN="@firebase/messaging",tN="@firebase/messaging-compat",nN="@firebase/performance",rN="@firebase/performance-compat",iN="@firebase/remote-config",oN="@firebase/remote-config-compat",sN="@firebase/storage",lN="@firebase/storage-compat",aN="@firebase/firestore",uN="@firebase/firestore-compat",cN="firebase",fN="9.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="[DEFAULT]",dN={[Pc]:"fire-core",[zk]:"fire-core-compat",[Wk]:"fire-analytics",[Vk]:"fire-analytics-compat",[jk]:"fire-app-check",[Hk]:"fire-app-check-compat",[Yk]:"fire-auth",[Gk]:"fire-auth-compat",[Kk]:"fire-rtdb",[Qk]:"fire-rtdb-compat",[qk]:"fire-fn",[Xk]:"fire-fn-compat",[Zk]:"fire-iid",[Jk]:"fire-iid-compat",[eN]:"fire-fcm",[tN]:"fire-fcm-compat",[nN]:"fire-perf",[rN]:"fire-perf-compat",[iN]:"fire-rc",[oN]:"fire-rc-compat",[sN]:"fire-gcs",[lN]:"fire-gcs-compat",[aN]:"fire-fst",[uN]:"fire-fst-compat","fire-js":"fire-js",[cN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=new Map,Ac=new Map;function hN(e,t){try{e.container.addComponent(t)}catch(n){gr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ol(e){const t=e.name;if(Ac.has(t))return gr.debug(`There were multiple attempts to register component ${t}.`),!1;Ac.set(t,e);for(const n of bl.values())hN(n,e);return!0}function pN(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},vr=new xy("app","Firebase",mN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=fN;function yN(e,t={}){typeof t!="object"&&(t={name:t});const n=Object.assign({name:Ny,automaticDataCollectionEnabled:!1},t),r=n.name;if(typeof r!="string"||!r)throw vr.create("bad-app-name",{appName:String(r)});const i=bl.get(r);if(i){if(Ic(e,i.options)&&Ic(n,i.config))return i;throw vr.create("duplicate-app",{appName:r})}const o=new Ck(r);for(const l of Ac.values())o.addComponent(l);const s=new gN(e,n,o);return bl.set(r,s),s}function _N(e=Ny){const t=bl.get(e);if(!t)throw vr.create("no-app",{appName:e});return t}function li(e,t,n){var r;let i=(r=dN[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${t}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),gr.warn(l.join(" "));return}Ol(new Fo(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="firebase-heartbeat-database",SN=1,$o="firebase-heartbeat-store";let du=null;function My(){return du||(du=Lk(wN,SN,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore($o)}}}).catch(e=>{throw vr.create("idb-open",{originalErrorMessage:e.message})})),du}async function xN(e){var t;try{return(await My()).transaction($o).objectStore($o).get(Iy(e))}catch(n){if(n instanceof ns)gr.warn(n.message);else{const r=vr.create("idb-get",{originalErrorMessage:(t=n)===null||t===void 0?void 0:t.message});gr.warn(r.message)}}}async function Tm(e,t){var n;try{const i=(await My()).transaction($o,"readwrite");return await i.objectStore($o).put(t,Iy(e)),i.done}catch(r){if(r instanceof ns)gr.warn(r.message);else{const i=vr.create("idb-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message});gr.warn(i.message)}}}function Iy(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=1024,EN=30*24*60*60*1e3;class TN{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=km();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=EN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=km(),{heartbeatsToSend:n,unsentEntries:r}=kN(this._heartbeatsCache.heartbeats),i=yy(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function km(){return new Date().toISOString().substring(0,10)}function kN(e,t=CN){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Nm(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Nm(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class NN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ck()?fk().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await xN(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Tm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Tm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Nm(e){return yy(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(e){Ol(new Fo("platform-logger",t=>new Uk(t),"PRIVATE")),Ol(new Fo("heartbeat",t=>new TN(t),"PRIVATE")),li(Pc,Em,e),li(Pc,Em,"esm2017"),li("fire-js","")}MN("");const Mm="@firebase/database",Im="0.13.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ry="";function IN(e){Ry=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Le(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Lo(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return tn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new RN(t)}}catch{}return new DN},rr=Dy("localStorage"),bc=Dy("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new Ey("@firebase/database"),PN=function(){let e=1;return function(){return e++}}(),Py=function(e){const t=_k(e),n=new yk;n.update(t);const r=n.digest();return pd.encodeByteArray(r)},is=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=is.apply(null,r):typeof r=="object"?t+=Le(r):t+=r,t+=" "}return t};let sr=null,Rm=!0;const AN=function(e,t){F(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(ai.logLevel=ve.VERBOSE,sr=ai.log.bind(ai),t&&bc.set("logging_enabled",!0)):typeof e=="function"?sr=e:(sr=null,bc.remove("logging_enabled"))},Je=function(...e){if(Rm===!0&&(Rm=!1,sr===null&&bc.get("logging_enabled")===!0&&AN(!0)),sr){const t=is.apply(null,e);sr(t)}},os=function(e){return function(...t){Je(e,...t)}},Oc=function(...e){const t="FIREBASE INTERNAL ERROR: "+is(...e);ai.error(t)},yr=function(...e){const t=`FIREBASE FATAL ERROR: ${is(...e)}`;throw ai.error(t),new Error(t)},_t=function(...e){const t="FIREBASE WARNING: "+is(...e);ai.warn(t)},bN=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&_t("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},vd=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},ON=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},_r="[MIN_NAME]",Un="[MAX_NAME]",ki=function(e,t){if(e===t)return 0;if(e===_r||t===Un)return-1;if(t===_r||e===Un)return 1;{const n=Dm(e),r=Dm(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},LN=function(e,t){return e===t?0:e<t?-1:1},Yi=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Le(t))},yd=function(e){if(typeof e!="object"||e===null)return Le(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=Le(t[r]),n+=":",n+=yd(e[t[r]]);return n+="}",n},Ay=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function ht(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const by=function(e){F(!vd(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,o,s,l,a;e===0?(o=0,s=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=l+r,s=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(a=t;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(a=0;a<64;a+=8){let f=parseInt(c.substr(a,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},FN=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},$N=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function UN(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const BN=new RegExp("^-?(0*)\\d{1,10}$"),zN=-2147483648,VN=2147483647,Dm=function(e){if(BN.test(e)){const t=Number(e);if(t>=zN&&t<=VN)return t}return null},ss=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw _t("Exception was thrown by user callback.",n),t},Math.floor(0))}},WN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},fo=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){_t(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Je("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',_t(t)}}class Lc{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Lc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="5",Oy="v",Ly="s",Fy="r",$y="f",Uy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,By="ls",zy="p",Fc="ac",Vy="websocket",Wy="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(t,n,r,i,o=!1,s="",l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=rr.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&rr.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function GN(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function Hy(e,t,n){F(typeof t=="string","typeof type must == string"),F(typeof n=="object","typeof params must == object");let r;if(t===Vy)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===Wy)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);GN(e)&&(n.ns=e.namespace);const i=[];return ht(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.counters_={}}incrementCounter(t,n=1){tn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return sk(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu={},pu={};function wd(e){const t=e.toString();return hu[t]||(hu[t]=new KN),hu[t]}function QN(e,t){const n=e.toString();return pu[n]||(pu[n]=t()),pu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ss(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="start",XN="close",ZN="pLPCommand",JN="pRTLPCB",jy="id",Yy="pw",Gy="ser",eM="cb",tM="seg",nM="ts",rM="d",iM="dframe",Ky=1870,Qy=30,oM=Ky-Qy,sM=25e3,lM=3e4;class Xr{constructor(t,n,r,i,o,s,l){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=os(t),this.stats_=wd(n),this.urlFn=a=>(this.appCheckToken&&(a[Fc]=this.appCheckToken),Hy(n,Wy,a))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new qN(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(lM)),ON(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Sd((...o)=>{const[s,l,a,u,c]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===Pm)this.id=l,this.password=a;else if(s===XN)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,l]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Pm]="t",r[Gy]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[eM]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Oy]=_d,this.transportSessionId&&(r[Ly]=this.transportSessionId),this.lastSessionId&&(r[By]=this.lastSessionId),this.applicationId&&(r[zy]=this.applicationId),this.appCheckToken&&(r[Fc]=this.appCheckToken),typeof location<"u"&&location.hostname&&Uy.test(location.hostname)&&(r[Fy]=$y);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Xr.forceAllow_=!0}static forceDisallow(){Xr.forceDisallow_=!0}static isAvailable(){return Xr.forceAllow_?!0:!Xr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!FN()&&!$N()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Le(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=vy(n),i=Ay(r,oM);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[iM]="t",r[jy]=t,r[Yy]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Le(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Sd{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=PN(),window[ZN+this.uniqueCallbackIdentifier]=t,window[JN+this.uniqueCallbackIdentifier]=n,this.myIFrame=Sd.createIFrame_();let o="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){const l=document.domain;o='<script>document.domain="'+l+'";<\/script>'}const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(l){Je("frame writing exception"),l.stack&&Je(l.stack),Je(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Je("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[jy]=this.myID,t[Yy]=this.myPW,t[Gy]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Qy+r.length<=Ky;){const s=this.pendingSegs.shift();r=r+"&"+tM+i+"="+s.seg+"&"+nM+i+"="+s.ts+"&"+rM+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(sM)),o=()=>{clearTimeout(i),r()};this.addTag(t,o)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Je("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=16384,uM=45e3;let Ll=null;typeof MozWebSocket<"u"?Ll=MozWebSocket:typeof WebSocket<"u"&&(Ll=WebSocket);class Ft{constructor(t,n,r,i,o,s,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=os(this.connId),this.stats_=wd(n),this.connURL=Ft.connectionURL_(n,s,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,o){const s={};return s[Oy]=_d,typeof location<"u"&&location.hostname&&Uy.test(location.hostname)&&(s[Fy]=$y),n&&(s[Ly]=n),r&&(s[By]=r),i&&(s[Fc]=i),o&&(s[zy]=o),Hy(t,Vy,s)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,rr.set("previous_websocket_failure",!0);try{let r;Sy(),this.mySock=new Ll(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Ft.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Ll!==null&&!Ft.forceDisallow_}static previouslyFailed(){return rr.isInMemoryStorage||rr.get("previous_websocket_failure")===!0}markConnectionHealthy(){rr.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Lo(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(F(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=Le(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Ay(n,aM);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(uM))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ft.responsesRequiredToBeHealthy=2;Ft.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Xr,Ft]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=Ft&&Ft.isAvailable();let r=n&&!Ft.previouslyFailed();if(t.webSocketOnly&&(n||_t("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ft];else{const i=this.transports_=[];for(const o of Uo.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);Uo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Uo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=6e4,fM=5e3,dM=10*1024,hM=100*1024,mu="t",Am="d",pM="s",bm="r",mM="e",Om="o",Lm="a",Fm="n",$m="p",gM="h";class vM{constructor(t,n,r,i,o,s,l,a,u,c){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=os("c:"+this.id+":"),this.transportManager_=new Uo(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=fo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>hM?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>dM?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(mu in t){const n=t[mu];n===Lm?this.upgradeIfSecondaryHealthy_():n===bm?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Om&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Yi("t",t),r=Yi("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:$m,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Lm,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Fm,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Yi("t",t),r=Yi("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Yi(mu,t);if(Am in t){const r=t[Am];if(n===gM)this.onHandshake_(r);else if(n===Fm){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===pM?this.onConnectionShutdown_(r):n===bm?this.onReset_(r):n===mM?Oc("Server Error: "+r):n===Om?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Oc("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),_d!==r&&_t("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),fo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(cM))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(fM))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:$m,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(rr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(t){this.allowedEvents_=t,this.listeners_={},F(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(t){F(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends Xy{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!wy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Fl}getInitialEvent(t){return F(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um=32,Bm=768;class pe{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function ue(){return new pe("")}function oe(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Bn(e){return e.pieces_.length-e.pieceNum_}function ye(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new pe(e.pieces_,t)}function Zy(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function yM(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Jy(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function e_(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new pe(t,0)}function Fe(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof pe)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new pe(n,0)}function te(e){return e.pieceNum_>=e.pieces_.length}function rt(e,t){const n=oe(e),r=oe(t);if(n===null)return t;if(n===r)return rt(ye(e),ye(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function t_(e,t){if(Bn(e)!==Bn(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function $t(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Bn(e)>Bn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class _M{constructor(t,n){this.errorPrefix_=n,this.parts_=Jy(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ha(this.parts_[r]);n_(this)}}function wM(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=ha(t),n_(e)}function SM(e){const t=e.parts_.pop();e.byteLength_-=ha(t),e.parts_.length>0&&(e.byteLength_-=1)}function n_(e){if(e.byteLength_>Bm)throw new Error(e.errorPrefix_+"has a key path longer than "+Bm+" bytes ("+e.byteLength_+").");if(e.parts_.length>Um)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Um+") or object contains a cycle "+Xn(e))}function Xn(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd extends Xy{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new xd}getInitialEvent(t){return F(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=1e3,xM=60*5*1e3,zm=30*1e3,CM=1.3,EM=3e4,TM="server_kill",Vm=3;class fn extends qy{constructor(t,n,r,i,o,s,l,a){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=fn.nextPersistentConnectionId_++,this.log_=os("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Gi,this.maxReconnectDelay_=xM,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Sy())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");xd.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Fl.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,o={r:i,a:t,b:n};this.log_(Le(o)),F(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new md,r={p:t._path.toString(),q:t._queryObject},i={action:"g",request:r,onComplete:s=>{const l=s.d;s.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(t,n,r,i){this.initConnection_();const o=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),F(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),F(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(s).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";t.tag&&(o.q=n._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest(s,o,l=>{const a=l.d,u=l.s;fn.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(u,a))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&tn(t,"w")){const r=vi(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();_t(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||gk(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=zm)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=mk(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===t&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),F(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const o={p:t},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:t,request:s,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Le(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):Oc("Unrecognized action received from server: "+Le(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){F(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Gi,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Gi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>EM&&(this.reconnectDelay_=Gi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*CM)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+fn.nextConnectionId_++,o=this.lastSessionId;let s=!1,l=null;const a=function(){l?l.close():(s=!0,r())},u=function(d){F(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:a,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?Je("getToken() completed but was canceled"):(Je("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,l=new vM(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,h=>{_t(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(TM)},o))}catch(d){this.log_("Failed to get token: "+d),s||(this.repoInfo_.nodeAdmin&&_t(d),a())}}}interrupt(t){Je("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Je("Resuming connection for reason: "+t),delete this.interruptReasons_[t],_m(this.interruptReasons_)&&(this.reconnectDelay_=Gi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(o=>yd(o)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new pe(t).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){Je("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Vm&&(this.reconnectDelay_=zm,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Je("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Vm&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+Ry.replace(/\./g,"-")]=1,wy()?t["framework.cordova"]=1:uk()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Fl.getInstance().currentlyOnline();return _m(this.interruptReasons_)&&t}}fn.nextPersistentConnectionId_=0;fn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new ne(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new ne(_r,t),i=new ne(_r,n);return this.compare(r,i)!==0}minPost(){return ne.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Os;class r_ extends pa{static get __EMPTY_NODE(){return Os}static set __EMPTY_NODE(t){Os=t}compare(t,n){return ki(t.name,n.name)}isDefinedOn(t){throw Ti("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return ne.MIN}maxPost(){return new ne(Un,Os)}makePost(t,n){return F(typeof t=="string","KeyIndex indexValue must always be a string."),new ne(t,Os)}toString(){return".key"}}const lr=new r_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?r(t.key,n):1,i&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class ze{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r!=null?r:ze.RED,this.left=i!=null?i:ut.EMPTY_NODE,this.right=o!=null?o:ut.EMPTY_NODE}copy(t,n,r,i,o){return new ze(t!=null?t:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,o!=null?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ut.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return ut.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}ze.RED=!0;ze.BLACK=!1;class kM{copy(t,n,r,i,o){return this}insert(t,n,r){return new ze(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ut{constructor(t,n=ut.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new ut(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ze.BLACK,null,null))}remove(t){return new ut(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ze.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Ls(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Ls(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Ls(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Ls(this.root_,null,this.comparator_,!0,t)}}ut.EMPTY_NODE=new kM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(e,t){return ki(e.name,t.name)}function Cd(e,t){return ki(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c;function MM(e){$c=e}const i_=function(e){return typeof e=="number"?"number:"+by(e):"string:"+e},o_=function(e){if(e.isLeafNode()){const t=e.val();F(typeof t=="string"||typeof t=="number"||typeof t=="object"&&tn(t,".sv"),"Priority must be a string or number.")}else F(e===$c||e.isEmpty(),"priority of unexpected type.");F(e===$c||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wm;class Ue{constructor(t,n=Ue.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,F(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),o_(this.priorityNode_)}static set __childrenNodeConstructor(t){Wm=t}static get __childrenNodeConstructor(){return Wm}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Ue(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Ue.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return te(t)?this:oe(t)===".priority"?this.priorityNode_:Ue.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Ue.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=oe(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(F(r!==".priority"||Bn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ue.__childrenNodeConstructor.EMPTY_NODE.updateChild(ye(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+i_(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=by(this.value_):t+=this.value_,this.lazyHash_=Py(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Ue.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Ue.__childrenNodeConstructor?-1:(F(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=Ue.VALUE_TYPE_ORDER.indexOf(n),o=Ue.VALUE_TYPE_ORDER.indexOf(r);return F(i>=0,"Unknown leaf type: "+n),F(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ue.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s_,l_;function IM(e){s_=e}function RM(e){l_=e}class DM extends pa{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?ki(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return ne.MIN}maxPost(){return new ne(Un,new Ue("[PRIORITY-POST]",l_))}makePost(t,n){const r=s_(t);return new ne(n,new Ue("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ne=new DM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=Math.log(2);class AM{constructor(t){const n=o=>parseInt(Math.log(o)/PM,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const $l=function(e,t,n,r){e.sort(t);const i=function(a,u){const c=u-a;let d,f;if(c===0)return null;if(c===1)return d=e[a],f=n?n(d):d,new ze(f,d.node,ze.BLACK,null,null);{const h=parseInt(c/2,10)+a,v=i(a,h),y=i(h+1,u);return d=e[h],f=n?n(d):d,new ze(f,d.node,ze.BLACK,v,y)}},o=function(a){let u=null,c=null,d=e.length;const f=function(v,y){const w=d-v,m=d;d-=v;const p=i(w+1,m),g=e[w],_=n?n(g):g;h(new ze(_,g.node,y,null,p))},h=function(v){u?(u.left=v,u=v):(c=v,u=v)};for(let v=0;v<a.count;++v){const y=a.nextBitIsOne(),w=Math.pow(2,a.count-(v+1));y?f(w,ze.BLACK):(f(w,ze.BLACK),f(w,ze.RED))}return c},s=new AM(e.length),l=o(s);return new ut(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gu;const Or={};class un{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return F(Or&&Ne,"ChildrenNode.ts has not been loaded"),gu=gu||new un({".priority":Or},{".priority":Ne}),gu}get(t){const n=vi(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof ut?n:null}hasIndex(t){return tn(this.indexSet_,t.toString())}addIndex(t,n){F(t!==lr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(ne.Wrap);let s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();let l;i?l=$l(r,t.getCompare()):l=Or;const a=t.toString(),u=Object.assign({},this.indexSet_);u[a]=t;const c=Object.assign({},this.indexes_);return c[a]=l,new un(c,u)}addToIndexes(t,n){const r=Al(this.indexes_,(i,o)=>{const s=vi(this.indexSet_,o);if(F(s,"Missing index implementation for "+o),i===Or)if(s.isDefinedOn(t.node)){const l=[],a=n.getIterator(ne.Wrap);let u=a.getNext();for(;u;)u.name!==t.name&&l.push(u),u=a.getNext();return l.push(t),$l(l,s.getCompare())}else return Or;else{const l=n.get(t.name);let a=i;return l&&(a=a.remove(new ne(t.name,l))),a.insert(t,t.node)}});return new un(r,this.indexSet_)}removeFromIndexes(t,n){const r=Al(this.indexes_,i=>{if(i===Or)return i;{const o=n.get(t.name);return o?i.remove(new ne(t.name,o)):i}});return new un(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ki;class q{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&o_(this.priorityNode_),this.children_.isEmpty()&&F(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ki||(Ki=new q(new ut(Cd),null,un.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ki}updatePriority(t){return this.children_.isEmpty()?this:new q(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Ki:n}}getChild(t){const n=oe(t);return n===null?this:this.getImmediateChild(n).getChild(ye(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(F(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new ne(t,n);let i,o;n.isEmpty()?(i=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?Ki:this.priorityNode_;return new q(i,s,o)}}updateChild(t,n){const r=oe(t);if(r===null)return n;{F(oe(t)!==".priority"||Bn(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ye(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(Ne,(s,l)=>{n[s]=l.val(t),r++,o&&q.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!t&&o&&i<2*r){const s=[];for(const l in n)s[l]=n[l];return s}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+i_(this.getPriority().val())+":"),this.forEachChild(Ne,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":Py(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new ne(t,n));return o?o.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new ne(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new ne(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,ne.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,t)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,ne.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,t)>0;)i.getNext(),o=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ls?-1:0}withIndex(t){if(t===lr||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new q(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===lr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ne),i=n.getIterator(Ne);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(t){return t===lr?null:this.indexMap_.get(t.toString())}}q.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class bM extends q{constructor(){super(new ut(Cd),q.EMPTY_NODE,un.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return q.EMPTY_NODE}isEmpty(){return!1}}const ls=new bM;Object.defineProperties(ne,{MIN:{value:new ne(_r,q.EMPTY_NODE)},MAX:{value:new ne(Un,ls)}});r_.__EMPTY_NODE=q.EMPTY_NODE;Ue.__childrenNodeConstructor=q;MM(ls);RM(ls);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=!0;function Ge(e,t=null){if(e===null)return q.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),F(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new Ue(n,Ge(t))}if(!(e instanceof Array)&&OM){const n=[];let r=!1;if(ht(e,(s,l)=>{if(s.substring(0,1)!=="."){const a=Ge(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new ne(s,a)))}}),n.length===0)return q.EMPTY_NODE;const o=$l(n,NM,s=>s.name,Cd);if(r){const s=$l(n,Ne.getCompare());return new q(o,Ge(t),new un({".priority":s},{".priority":Ne}))}else return new q(o,Ge(t),un.Default)}else{let n=q.EMPTY_NODE;return ht(e,(r,i)=>{if(tn(e,r)&&r.substring(0,1)!=="."){const o=Ge(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Ge(t))}}IM(Ge);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed extends pa{constructor(t){super(),this.indexPath_=t,F(!te(t)&&oe(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?ki(t.name,n.name):o}makePost(t,n){const r=Ge(t),i=q.EMPTY_NODE.updateChild(this.indexPath_,r);return new ne(n,i)}maxPost(){const t=q.EMPTY_NODE.updateChild(this.indexPath_,ls);return new ne(Un,t)}toString(){return Jy(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM extends pa{compare(t,n){const r=t.node.compareTo(n.node);return r===0?ki(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return ne.MIN}maxPost(){return ne.MAX}makePost(t,n){const r=Ge(t);return new ne(n,r)}toString(){return".value"}}const a_=new LM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(e){return{type:"value",snapshotNode:e}}function yi(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Bo(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function zo(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function FM(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){F(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(Bo(n,l)):F(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?s.trackChildChange(yi(n,r)):s.trackChildChange(zo(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Ne,(i,o)=>{n.hasChild(i)||r.trackChildChange(Bo(i,o))}),n.isLeafNode()||n.forEachChild(Ne,(i,o)=>{if(t.hasChild(i)){const s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(zo(i,o,s))}else r.trackChildChange(yi(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?q.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(t){this.indexedFilter_=new Td(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Vo.getStartPost_(t),this.endPost_=Vo.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,n,r,i,o,s){return this.matches(new ne(n,r))||(r=q.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=q.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(q.EMPTY_NODE);const o=this;return n.forEachChild(Ne,(s,l)=>{o.matches(new ne(s,l))||(i=i.updateImmediateChild(s,q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(t){this.rangedFilter_=new Vo(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new ne(n,r))||(r=q.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=q.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=q.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const l=o.getNext();let a;if(this.reverse_?a=this.index_.compare(this.rangedFilter_.getStartPost(),l)<=0:a=this.index_.compare(l,this.rangedFilter_.getEndPost())<=0,a)i=i.updateImmediateChild(l.name,l.node),s++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(q.EMPTY_NODE);let o,s,l,a;if(this.reverse_){a=i.getReverseIterator(this.index_),o=this.rangedFilter_.getEndPost(),s=this.rangedFilter_.getStartPost();const d=this.index_.getCompare();l=(f,h)=>d(h,f)}else a=i.getIterator(this.index_),o=this.rangedFilter_.getStartPost(),s=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();let u=0,c=!1;for(;a.hasNext();){const d=a.getNext();!c&&l(o,d)<=0&&(c=!0),c&&u<this.limit_&&l(d,s)<=0?u++:i=i.updateImmediateChild(d.name,q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){const d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();const l=t;F(l.numChildren()===this.limit_,"");const a=new ne(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(l.hasChild(n)){const d=l.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||l.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:s(f,a);if(c&&!r.isEmpty()&&h>=0)return o!=null&&o.trackChildChange(zo(n,r,d)),l.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(Bo(n,d));const y=l.updateImmediateChild(n,q.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o!=null&&o.trackChildChange(yi(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?t:c&&s(u,a)>=0?(o!=null&&(o.trackChildChange(Bo(u.name,u.node)),o.trackChildChange(yi(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,q.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ne}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return F(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return F(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:_r}hasEnd(){return this.endSet_}getIndexEndValue(){return F(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return F(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Un}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return F(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ne}copy(){const t=new kd;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function UM(e){return e.loadsAllData()?new Td(e.getIndex()):e.hasLimit()?new $M(e):new Vo(e)}function BM(e,t,n){const r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function zM(e,t,n){const r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function VM(e,t){const n=e.copy();return n.index_=t,n}function Hm(e){const t={};if(e.isDefault())return t;let n;return e.index_===Ne?n="$priority":e.index_===a_?n="$value":e.index_===lr?n="$key":(F(e.index_ instanceof Ed,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Le(n),e.startSet_&&(t.startAt=Le(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+Le(e.indexStartName_))),e.endSet_&&(t.endAt=Le(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+Le(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function jm(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Ne&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends qy{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=os("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(F(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const s=Ul.getListenId_(t,r),l={};this.listens_[s]=l;const a=Hm(t._queryParams);this.restRequest_(o+".json",a,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(o,d,!1,r),vi(this.listens_,s)===l){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(t,n){const r=Ul.getListenId_(t,n);delete this.listens_[r]}get(t){const n=Hm(t._queryParams),r=t._path.toString(),i=new md;return this.restRequest_(r+".json",n,(o,s)=>{let l=s;o===404&&(l=null,o=null),o===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+vk(n);this.log_("Sending REST request for "+s);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+s+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Lo(l.responseText)}catch{_t("Failed to parse JSON response for "+s+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&_t("Got unsuccessful REST response for "+s+" Status: "+l.status),r(l.status);r=null}},l.open("GET",s,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(){this.rootNode_=q.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(){return{value:null,children:new Map}}function c_(e,t,n){if(te(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=oe(t);e.children.has(r)||e.children.set(r,Bl());const i=e.children.get(r);t=ye(t),c_(i,t,n)}}function Uc(e,t,n){e.value!==null?n(t,e.value):HM(e,(r,i)=>{const o=new pe(t.toString()+"/"+r);Uc(i,o,n)})}function HM(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&ht(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym=10*1e3,YM=30*1e3,GM=5*60*1e3;class KM{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new jM(t);const r=Ym+(YM-Ym)*Math.random();fo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;ht(t,(i,o)=>{o>0&&tn(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),fo(this.reportStats_.bind(this),Math.floor(Math.random()*2*GM))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ut||(Ut={}));function f_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Nd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Md(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Ut.ACK_USER_WRITE,this.source=f_()}operationForChild(t){if(te(this.path)){if(this.affectedTree.value!=null)return F(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new pe(t));return new zl(ue(),n,this.revert)}}else return F(oe(this.path)===t,"operationForChild called for unrelated child."),new zl(ye(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(t,n){this.source=t,this.path=n,this.type=Ut.LISTEN_COMPLETE}operationForChild(t){return te(this.path)?new Wo(this.source,ue()):new Wo(this.source,ye(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Ut.OVERWRITE}operationForChild(t){return te(this.path)?new wr(this.source,ue(),this.snap.getImmediateChild(t)):new wr(this.source,ye(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Ut.MERGE}operationForChild(t){if(te(this.path)){const n=this.children.subtree(new pe(t));return n.isEmpty()?null:n.value?new wr(this.source,ue(),n.value):new Ho(this.source,ue(),n)}else return F(oe(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Ho(this.source,ye(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(te(t))return this.isFullyInitialized()&&!this.filtered_;const n=oe(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function qM(e,t,n,r){const i=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(FM(s.childName,s.snapshotNode))}),Qi(e,i,"child_removed",t,r,n),Qi(e,i,"child_added",t,r,n),Qi(e,i,"child_moved",o,r,n),Qi(e,i,"child_changed",t,r,n),Qi(e,i,"value",t,r,n),i}function Qi(e,t,n,r,i,o){const s=r.filter(l=>l.type===n);s.sort((l,a)=>ZM(e,l,a)),s.forEach(l=>{const a=XM(e,l,o);i.forEach(u=>{u.respondsTo(l.type)&&t.push(u.createEvent(a,e.query_))})})}function XM(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function ZM(e,t,n){if(t.childName==null||n.childName==null)throw Ti("Should only compare child_ events.");const r=new ne(t.childName,t.snapshotNode),i=new ne(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(e,t){return{eventCache:e,serverCache:t}}function ho(e,t,n,r){return ma(new zn(t,n,r),e.serverCache)}function d_(e,t,n,r){return ma(e.eventCache,new zn(t,n,r))}function Vl(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Sr(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vu;const JM=()=>(vu||(vu=new ut(LN)),vu);class Se{constructor(t,n=JM()){this.value=t,this.children=n}static fromObject(t){let n=new Se(null);return ht(t,(r,i)=>{n=n.set(new pe(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:ue(),value:this.value};if(te(t))return null;{const r=oe(t),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(ye(t),n);return o!=null?{path:Fe(new pe(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(te(t))return this;{const n=oe(t),r=this.children.get(n);return r!==null?r.subtree(ye(t)):new Se(null)}}set(t,n){if(te(t))return new Se(n,this.children);{const r=oe(t),o=(this.children.get(r)||new Se(null)).set(ye(t),n),s=this.children.insert(r,o);return new Se(this.value,s)}}remove(t){if(te(t))return this.children.isEmpty()?new Se(null):new Se(null,this.children);{const n=oe(t),r=this.children.get(n);if(r){const i=r.remove(ye(t));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new Se(null):new Se(this.value,o)}else return this}}get(t){if(te(t))return this.value;{const n=oe(t),r=this.children.get(n);return r?r.get(ye(t)):null}}setTree(t,n){if(te(t))return n;{const r=oe(t),o=(this.children.get(r)||new Se(null)).setTree(ye(t),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new Se(this.value,s)}}fold(t){return this.fold_(ue(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Fe(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,ue(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(te(t))return null;{const o=oe(t),s=this.children.get(o);return s?s.findOnPath_(ye(t),Fe(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,ue(),n)}foreachOnPath_(t,n,r){if(te(t))return this;{this.value&&r(n,this.value);const i=oe(t),o=this.children.get(i);return o?o.foreachOnPath_(ye(t),Fe(n,i),r):new Se(null)}}foreach(t){this.foreach_(ue(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Fe(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(t){this.writeTree_=t}static empty(){return new Vt(new Se(null))}}function po(e,t,n){if(te(t))return new Vt(new Se(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let o=r.value;const s=rt(i,t);return o=o.updateChild(s,n),new Vt(e.writeTree_.set(i,o))}else{const i=new Se(n),o=e.writeTree_.setTree(t,i);return new Vt(o)}}}function Gm(e,t,n){let r=e;return ht(n,(i,o)=>{r=po(r,Fe(t,i),o)}),r}function Km(e,t){if(te(t))return Vt.empty();{const n=e.writeTree_.setTree(t,new Se(null));return new Vt(n)}}function Bc(e,t){return Mr(e,t)!=null}function Mr(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(rt(n.path,t)):null}function Qm(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ne,(r,i)=>{t.push(new ne(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new ne(r,i.value))}),t}function On(e,t){if(te(t))return e;{const n=Mr(e,t);return n!=null?new Vt(new Se(n)):new Vt(e.writeTree_.subtree(t))}}function zc(e){return e.writeTree_.isEmpty()}function _i(e,t){return h_(ue(),e.writeTree_,t)}function h_(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{i===".priority"?(F(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=h_(Fe(e,i),o,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Fe(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(e,t){return v_(t,e)}function e2(e,t,n,r,i){F(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=po(e.visibleWrites,t,n)),e.lastWriteId=r}function t2(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function n2(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);F(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const l=e.allWrites[s];l.visible&&(s>=n&&r2(l,r.path)?i=!1:$t(r.path,l.path)&&(o=!0)),s--}if(i){if(o)return i2(e),!0;if(r.snap)e.visibleWrites=Km(e.visibleWrites,r.path);else{const l=r.children;ht(l,a=>{e.visibleWrites=Km(e.visibleWrites,Fe(r.path,a))})}return!0}else return!1}function r2(e,t){if(e.snap)return $t(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&$t(Fe(e.path,n),t))return!0;return!1}function i2(e){e.visibleWrites=p_(e.allWrites,o2,ue()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function o2(e){return e.visible}function p_(e,t,n){let r=Vt.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const s=o.path;let l;if(o.snap)$t(n,s)?(l=rt(n,s),r=po(r,l,o.snap)):$t(s,n)&&(l=rt(s,n),r=po(r,ue(),o.snap.getChild(l)));else if(o.children){if($t(n,s))l=rt(n,s),r=Gm(r,l,o.children);else if($t(s,n))if(l=rt(s,n),te(l))r=Gm(r,ue(),o.children);else{const a=vi(o.children,oe(l));if(a){const u=a.getChild(ye(l));r=po(r,ue(),u)}}}else throw Ti("WriteRecord should have .snap or .children")}}return r}function m_(e,t,n,r,i){if(!r&&!i){const o=Mr(e.visibleWrites,t);if(o!=null)return o;{const s=On(e.visibleWrites,t);if(zc(s))return n;if(n==null&&!Bc(s,ue()))return null;{const l=n||q.EMPTY_NODE;return _i(s,l)}}}else{const o=On(e.visibleWrites,t);if(!i&&zc(o))return n;if(!i&&n==null&&!Bc(o,ue()))return null;{const s=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&($t(u.path,t)||$t(t,u.path))},l=p_(e.allWrites,s,t),a=n||q.EMPTY_NODE;return _i(l,a)}}}function s2(e,t,n){let r=q.EMPTY_NODE;const i=Mr(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ne,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=On(e.visibleWrites,t);return n.forEachChild(Ne,(s,l)=>{const a=_i(On(o,new pe(s)),l);r=r.updateImmediateChild(s,a)}),Qm(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=On(e.visibleWrites,t);return Qm(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function l2(e,t,n,r,i){F(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Fe(t,n);if(Bc(e.visibleWrites,o))return null;{const s=On(e.visibleWrites,o);return zc(s)?i.getChild(n):_i(s,i.getChild(n))}}function a2(e,t,n,r){const i=Fe(t,n),o=Mr(e.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=On(e.visibleWrites,i);return _i(s,r.getNode().getImmediateChild(n))}else return null}function u2(e,t){return Mr(e.visibleWrites,t)}function c2(e,t,n,r,i,o,s){let l;const a=On(e.visibleWrites,t),u=Mr(a,ue());if(u!=null)l=u;else if(n!=null)l=_i(a,n);else return[];if(l=l.withIndex(s),!l.isEmpty()&&!l.isLeafNode()){const c=[],d=s.getCompare(),f=o?l.getReverseIteratorFrom(r,s):l.getIteratorFrom(r,s);let h=f.getNext();for(;h&&c.length<i;)d(h,r)!==0&&c.push(h),h=f.getNext();return c}else return[]}function f2(){return{visibleWrites:Vt.empty(),allWrites:[],lastWriteId:-1}}function Wl(e,t,n,r){return m_(e.writeTree,e.treePath,t,n,r)}function Id(e,t){return s2(e.writeTree,e.treePath,t)}function qm(e,t,n,r){return l2(e.writeTree,e.treePath,t,n,r)}function Hl(e,t){return u2(e.writeTree,Fe(e.treePath,t))}function d2(e,t,n,r,i,o){return c2(e.writeTree,e.treePath,t,n,r,i,o)}function Rd(e,t,n){return a2(e.writeTree,e.treePath,t,n)}function g_(e,t){return v_(Fe(e.treePath,t),e.writeTree)}function v_(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;F(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),F(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,zo(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Bo(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,yi(r,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,zo(r,t.snapshotNode,i.oldSnap));else throw Ti("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const y_=new p2;class Dd{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new zn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Rd(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Sr(this.viewCache_),o=d2(this.writes_,i,n,1,r,t);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(e){return{filter:e}}function g2(e,t){F(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),F(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function v2(e,t,n,r,i){const o=new h2;let s,l;if(n.type===Ut.OVERWRITE){const u=n;u.source.fromUser?s=Vc(e,t,u.path,u.snap,r,i,o):(F(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered()&&!te(u.path),s=jl(e,t,u.path,u.snap,r,i,l,o))}else if(n.type===Ut.MERGE){const u=n;u.source.fromUser?s=_2(e,t,u.path,u.children,r,i,o):(F(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered(),s=Wc(e,t,u.path,u.children,r,i,l,o))}else if(n.type===Ut.ACK_USER_WRITE){const u=n;u.revert?s=x2(e,t,u.path,r,i,o):s=w2(e,t,u.path,u.affectedTree,r,i,o)}else if(n.type===Ut.LISTEN_COMPLETE)s=S2(e,t,n.path,r,o);else throw Ti("Unknown operation type: "+n.type);const a=o.getChanges();return y2(t,s,a),{viewCache:s,changes:a}}function y2(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Vl(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(u_(Vl(t)))}}function __(e,t,n,r,i,o){const s=t.eventCache;if(Hl(r,n)!=null)return t;{let l,a;if(te(n))if(F(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=Sr(t),c=u instanceof q?u:q.EMPTY_NODE,d=Id(r,c);l=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{const u=Wl(r,Sr(t));l=e.filter.updateFullNode(t.eventCache.getNode(),u,o)}else{const u=oe(n);if(u===".priority"){F(Bn(n)===1,"Can't have a priority with additional path components");const c=s.getNode();a=t.serverCache.getNode();const d=qm(r,n,c,a);d!=null?l=e.filter.updatePriority(c,d):l=s.getNode()}else{const c=ye(n);let d;if(s.isCompleteForChild(u)){a=t.serverCache.getNode();const f=qm(r,n,s.getNode(),a);f!=null?d=s.getNode().getImmediateChild(u).updateChild(c,f):d=s.getNode().getImmediateChild(u)}else d=Rd(r,u,t.serverCache);d!=null?l=e.filter.updateChild(s.getNode(),u,d,c,i,o):l=s.getNode()}}return ho(t,l,s.isFullyInitialized()||te(n),e.filter.filtersNodes())}}function jl(e,t,n,r,i,o,s,l){const a=t.serverCache;let u;const c=s?e.filter:e.filter.getIndexedFilter();if(te(n))u=c.updateFullNode(a.getNode(),r,null);else if(c.filtersNodes()&&!a.isFiltered()){const h=a.getNode().updateChild(n,r);u=c.updateFullNode(a.getNode(),h,null)}else{const h=oe(n);if(!a.isCompleteForPath(n)&&Bn(n)>1)return t;const v=ye(n),w=a.getNode().getImmediateChild(h).updateChild(v,r);h===".priority"?u=c.updatePriority(a.getNode(),w):u=c.updateChild(a.getNode(),h,w,v,y_,null)}const d=d_(t,u,a.isFullyInitialized()||te(n),c.filtersNodes()),f=new Dd(i,d,o);return __(e,d,n,i,f,l)}function Vc(e,t,n,r,i,o,s){const l=t.eventCache;let a,u;const c=new Dd(i,t,o);if(te(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,s),a=ho(t,u,!0,e.filter.filtersNodes());else{const d=oe(n);if(d===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),r),a=ho(t,u,l.isFullyInitialized(),l.isFiltered());else{const f=ye(n),h=l.getNode().getImmediateChild(d);let v;if(te(f))v=r;else{const y=c.getCompleteChild(d);y!=null?Zy(f)===".priority"&&y.getChild(e_(f)).isEmpty()?v=y:v=y.updateChild(f,r):v=q.EMPTY_NODE}if(h.equals(v))a=t;else{const y=e.filter.updateChild(l.getNode(),d,v,f,c,s);a=ho(t,y,l.isFullyInitialized(),e.filter.filtersNodes())}}}return a}function Xm(e,t){return e.eventCache.isCompleteForChild(t)}function _2(e,t,n,r,i,o,s){let l=t;return r.foreach((a,u)=>{const c=Fe(n,a);Xm(t,oe(c))&&(l=Vc(e,l,c,u,i,o,s))}),r.foreach((a,u)=>{const c=Fe(n,a);Xm(t,oe(c))||(l=Vc(e,l,c,u,i,o,s))}),l}function Zm(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function Wc(e,t,n,r,i,o,s,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let a=t,u;te(n)?u=r:u=new Se(null).setTree(n,r);const c=t.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const h=t.serverCache.getNode().getImmediateChild(d),v=Zm(e,h,f);a=jl(e,a,new pe(d),v,i,o,s,l)}}),u.children.inorderTraversal((d,f)=>{const h=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!h){const v=t.serverCache.getNode().getImmediateChild(d),y=Zm(e,v,f);a=jl(e,a,new pe(d),y,i,o,s,l)}}),a}function w2(e,t,n,r,i,o,s){if(Hl(i,n)!=null)return t;const l=t.serverCache.isFiltered(),a=t.serverCache;if(r.value!=null){if(te(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return jl(e,t,n,a.getNode().getChild(n),i,o,l,s);if(te(n)){let u=new Se(null);return a.getNode().forEachChild(lr,(c,d)=>{u=u.set(new pe(c),d)}),Wc(e,t,n,u,i,o,l,s)}else return t}else{let u=new Se(null);return r.foreach((c,d)=>{const f=Fe(n,c);a.isCompleteForPath(f)&&(u=u.set(c,a.getNode().getChild(f)))}),Wc(e,t,n,u,i,o,l,s)}}function S2(e,t,n,r,i){const o=t.serverCache,s=d_(t,o.getNode(),o.isFullyInitialized()||te(n),o.isFiltered());return __(e,s,n,r,y_,i)}function x2(e,t,n,r,i,o){let s;if(Hl(r,n)!=null)return t;{const l=new Dd(r,t,i),a=t.eventCache.getNode();let u;if(te(n)||oe(n)===".priority"){let c;if(t.serverCache.isFullyInitialized())c=Wl(r,Sr(t));else{const d=t.serverCache.getNode();F(d instanceof q,"serverChildren would be complete if leaf node"),c=Id(r,d)}c=c,u=e.filter.updateFullNode(a,c,o)}else{const c=oe(n);let d=Rd(r,c,t.serverCache);d==null&&t.serverCache.isCompleteForChild(c)&&(d=a.getImmediateChild(c)),d!=null?u=e.filter.updateChild(a,c,d,ye(n),l,o):t.eventCache.getNode().hasChild(c)?u=e.filter.updateChild(a,c,q.EMPTY_NODE,ye(n),l,o):u=a,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Wl(r,Sr(t)),s.isLeafNode()&&(u=e.filter.updateFullNode(u,s,o)))}return s=t.serverCache.isFullyInitialized()||Hl(r,ue())!=null,ho(t,u,s,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Td(r.getIndex()),o=UM(r);this.processor_=m2(o);const s=n.serverCache,l=n.eventCache,a=i.updateFullNode(q.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(q.EMPTY_NODE,l.getNode(),null),c=new zn(a,s.isFullyInitialized(),i.filtersNodes()),d=new zn(u,l.isFullyInitialized(),o.filtersNodes());this.viewCache_=ma(d,c),this.eventGenerator_=new QM(this.query_)}get query(){return this.query_}}function E2(e){return e.viewCache_.serverCache.getNode()}function T2(e){return Vl(e.viewCache_)}function k2(e,t){const n=Sr(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!te(t)&&!n.getImmediateChild(oe(t)).isEmpty())?n.getChild(t):null}function Jm(e){return e.eventRegistrations_.length===0}function N2(e,t){e.eventRegistrations_.push(t)}function eg(e,t,n){const r=[];if(n){F(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){const s=e.eventRegistrations_[o];if(!s.matches(t))i.push(s);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function tg(e,t,n,r){t.type===Ut.MERGE&&t.source.queryId!==null&&(F(Sr(e.viewCache_),"We should always have a full cache before handling merges"),F(Vl(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=v2(e.processor_,i,t,n,r);return g2(e.processor_,o.viewCache),F(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,w_(e,o.changes,o.viewCache.eventCache.getNode(),null)}function M2(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ne,(o,s)=>{r.push(yi(o,s))}),n.isFullyInitialized()&&r.push(u_(n.getNode())),w_(e,r,n.getNode(),t)}function w_(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return qM(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yl;class S_{constructor(){this.views=new Map}}function I2(e){F(!Yl,"__referenceConstructor has already been defined"),Yl=e}function R2(){return F(Yl,"Reference.ts has not been loaded"),Yl}function D2(e){return e.views.size===0}function Pd(e,t,n,r){const i=t.source.queryId;if(i!==null){const o=e.views.get(i);return F(o!=null,"SyncTree gave us an op for an invalid query."),tg(o,t,n,r)}else{let o=[];for(const s of e.views.values())o=o.concat(tg(s,t,n,r));return o}}function x_(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let l=Wl(n,i?r:null),a=!1;l?a=!0:r instanceof q?(l=Id(n,r),a=!1):(l=q.EMPTY_NODE,a=!1);const u=ma(new zn(l,a,!1),new zn(r,i,!1));return new C2(t,u)}return s}function P2(e,t,n,r,i,o){const s=x_(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),N2(s,n),M2(s,n)}function A2(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const l=Vn(e);if(i==="default")for(const[a,u]of e.views.entries())s=s.concat(eg(u,n,r)),Jm(u)&&(e.views.delete(a),u.query._queryParams.loadsAllData()||o.push(u.query));else{const a=e.views.get(i);a&&(s=s.concat(eg(a,n,r)),Jm(a)&&(e.views.delete(i),a.query._queryParams.loadsAllData()||o.push(a.query)))}return l&&!Vn(e)&&o.push(new(R2())(t._repo,t._path)),{removed:o,events:s}}function C_(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Ln(e,t){let n=null;for(const r of e.views.values())n=n||k2(r,t);return n}function E_(e,t){if(t._queryParams.loadsAllData())return va(e);{const r=t._queryIdentifier;return e.views.get(r)}}function T_(e,t){return E_(e,t)!=null}function Vn(e){return va(e)!=null}function va(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gl;function b2(e){F(!Gl,"__referenceConstructor has already been defined"),Gl=e}function O2(){return F(Gl,"Reference.ts has not been loaded"),Gl}let L2=1;class ng{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Se(null),this.pendingWriteTree_=f2(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function F2(e,t,n,r,i){return e2(e.pendingWriteTree_,t,n,r,i),i?us(e,new wr(f_(),t,n)):[]}function Zr(e,t,n=!1){const r=t2(e.pendingWriteTree_,t);if(n2(e.pendingWriteTree_,t)){let o=new Se(null);return r.snap!=null?o=o.set(ue(),!0):ht(r.children,s=>{o=o.set(new pe(s),!0)}),us(e,new zl(r.path,o,n))}else return[]}function as(e,t,n){return us(e,new wr(Nd(),t,n))}function $2(e,t,n){const r=Se.fromObject(n);return us(e,new Ho(Nd(),t,r))}function U2(e,t){return us(e,new Wo(Nd(),t))}function B2(e,t,n){const r=Ad(e,n);if(r){const i=bd(r),o=i.path,s=i.queryId,l=rt(o,t),a=new Wo(Md(s),l);return Od(e,o,a)}else return[]}function k_(e,t,n,r,i=!1){const o=t._path,s=e.syncPointTree_.get(o);let l=[];if(s&&(t._queryIdentifier==="default"||T_(s,t))){const a=A2(s,t,n,r);D2(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));const u=a.removed;if(l=a.events,!i){const c=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(f,h)=>Vn(h));if(c&&!d){const f=e.syncPointTree_.subtree(o);if(!f.isEmpty()){const h=H2(f);for(let v=0;v<h.length;++v){const y=h[v],w=y.query,m=D_(e,y);e.listenProvider_.startListening(mo(w),jo(e,w),m.hashFn,m.onComplete)}}}!d&&u.length>0&&!r&&(c?e.listenProvider_.stopListening(mo(t),null):u.forEach(f=>{const h=e.queryToTagMap.get(ya(f));e.listenProvider_.stopListening(mo(f),h)}))}j2(e,u)}return l}function N_(e,t,n,r){const i=Ad(e,r);if(i!=null){const o=bd(i),s=o.path,l=o.queryId,a=rt(s,t),u=new wr(Md(l),a,n);return Od(e,s,u)}else return[]}function z2(e,t,n,r){const i=Ad(e,r);if(i){const o=bd(i),s=o.path,l=o.queryId,a=rt(s,t),u=Se.fromObject(n),c=new Ho(Md(l),a,u);return Od(e,s,c)}else return[]}function V2(e,t,n,r=!1){const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(f,h)=>{const v=rt(f,i);o=o||Ln(h,v),s=s||Vn(h)});let l=e.syncPointTree_.get(i);l?(s=s||Vn(l),o=o||Ln(l,ue())):(l=new S_,e.syncPointTree_=e.syncPointTree_.set(i,l));let a;o!=null?a=!0:(a=!1,o=q.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((h,v)=>{const y=Ln(v,ue());y&&(o=o.updateImmediateChild(h,y))}));const u=T_(l,t);if(!u&&!t._queryParams.loadsAllData()){const f=ya(t);F(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=Y2();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}const c=ga(e.pendingWriteTree_,i);let d=P2(l,t,n,c,o,a);if(!u&&!s&&!r){const f=E_(l,t);d=d.concat(G2(e,t,f))}return d}function M_(e,t,n){const i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,l)=>{const a=rt(s,t),u=Ln(l,a);if(u)return u});return m_(i,t,o,n,!0)}function W2(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(u,c)=>{const d=rt(u,n);r=r||Ln(c,d)});let i=e.syncPointTree_.get(n);i?r=r||Ln(i,ue()):(i=new S_,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=r!=null,s=o?new zn(r,!0,!1):null,l=ga(e.pendingWriteTree_,t._path),a=x_(i,t,l,o?s.getNode():q.EMPTY_NODE,o);return T2(a)}function us(e,t){return I_(t,e.syncPointTree_,null,ga(e.pendingWriteTree_,ue()))}function I_(e,t,n,r){if(te(e.path))return R_(e,t,n,r);{const i=t.get(ue());n==null&&i!=null&&(n=Ln(i,ue()));let o=[];const s=oe(e.path),l=e.operationForChild(s),a=t.children.get(s);if(a&&l){const u=n?n.getImmediateChild(s):null,c=g_(r,s);o=o.concat(I_(l,a,u,c))}return i&&(o=o.concat(Pd(i,e,r,n))),o}}function R_(e,t,n,r){const i=t.get(ue());n==null&&i!=null&&(n=Ln(i,ue()));let o=[];return t.children.inorderTraversal((s,l)=>{const a=n?n.getImmediateChild(s):null,u=g_(r,s),c=e.operationForChild(s);c&&(o=o.concat(R_(c,l,a,u)))}),i&&(o=o.concat(Pd(i,e,r,n))),o}function D_(e,t){const n=t.query,r=jo(e,n);return{hashFn:()=>(E2(t)||q.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?B2(e,n._path,r):U2(e,n._path);{const o=UN(i,n);return k_(e,n,null,o)}}}}function jo(e,t){const n=ya(t);return e.queryToTagMap.get(n)}function ya(e){return e._path.toString()+"$"+e._queryIdentifier}function Ad(e,t){return e.tagToQueryMap.get(t)}function bd(e){const t=e.indexOf("$");return F(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new pe(e.substr(0,t))}}function Od(e,t,n){const r=e.syncPointTree_.get(t);F(r,"Missing sync point for query tag that we're tracking");const i=ga(e.pendingWriteTree_,t);return Pd(r,n,i,null)}function H2(e){return e.fold((t,n,r)=>{if(n&&Vn(n))return[va(n)];{let i=[];return n&&(i=C_(n)),ht(r,(o,s)=>{i=i.concat(s)}),i}})}function mo(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(O2())(e._repo,e._path):e}function j2(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=ya(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function Y2(){return L2++}function G2(e,t,n){const r=t._path,i=jo(e,t),o=D_(e,n),s=e.listenProvider_.startListening(mo(t),i,o.hashFn,o.onComplete),l=e.syncPointTree_.subtree(r);if(i)F(!Vn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,c,d)=>{if(!te(u)&&c&&Vn(c))return[va(c).query];{let f=[];return c&&(f=f.concat(C_(c).map(h=>h.query))),ht(d,(h,v)=>{f=f.concat(v)}),f}});for(let u=0;u<a.length;++u){const c=a[u];e.listenProvider_.stopListening(mo(c),jo(e,c))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new Ld(n)}node(){return this.node_}}class Fd{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Fe(this.path_,t);return new Fd(this.syncTree_,n)}node(){return M_(this.syncTree_,this.path_)}}const K2=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},rg=function(e,t,n){if(!e||typeof e!="object")return e;if(F(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return Q2(e[".sv"],t,n);if(typeof e[".sv"]=="object")return q2(e[".sv"],t);F(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},Q2=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:F(!1,"Unexpected server value: "+e)}},q2=function(e,t,n){e.hasOwnProperty("increment")||F(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&F(!1,"Unexpected increment value: "+r);const i=t.node();if(F(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},X2=function(e,t,n,r){return $d(t,new Fd(n,e),r)},Z2=function(e,t,n){return $d(e,new Ld(t),n)};function $d(e,t,n){const r=e.getPriority().val(),i=rg(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const s=e,l=rg(s.getValue(),t,n);return l!==s.getValue()||i!==s.getPriority().val()?new Ue(l,Ge(i)):e}else{const s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Ue(i))),s.forEachChild(Ne,(l,a)=>{const u=$d(a,t.getImmediateChild(l),n);u!==a&&(o=o.updateImmediateChild(l,u))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function Bd(e,t){let n=t instanceof pe?t:new pe(t),r=e,i=oe(n);for(;i!==null;){const o=vi(r.node.children,i)||{children:{},childCount:0};r=new Ud(i,r,o),n=ye(n),i=oe(n)}return r}function Ni(e){return e.node.value}function P_(e,t){e.node.value=t,Hc(e)}function A_(e){return e.node.childCount>0}function J2(e){return Ni(e)===void 0&&!A_(e)}function _a(e,t){ht(e.node.children,(n,r)=>{t(new Ud(n,e,r))})}function b_(e,t,n,r){n&&!r&&t(e),_a(e,i=>{b_(i,t,!0,r)}),n&&r&&t(e)}function eI(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function cs(e){return new pe(e.parent===null?e.name:cs(e.parent)+"/"+e.name)}function Hc(e){e.parent!==null&&tI(e.parent,e.name,e)}function tI(e,t,n){const r=J2(n),i=tn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Hc(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,Hc(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=/[\[\].#$\/\u0000-\u001F\u007F]/,rI=/[\[\].#$\u0000-\u001F\u007F]/,yu=10*1024*1024,zd=function(e){return typeof e=="string"&&e.length!==0&&!nI.test(e)},O_=function(e){return typeof e=="string"&&e.length!==0&&!rI.test(e)},iI=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),O_(e)},ig=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!vd(e)||e&&typeof e=="object"&&tn(e,".sv")},L_=function(e,t,n,r){r&&t===void 0||Vd(da(e,"value"),t,n)},Vd=function(e,t,n){const r=n instanceof pe?new _M(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Xn(r));if(typeof t=="function")throw new Error(e+"contains a function "+Xn(r)+" with contents = "+t.toString());if(vd(t))throw new Error(e+"contains "+t.toString()+" "+Xn(r));if(typeof t=="string"&&t.length>yu/3&&ha(t)>yu)throw new Error(e+"contains a string greater than "+yu+" utf8 bytes "+Xn(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,o=!1;if(ht(t,(s,l)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!zd(s)))throw new Error(e+" contains an invalid key ("+s+") "+Xn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);wM(r,s),Vd(e,l,r),SM(r)}),i&&o)throw new Error(e+' contains ".value" child '+Xn(r)+" in addition to actual children.")}},F_=function(e,t,n,r){if(!(r&&n===void 0)&&!zd(n))throw new Error(da(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Wd=function(e,t,n,r){if(!(r&&n===void 0)&&!O_(n))throw new Error(da(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},oI=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Wd(e,t,n,r)},sI=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!zd(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!iI(n))throw new Error(da(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function aI(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();n!==null&&!t_(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Yn(e,t,n){aI(e,n),uI(e,r=>$t(r,t)||$t(t,r))}function uI(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const o=i.path;t(o)?(cI(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function cI(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();sr&&Je("event: "+n.toString()),ss(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="repo_interrupt",dI=25;class hI{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new lI,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Bl(),this.transactionQueueTree_=new Ud,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function pI(e,t,n){if(e.stats_=wd(e.repoInfo_),e.forceRestClient_||WN())e.server_=new Ul(e.repoInfo_,(r,i,o,s)=>{og(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>sg(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Le(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new fn(e.repoInfo_,t,(r,i,o,s)=>{og(e,r,i,o,s)},r=>{sg(e,r)},r=>{gI(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=QN(e.repoInfo_,()=>new KM(e.stats_,e.server_)),e.infoData_=new WM,e.infoSyncTree_=new ng({startListening:(r,i,o,s)=>{let l=[];const a=e.infoData_.getNode(r._path);return a.isEmpty()||(l=as(e.infoSyncTree_,r._path,a),setTimeout(()=>{s("ok")},0)),l},stopListening:()=>{}}),Hd(e,"connected",!1),e.serverSyncTree_=new ng({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(l,a)=>{const u=s(l,a);Yn(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function mI(e){const n=e.infoData_.getNode(new pe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function $_(e){return K2({timestamp:mI(e)})}function og(e,t,n,r,i){e.dataUpdateCount++;const o=new pe(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const a=Al(n,u=>Ge(u));s=z2(e.serverSyncTree_,o,a,i)}else{const a=Ge(n);s=N_(e.serverSyncTree_,o,a,i)}else if(r){const a=Al(n,u=>Ge(u));s=$2(e.serverSyncTree_,o,a)}else{const a=Ge(n);s=as(e.serverSyncTree_,o,a)}let l=o;s.length>0&&(l=Gd(e,o)),Yn(e.eventQueue_,l,s)}function sg(e,t){Hd(e,"connected",t),t===!1&&_I(e)}function gI(e,t){ht(t,(n,r)=>{Hd(e,n,r)})}function Hd(e,t,n){const r=new pe("/.info/"+t),i=Ge(n);e.infoData_.updateSnapshot(r,i);const o=as(e.infoSyncTree_,r,i);Yn(e.eventQueue_,r,o)}function vI(e){return e.nextWriteId_++}function yI(e,t,n){const r=W2(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{const o=Ge(i).withIndex(t._queryParams.getIndex());V2(e.serverSyncTree_,t,n,!0);let s;if(t._queryParams.loadsAllData())s=as(e.serverSyncTree_,t._path,o);else{const l=jo(e.serverSyncTree_,t);s=N_(e.serverSyncTree_,t._path,o,l)}return Yn(e.eventQueue_,t._path,s),k_(e.serverSyncTree_,t,n,null,!0),o},i=>(jd(e,"get for query "+Le(t)+" failed: "+i),Promise.reject(new Error(i))))}function _I(e){jd(e,"onDisconnectEvents");const t=$_(e),n=Bl();Uc(e.onDisconnect_,ue(),(i,o)=>{const s=X2(i,o,e.serverSyncTree_,t);c_(n,i,s)});let r=[];Uc(n,ue(),(i,o)=>{r=r.concat(as(e.serverSyncTree_,i,o));const s=CI(e,i);Gd(e,s)}),e.onDisconnect_=Bl(),Yn(e.eventQueue_,ue(),r)}function wI(e){e.persistentConnection_&&e.persistentConnection_.interrupt(fI)}function jd(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Je(n,...t)}function U_(e,t,n){return M_(e.serverSyncTree_,t,n)||q.EMPTY_NODE}function Yd(e,t=e.transactionQueueTree_){if(t||wa(e,t),Ni(t)){const n=z_(e,t);F(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&SI(e,cs(t),n)}else A_(t)&&_a(t,n=>{Yd(e,n)})}function SI(e,t,n){const r=n.map(u=>u.currentWriteId),i=U_(e,t,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const c=n[u];F(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=rt(t,c.path);o=o.updateChild(d,c.currentOutputSnapshotRaw)}const l=o.val(!0),a=t;e.server_.put(a.toString(),l,u=>{jd(e,"transaction put response",{path:a.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(Zr(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();wa(e,Bd(e.transactionQueueTree_,t)),Yd(e,e.transactionQueueTree_),Yn(e.eventQueue_,t,c);for(let f=0;f<d.length;f++)ss(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{_t("transaction at "+a.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Gd(e,t)}},s)}function Gd(e,t){const n=B_(e,t),r=cs(n),i=z_(e,n);return xI(e,i,r),r}function xI(e,t,n){if(t.length===0)return;const r=[];let i=[];const s=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const a=t[l],u=rt(n,a.path);let c=!1,d;if(F(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)c=!0,d=a.abortReason,i=i.concat(Zr(e.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=dI)c=!0,d="maxretry",i=i.concat(Zr(e.serverSyncTree_,a.currentWriteId,!0));else{const f=U_(e,a.path,s);a.currentInputSnapshot=f;const h=t[l].update(f.val());if(h!==void 0){Vd("transaction failed: Data returned ",h,a.path);let v=Ge(h);typeof h=="object"&&h!=null&&tn(h,".priority")||(v=v.updatePriority(f.getPriority()));const w=a.currentWriteId,m=$_(e),p=Z2(v,f,m);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=p,a.currentWriteId=vI(e),s.splice(s.indexOf(w),1),i=i.concat(F2(e.serverSyncTree_,a.path,p,a.currentWriteId,a.applyLocally)),i=i.concat(Zr(e.serverSyncTree_,w,!0))}else c=!0,d="nodata",i=i.concat(Zr(e.serverSyncTree_,a.currentWriteId,!0))}Yn(e.eventQueue_,n,i),i=[],c&&(t[l].status=2,function(f){setTimeout(f,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(d==="nodata"?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(d),!1,null))))}wa(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)ss(r[l]);Yd(e,e.transactionQueueTree_)}function B_(e,t){let n,r=e.transactionQueueTree_;for(n=oe(t);n!==null&&Ni(r)===void 0;)r=Bd(r,n),t=ye(t),n=oe(t);return r}function z_(e,t){const n=[];return V_(e,t,n),n.sort((r,i)=>r.order-i.order),n}function V_(e,t,n){const r=Ni(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);_a(t,i=>{V_(e,i,n)})}function wa(e,t){const n=Ni(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,P_(t,n.length>0?n:void 0)}_a(t,r=>{wa(e,r)})}function CI(e,t){const n=cs(B_(e,t)),r=Bd(e.transactionQueueTree_,t);return eI(r,i=>{_u(e,i)}),_u(e,r),b_(r,i=>{_u(e,i)}),n}function _u(e,t){const n=Ni(t);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(F(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(F(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Zr(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?P_(t,void 0):n.length=o+1,Yn(e.eventQueue_,cs(t),i);for(let s=0;s<r.length;s++)ss(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function TI(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):_t(`Invalid query segment '${n}' in query '${e}'`)}return t}const lg=function(e,t){const n=kI(e),r=n.namespace;n.domain==="firebase.com"&&yr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&yr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||bN();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new YN(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new pe(n.pathString)}},kI=function(e){let t="",n="",r="",i="",o="",s=!0,l="https",a=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(l=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");c===-1&&(c=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=EI(e.substring(c,d)));const f=TI(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(s=l==="https"||l==="wss",a=parseInt(t.substring(u+1),10)):u=t.length;const h=t.slice(0,u);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:a,domain:n,subdomain:r,secure:s,scheme:l,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Le(this.snapshot.exportVal())}}class MI{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return F(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return te(this._path)?null:Zy(this._path)}get ref(){return new vn(this._repo,this._path)}get _queryIdentifier(){const t=jm(this._queryParams),n=yd(t);return n==="{}"?"default":n}get _queryObject(){return jm(this._queryParams)}isEqual(t){if(t=rs(t),!(t instanceof Mi))return!1;const n=this._repo===t._repo,r=t_(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+yM(this._path)}}function RI(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function Kd(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===lr){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==_r)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==Un)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===Ne){if(t!=null&&!ig(t)||n!=null&&!ig(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(F(e.getIndex()instanceof Ed||e.getIndex()===a_,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function W_(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class vn extends Mi{constructor(t,n){super(t,n,new kd,!1)}get parent(){const t=e_(this._path);return t===null?null:new vn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Yo{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new pe(t),r=jc(this.ref,t);return new Yo(this._node.getChild(n),r,Ne)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new Yo(i,jc(this.ref,r),Ne)))}hasChild(t){const n=new pe(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function DI(e,t){return e=rs(e),e._checkNotDeleted("ref"),t!==void 0?jc(e._root,t):e._root}function jc(e,t){return e=rs(e),oe(e._path)===null?oI("child","path",t,!1):Wd("child","path",t,!1),new vn(e._repo,Fe(e._path,t))}function PI(e){e=rs(e);const t=new II(()=>{}),n=new Qd(t);return yI(e._repo,e,n).then(r=>new Yo(r,new vn(e._repo,e._path),e._queryParams.getIndex()))}class Qd{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new NI("value",this,new Yo(t.snapshotNode,new vn(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new MI(this,t,n):null}matches(t){return t instanceof Qd?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class qd{}class AI extends qd{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){L_("endAt",this._value,t._path,!0);const n=zM(t._queryParams,this._value,this._key);if(W_(n),Kd(n),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Mi(t._repo,t._path,n,t._orderByCalled)}}function bI(e,t){return F_("endAt","key",t,!0),new AI(e,t)}class OI extends qd{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){L_("startAt",this._value,t._path,!0);const n=BM(t._queryParams,this._value,this._key);if(W_(n),Kd(n),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Mi(t._repo,t._path,n,t._orderByCalled)}}function LI(e=null,t){return F_("startAt","key",t,!0),new OI(e,t)}class FI extends qd{constructor(t){super(),this._path=t}_apply(t){RI(t,"orderByChild");const n=new pe(this._path);if(te(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Ed(n),i=VM(t._queryParams,r);return Kd(i),new Mi(t._repo,t._path,i,!0)}}function $I(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Wd("orderByChild","path",e,!1),new FI(e)}function UI(e,...t){let n=rs(e);for(const r of t)n=r._apply(n);return n}I2(vn);b2(vn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="FIREBASE_DATABASE_EMULATOR_HOST",Yc={};let zI=!1;function VI(e,t,n,r,i){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||yr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Je("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=lg(o,i),l=s.repoInfo,a,u;typeof process<"u"&&process.env&&(u=process.env[BI]),u?(a=!0,o=`http://${u}?ns=${l.namespace}`,s=lg(o,i),l=s.repoInfo):a=!s.repoInfo.secure;const c=i&&a?new Lc(Lc.OWNER):new jN(e.name,e.options,t);sI("Invalid Firebase Database URL",s),te(s.path)||yr("Database URL must point to the root of a Firebase Database (not including a child path).");const d=HI(l,e,c,new HN(e.name,n));return new jI(d,e)}function WI(e,t){const n=Yc[t];(!n||n[e.key]!==e)&&yr(`Database ${t}(${e.repoInfo_}) has already been deleted.`),wI(e),delete n[e.key]}function HI(e,t,n,r){let i=Yc[t.name];i||(i={},Yc[t.name]=i);let o=i[e.toURLString()];return o&&yr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new hI(e,zI,n,r),i[e.toURLString()]=o,o}class jI{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(pI(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new vn(this._repo,ue())),this._rootInternal}_delete(){return this._rootInternal!==null&&(WI(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&yr("Cannot call "+t+" on a deleted database.")}}function H_(e=_N(),t){return pN(e,"database").getImmediate({identifier:t})}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(e){IN(vN),Ol(new Fo("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return VI(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),li(Mm,Im,e),li(Mm,Im,"esm2017")}fn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};fn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};YI();function GI(e){const n=v=>{c(!0);const y=H_();let w=new Date,m=new Date,p,g;if(v=="today")w.setHours(6,0,0),m.setHours(23,59,59),p=w.getTime()/1e3,g=m.getTime()/1e3;else if(v=="yesterday")w.setHours(6,0,0),m.setHours(23,59,59),p=w.getTime()/1e3-86400,g=m.getTime()/1e3-86400;else return;const _=UI(DI(y,"/"+e.location),$I("time"),LI(p),bI(g));PI(_).then(C=>{r(C,v)})},r=(v,y)=>{if(v.exists()){const w=Object.values(v.val());y=="today"?s(w):a(w),c(!1)}},i=()=>[{label:"Today",data:o.map(y=>({time:new Date(y.time*1e3-252e5),busyness:y.busyness}))},{label:"Yesterday",data:l.map(y=>({time:new Date((y.time+86400)*1e3-252e5),busyness:y.busyness}))}],[o,s]=be.exports.useState([]),[l,a]=be.exports.useState([]),[u,c]=be.exports.useState(!0),d=be.exports.useMemo(()=>({getValue:v=>v.time,scaleType:"time"})),f=be.exports.useMemo(()=>[{getValue:v=>v.busyness}]),h=be.exports.useMemo(i);return be.exports.useEffect(()=>{n("today")},[e.location]),be.exports.useEffect(()=>{n("yesterday")},[e.location]),me("div",{className:"w-full h-60 mb-6 bg-slate-200 relative rounded-xl",children:[U("div",{className:"absolute top-2 left-2"}),U("button",{className:"w-6 h-6 text-slate-200 bg-slate-500 hover:bg-slate-600 rounded-xl absolute top-2 right-2",onClick:e.onClose,children:"x"}),U("h3",{className:"text-center text-slate-900 text-3xl",children:e.location}),U("div",{className:"h-40",children:u?U("p",{className:"w-full h-full text-center",children:"Loading..."}):U(rk,{options:{data:h,primaryAxis:d,secondaryAxes:f}})})]})}function KI(e){const t=()=>{fetch("https://waitz.io/live/ucsd").then(s=>s.json()).then(s=>{o(s.data)})},[n,r]=be.exports.useState(""),[i,o]=be.exports.useState({});return be.exports.useEffect(t,[]),me("div",{className:"App",children:[U("p",{className:"text-center text-slate-200 mb-6",children:"Click on a location to see a graph of today's occupancy versus yesterday's for that particular location."}),n&&U(GI,{location:n,onClose:()=>{r("")}}),U(mS,{data:i,onSelect:s=>{r(s)}})]})}var QI="firebase",qI="9.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */li(QI,qI,"app");const XI={apiKey:"AIzaSyCmZuLc6nIOTEfu2oMQVysIY3pryIUPbhI",authDomain:"ucsd-capacity-chart.firebaseapp.com",databaseURL:"https://ucsd-capacity-chart-default-rtdb.firebaseio.com",projectId:"ucsd-capacity-chart",storageBucket:"ucsd-capacity-chart.appspot.com",messagingSenderId:"618156047733",appId:"1:618156047733:web:0a890ae1fa31abd202a73c",measurementId:"G-0V5T1GBY6J"},ZI=yN(XI),JI=H_(ZI);wu.createRoot(document.getElementById("root")).render(U(G.StrictMode,{children:U(KI,{db:JI})}));
